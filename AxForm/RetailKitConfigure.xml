<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>RetailKitConfigure</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
[Form]
public class RetailKitConfigure extends FormRun
{
    EcoResProductMaster currentEcoResProductMaster;
    InventTable currentInventTable;
    RetailKit callerRetailKit;
    boolean shouldSwitchToEditMode;
    boolean isReleasedProduct;
    AmountCur extendedBasePrice;
    AmountCur extendedKitPrice;
    boolean updatePriceFlag;
    Map kitSubstitutesRecId;

}
]]></Source>
			</Method>
			<Method>
				<Name>close</Name>
				<Source><![CDATA[
    /// <summary>
    /// Saves the total kit price on closing of form.
    /// </summary>
    public void close()
    {
        // Enable configuring kits price only if the product selected is released
        if (isReleasedProduct)
        {
            ttsBegin;

            // Set the base sales price for the kit
            this.updateKitPrice();

            if (updatePriceFlag)
            {
                    BatchHeader batchHeader;
                    RetailKitConfigurePricesPerCompanyJob task;

                    task = new RetailKitConfigurePricesPerCompanyJob();
                    task.parmTotalKitPrice(totalExtendedKitPrice.realValue());
                    task.parmRetailKitRecId(callerRetailKit.RecId);
                    task.parmCompany(curExt());

                    batchHeader = BatchHeader::construct();
                    batchHeader.addTask(task);

                    // Need make the jobs critical to enable monitoring.
                    batchHeader.parmCritical(NoYes::Yes);
                    batchHeader.parmMonitoringCategory(BatchMonitoringCategory::RetailKitPricesPerCompanyJob);

                    batchHeader.save();
                    info("@Retail:KitConfigurePricesPerCompanyJobScheduled");
            }

            ttsCommit;
        }

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    public void init()
    {
        super();

        kitSubstitutesRecId = new Map(Types::Int64,Types::Int64);

        if (element.args().record() is EcoResProductMaster)
        {
            currentEcoResProductMaster = element.args().record();
            callerRetailKit = RetailKit::findByProductmaster(currentEcoResProductMaster.RecId);

            if (callerRetailKit.RecId == 0)
            {
               throw error(strFmt("@REX1346", formStr(EcoResProductDetails), tableStr(RetailKit)));
            }

            AssemblyOrderButtonGroup.visible(false);
            this.setApprovalButton(callerRetailKit.Status == RetailKitStatus::Approved);

            retailKitReleasedComponentPricing_ds.queryBuildDataSource().enabled(false);
            retailKitReleasedSubstituteCharge_ds.queryBuildDataSource().enabled(false);
            retailKitReleasedComponentPricing_ds.query().dataSourceTable(tableNum(RetailKitReleasedComponentPricing)).enabled(false);
            retailKitReleasedSubstituteCharge_ds.query().dataSourceTable(tableNum(RetailKitReleasedSubstituteCharge)).enabled(false);

            //Default buttons to 'edit' mode depending on status
            shouldSwitchToEditMode = !this.inViewMode();
            this.resetButtons();
        }

        if (element.args().record() is InventTable)
        {
            isReleasedProduct = true;
            currentInventTable = element.args().record();
            currentEcoResProductMaster = EcoResProductMaster::find(currentInventTable.Product);
            callerRetailKit = RetailKit::findByProductmaster(currentEcoResProductMaster.RecId);
            this.initPrices();
            this.setTotalKitPrice();
            this.setUIforReleasedProduct();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>initPrices</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initialize the prices once the form is loaded for first time and subsequent time
    /// </summary>
    private void initPrices()
    {
        InventTable                       componentInventTable;
        RetailKitReleasedComponentPricing currentRetailKitReleasedComponentPricing;
        RetailKitReleasedComponentPricing updateRetailKitReleasedComponentPricing;
        RetailKitComponent                kitComponent;
        EcoResDistinctProductVariant      ecoResDistinctProductVariant;
        InventTableModule                 inventTableModule;
        Qty                               convertedQty;
        real                              tmpTotalKitPrice;
        Price                             tmpBasePrice;

        updatePriceFlag = false;

        select kitComponent
            join  sum(KitPrice) from currentRetailKitReleasedComponentPricing
            group by kitComponent.Kit
            where kitComponent.Kit == callerRetailKit.RecId
                && currentRetailKitReleasedComponentPricing.KitComponent == kitComponent.RecId;

        tmpTotalKitPrice = currentRetailKitReleasedComponentPricing.KitPrice;

        while select kitComponent
            where  kitComponent.Kit == callerRetailKit.RecId
        outer join  BasePrice,KitPrice from currentRetailKitReleasedComponentPricing
            where currentRetailKitReleasedComponentPricing.KitComponent == kitComponent.RecId
        outer join ecoResDistinctProductVariant
                where ecoResDistinctProductVariant.RecId == kitComponent.Component
        {
            ttsbegin;

            if (ecoResDistinctProductVariant)
            {
                componentInventTable=InventTable::findByProductInCompany(ecoResDistinctProductVariant.ProductMaster,curext());
            }
            else
            {
                componentInventTable=InventTable::findByProductInCompany(kitComponent.Component,curext());
            }

            inventTableModule = InventTableModule::find(componentInventTable.ItemId,ModuleInventPurchSales::Sales);

            InventDimCombination inventDimCombination;

			select firstonly InventDimId from inventDimCombination
                where inventDimCombination.DistinctProductVariant == ecoResDistinctProductVariant.RecId;

            // if the unit of measure is not the default inventory unit of the item recalculate the quantity
            convertedQty = EcoResProductUnitConverter::convertForReleasedProduct(componentInventTable.ItemId,
																				 inventDimCombination.InventDimId,
																				 kitComponent.Quantity, 
																				 kitComponent.UnitOfMeasure, 
																				 UnitOfMeasure::findBySymbol(inventTableModule.UnitId).RecId, 
																				 NoYes::Yes);

            tmpBasePrice = inventTableModule.pcsPrice() * convertedQty;

            if (currentRetailKitReleasedComponentPricing)
            {
                select forupdate updateRetailKitReleasedComponentPricing where updateRetailKitReleasedComponentPricing.KitComponent == kitComponent.RecId;
                updateRetailKitReleasedComponentPricing.BasePrice = tmpBasePrice;
                updateRetailKitReleasedComponentPricing.update();
            }
            else
            {
                currentRetailKitReleasedComponentPricing.initValue();
                currentRetailKitReleasedComponentPricing.KitComponent = kitComponent.RecId;
                currentRetailKitReleasedComponentPricing.BasePrice = tmpBasePrice;
                currentRetailKitReleasedComponentPricing.insert();
            }

            ttscommit;

            extendedBasePrice += tmpBasePrice;
        }

        retailKitReleasedComponentPricing_ds.refresh();
        totalExtendedBasePrice.realValue(extendedBasePrice);
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshGrids</Name>
				<Source><![CDATA[
    public void refreshGrids()
    {
        retailKit_ds.executeQuery();
        retailKit_ds.refresh();
        retailKitComponent_ds.executeQuery();
        retailKitComponent_ds.refresh();
        this.resetButtons();
        this.setAssemblyOrderButton(retailKit.Status == RetailKitStatus::Approved);
        this.setApprovalButton(retailKit.Status == RetailKitStatus::Approved);
    }

]]></Source>
			</Method>
			<Method>
				<Name>resetButtons</Name>
				<Source><![CDATA[
    /// <summary>
    /// Toggles the button on the form based on the current retail kit definition.
    /// </summary>
    /// <remarks>
    /// This method should not be called by external callers.
    /// </remarks>
    public void resetButtons()
    {
        boolean isReadOnly;
        DialogButton dialogButton;
        boolean allowModifyConfiguration = true;

        // Don't allow editing approved kit configuration when the setting in 'Commerce shared configuration parameters' is disabled for editing.
        if (!RetailSharedConfigurationParameters::isEditApprovedKitConfigurationEnabled())
        {
            allowModifyConfiguration = !(RetailKit::hasVariants(callerRetailKit));
        }

        if (shouldSwitchToEditMode && !isReleasedProduct)
        {
            isReadOnly = RetailKitOrder::exist(callerRetailKit.RecId) || RetailKit::hasVariants(callerRetailKit);

            callerRetailKit = RetailKit::findByProductmaster(currentEcoResProductMaster.RecId, true);

            // When retail kit status is Approved for edit mode throws a popup.
            if (callerRetailKit.Status == RetailKitStatus::Approved)
            {
                dialogButton = Box::yesNo("@REX1148", DialogButton::No, "@REX1149");
                if (dialogButton == DialogButton::Yes)
                {
                    ttsbegin;
                    callerRetailKit.Status = RetailKitStatus::Draft;
                    callerRetailKit.update();
                    ttscommit;

                    retailKitComponent_ds.allowDelete(allowModifyConfiguration);
                    retailKitComponentSubstitute_ds.allowDelete(allowModifyConfiguration);
                    kitComponentsButtonGroup.enabled(allowModifyConfiguration);
                    removeSubstitute.enabled(allowModifyConfiguration);
                    kitComponentSubstitutesButtonGroup.enabled(true);
                    approveButton.enabled(true);
                    addSubstitute.enabled(true);
                    RetailKit_ds.reread();
                    RetailKit_ds.refresh();
                }
                else
                {
                    retailKitComponent_ds.allowDelete(false);
                    retailKitComponentSubstitute_ds.allowDelete(false);
                    kitComponentsButtonGroup.enabled(false);
                    kitComponentSubstitutesButtonGroup.enabled(false);
                    kitPriceButtonGroup.visible(true);
                    kitPriceButtonGroup.enabled(true);
                }
            }
            // In edit mode when retail kit status is Draft, components and component substitutes controls should be enable.
            else if (callerRetailKit.Status == RetailKitStatus::Draft)
            {
                retailKitComponent_ds.allowDelete(allowModifyConfiguration);
                retailKitComponentSubstitute_ds.allowDelete(allowModifyConfiguration);
                kitComponentsButtonGroup.enabled(allowModifyConfiguration);
                removeSubstitute.enabled(allowModifyConfiguration);
                kitComponentSubstitutesButtonGroup.enabled(true);
                approveButton.enabled(true);
                addSubstitute.enabled(true);
                RetailKit_ds.reread();
                RetailKit_ds.refresh();
            }
            // In edit mode for newly created retail kit, components and component substitutes controls should be enable.
            else
            {
                retailKitComponent_ds.allowDelete(!isReadOnly);
                retailKitComponentSubstitute_ds.allowDelete(!isReadOnly);
                kitComponentsButtonGroup.enabled(!isReadOnly);
                removeSubstitute.enabled(!isReadOnly);
                kitComponentSubstitutesButtonGroup.enabled(true);
                approveButton.enabled(true);
                addSubstitute.enabled(true);
            }
        }
        else
        {
            retailKitComponent_ds.allowDelete(false);
            retailKitComponentSubstitute_ds.allowDelete(false);
            kitComponentsButtonGroup.enabled(false);
            kitComponentSubstitutesButtonGroup.enabled(false);
            kitPriceButtonGroup.visible(true);
            kitPriceButtonGroup.enabled(true);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>setApprovalButton</Name>
				<Source><![CDATA[
    private void setApprovalButton(boolean setApproval)
    {
        approveButton.enabled(!setApproval);
    }

]]></Source>
			</Method>
			<Method>
				<Name>setAssemblyOrderButton</Name>
				<Source><![CDATA[
    private void setAssemblyOrderButton(boolean setAssemblyOrder)
    {
        AssemblyOrderButtonGroup.enabled(setAssemblyOrder);
    }

]]></Source>
			</Method>
			<Method>
				<Name>setTotalKitPrice</Name>
				<Source><![CDATA[
    /// <summary>
    /// Compute total kit price from components and set the total kit price
    /// </summary>
    /// <param name="modifiedComponentPricing">
    ///    The ID of the retail Kit Component record to update price.
    /// </param>
    public void setTotalKitPrice(RetailKitReleasedComponentPricing modifiedComponentPricing = null)
    {
        RetailKitReleasedComponentPricing localRetailKitReleasedComponentPricing;
        RetailKitComponent localRetailKitComponent;
        extendedKitPrice = 0;

        while select RecId,KitPrice from localRetailKitReleasedComponentPricing
            join  RecId from localRetailKitComponent
            where localRetailKitComponent.Kit == callerRetailKit.RecId &&
                localRetailKitReleasedComponentPricing.KitComponent == localRetailKitComponent.RecId
        {
            if (localRetailKitReleasedComponentPricing.RecId != modifiedComponentPricing.RecId)
            {
                extendedKitPrice += localRetailKitReleasedComponentPricing.KitPrice;
            }
            else
            {
                extendedKitPrice += modifiedComponentPricing.KitPrice;
            }
        }

        totalExtendedKitPrice.realValue(extendedKitPrice);
    }

]]></Source>
			</Method>
			<Method>
				<Name>setUIforReleasedProduct</Name>
				<Source><![CDATA[
    private void setUIforReleasedProduct()
    {
        EditApproveGroup.visible(false);
        GeneralTabPage.allowEdit(false);
        KitComponentsButtonGroup.visible(false);
        KitComponentSubstitutesButtonGroup.visible(false);
        SpecifyKitPriceMenuItemButton.visible(true);

        retailKitComponent_ds.allowDelete(false);
        retailKitComponentSubstitute_ds.allowDelete(false);

        // Enable component pricing
        retailKitComponent_Quantity.allowEdit(false);
        retailKitComponent_UnitOfMeasure.allowEdit(false);
        RetailKitComponentSubstitute_Quantity.allowEdit(false);
        RetailKitComponentSubstitute_UnitOfMeasure.allowEdit(false);
        retailKitComponentPricing_BasePrice.visible(true);
        retailKitComponentPricing_BasePrice.allowEdit(false);
        retailKitComponentPricing_KitPrice.visible(true);

        //Enable substitute charges
        retailKitComponentSubstituteCharge_SubstituteCharge.visible(true);
        extendedPriceGroup.visible(true);
    }

]]></Source>
			</Method>
			<Method>
				<Name>task</Name>
				<Source><![CDATA[
    public int task(int _taskId)
    {
        #Task

        int ret;
        DialogButton dialogButton;

        if (_taskId == #taskF5)
        {
            this.setTotalKitPrice();
        }
        else if (_taskId == #TaskEditRecord && this.inViewMode())
        {
            shouldSwitchToEditMode = true;
            element.resetButtons();
            this.setApprovedKitSubstituteRecIds();

            if (!RetailSharedConfigurationParameters::isEditApprovedKitConfigurationEnabled()
                && RetailKit::hasVariants(callerRetailKit))
            {
                warning("@Retail:RetailKitCannotModifyKitWhichHasVariantsWarning");
            }
        }
        else if (_taskId == #TaskEditRecord && !this.inViewMode())
        {
            shouldSwitchToEditMode = false;
            element.resetButtons();
        }

        ret = super(_taskId);

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateKitPrice</Name>
				<Source><![CDATA[
    /// <summary>
    /// Update kit price on released product kit
    /// </summary>
    private void updateKitPrice()
    {
        InventTable inventTable;
        InventTableModule inventTableModule;

        inventTable=InventTable::findByProductInCompany(retailKit.ProductMaster,curext());

        changecompany(curext())
        {
            select forupdate inventTableModule
                    where inventTableModule.ItemId == inventTable.ItemId &&
                    inventTableModule.ModuleType == ModuleInventPurchSales::Sales;
            if (inventTableModule.Price != extendedKitPrice)
            {
                updatePriceFlag = true;
                inventTableModule.Price = extendedKitPrice;
                inventTableModule.PriceQty = 1.0;
                inventTableModule.PriceUnit = 1.0;
                inventTableModule.update();
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>setApprovedKitSubstituteRecIds</Name>
				<Source><![CDATA[
    /// <summary>
    /// Store all the substitute RecIds of an approved kit.
    /// </summary>
    public void setApprovedKitSubstituteRecIds()
    {
        EcoResDistinctProductVariant kitVariant;
        RetailKitComponentSubstitute    currentRetailKitComponentSubstitute;
        RetailKitComponent  currentRetailKitComponent;

        select RecId from kitVariant
            where kitVariant.ProductMaster == callerRetailKit.ProductMaster;

        if (kitVariant.RecId)
        {
            while select RecId
                from currentRetailKitComponent where currentRetailKitComponent.Kit == callerRetailKit.Recid
                join RecId,SubstituteProduct from currentRetailKitComponentSubstitute
                where currentRetailKitComponentSubstitute.KitComponent == currentRetailKitComponent.RecId
            {
                kitSubstitutesRecId.insert(currentRetailKitComponentSubstitute.RecId, currentRetailKitComponentSubstitute.SubstituteProduct);
            }

            RetailKitComponent_UnitOfMeasure.allowEdit(false);
            RetailKitComponent_Quantity.allowEdit(false);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateEmptyUOMInKitComponentAndSubstitute</Name>
				<Source><![CDATA[
    /// <summary>
    /// Validates if <c>RetailKitComponent</c> and <c>RetailKitComponentSubstitute</c> have empty unit of measure.
    /// </summary>
    /// <remarks>
    /// This method is to validate empty unit of measure in kit component and substitute when product kit is approved.
    /// </remarks>
    /// <exception cref="Exception::Error">
    /// Throws exception if any empty unit of measure are found.
    /// </exception>
    private void validateEmptyUOMInKitComponentAndSubstitute()
    {
        RetailKitComponentSubstitute retailKitComponentSubstituteUOM;
        RetailKitComponent           retailKitComponentUOM;
        int64                        emptyUOM = 0, emptyUOMCount = 0;

        // Count component rows which have empty unit of measure.
        select count(RecId) from retailKitComponentUOM
            where retailKitComponentUOM.Kit == retailKit.RecId &&
                  retailKitComponentUOM.UnitOfMeasure == emptyUOM;

        emptyUOMCount += retailKitComponentUOM.RecId;

        // Count substitute rows which have empty unit of measure.
        select count(RecId) from retailKitComponentSubstituteUOM
            join recid from retailKitComponentUOM
                where retailKitComponentUOM.kit == retailKit.RecId &&
                      retailKitComponentSubstituteUOM.kitcomponent == retailKitComponentUOM.RecId &&
                      retailKitComponentSubstituteUOM.UnitOfMeasure == emptyUOM;

        emptyUOMCount += retailKitComponentSubstituteUOM.RecId;

        // If there are any empty unit of measure throw an error
        if (emptyUOMCount)
        {
            // Unit of measure must be filled in for all components and substitutes.
            throw error("@REX4520707");
        }
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>RetailKitComponentSubstitute</Name>
				<Methods>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret = true;

            // Substitute quantity can only be modified for newly added substitutes
            if (kitSubstitutesRecId.exists(retailKitComponentSubstitute.RecId))
            {
                Error("@REX4520729");
                ret = false;
            }
            return ret && super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;

            ret = super();

            boolean canDeleteSubstitue = true;

            if (!RetailSharedConfigurationParameters::isEditApprovedKitConfigurationEnabled())
            {
                canDeleteSubstitue = !(RetailKitVariantComponent::isComponentOrSubstituteIncludedInKitVariant(callerRetailKit, RetailKitComponentSubstitute.SubstituteProduct, RetailKitComponent.RecId));
            }

            removeSubstitute.enabled(canDeleteSubstitue);

            retailKitComponentSubstitute_ds.allowDelete(canDeleteSubstitue);

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>Kit_EcoResProductTranslation</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            EcoResProductTranslation::queryAddDefaultLanguage(this.query());
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>KitComponent_EcoResProductTranslation</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            EcoResProductTranslation::queryAddDefaultLanguage(this.query());
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>KitSubstitute_EcoResProductTranslation</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            EcoResProductTranslation::queryAddDefaultLanguage(this.query());
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailKitReleasedComponentPricing</Name>
				<Methods>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret=true;

            if (element.args().record() is InventTable)
            {
                if (!RetailParameters::find().JournalNameForKitPricing)
                {
                    warning("@REX4161201");
                    ret = false;
                }

                ret = ret && super();
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            if (element.args().record() is InventTable)
            {
                super();
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>KitPrice</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();
                element.settotalkitprice(retailKitReleasedComponentPricing);
            }

]]></Source>
							</Method>
							<Method>
								<Name>dataChanged</Name>
								<Source><![CDATA[
            public void dataChanged()
            {
                // set the updatePrice Flag if user made changes to the component's kitprice
                updatePriceFlag = true;
                super();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailKitReleasedSubstituteCharge</Name>
				<Methods>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret = true;

            // Charges should be written to table only in released products mode
            if (element.args().record() is InventTable)
            {
                if (!RetailParameters::find().JournalNameForKitPricing)
                {
                    warning("@REX4161201");
                    ret = false;
                }

                retailKitReleasedSubstituteCharge.KitComponentSubstitute = retailKitComponentSubstitute.RecId;
                ret = ret && super();
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>SubstituteCharge</DataField>
						<Methods>
							<Method>
								<Name>dataChanged</Name>
								<Source><![CDATA[
            public void dataChanged()
            {
                // set the updatePrice Flag if user made changes to the substitute's charge
                updatePriceFlag = true;
                super();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>ApproveButton</Name>
				<Type>CommandButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            DialogButton dialogButton;
            BatchHeader batchHeader;
            RetailKitConfigureApprovalJob task;

            // Validate if <c>RetailKitComponent</c> and <c>RetailKitComponentSubstitute</c> have valid unit of measure for approval.
            element.validateEmptyUOMInKitComponentAndSubstitute();

            dialogButton = Box::yesNo("@REX1150", DialogButton::No, "@REX1151");
            if (dialogButton == DialogButton::Yes)
            {
                if (RetailKit::hasComponents(retailKit.RecId))
                {
                      // Allow the user to schedule approval as a batch job
                        task = new RetailKitConfigureApprovalJob();
                        task.parmRetailKitRecId(retailKit.RecId);

                        batchHeader = BatchHeader::construct();
                        batchHeader.addTask(task);

                        // Need make the jobs critical to enable monitoring.
                        batchHeader.parmCritical(NoYes::Yes);
                        batchHeader.parmMonitoringCategory(BatchMonitoringCategory::RetailKitConfigureApprovalJob);

                        batchHeader.save();
                        info("@Retail:KitApprovalJobScheduled");

                        shouldSwitchToEditMode = false;
                }
                else
                {
                    throw error("@REX4161380");
                }
            }

            element.refreshGrids();
            element.resetButtons();

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddComponent</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            //super();
            FormRun         formRun;
            Args            args;
            MenuFunction    menuFunction;

            args = new Args();
            args.caller(element);
            args.parm('AddKitComponentsOnly');
            menuFunction = new MenuFunction(menuitemDisplayStr(RetailAddProductsVariants), MenuItemType::Display);

            formRun = menuFunction.create(args);
            formRun.parmRetailKit(retailKit);
            formRun.run();
            formRun.wait();
            retailKitComponent_ds.executeQuery();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddSubstitute</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            FormRun         formRun;
            Args            args;
            MenuFunction    menuFunction;

            args = new Args();
            args.caller(element);
            args.parm('AddKitComponentSubstitutesOnly');
            menuFunction = new MenuFunction(menuitemDisplayStr(RetailAddProductsVariants), MenuItemType::Display);

            formRun = menuFunction.create(args);
            formRun.parmRetailKitComponent(retailKitComponent);
            formRun.run();
            formRun.wait();
            retailKitComponentSubstitute_ds.executeQuery();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<AllowPreLoading>No</AllowPreLoading>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>RetailKitComponent</Name>
			<Table>RetailKitComponent</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>Component</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DoNotShowAtRegister</DataField>
					<Visible>No</Visible>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Kit</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Quantity</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>UnitOfMeasure</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailKit</JoinSource>
			<AllowCreate>No</AllowCreate>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailKitComponentSubstitute</Name>
			<Table>RetailKitComponentSubstitute</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>KitComponent</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Quantity</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SubstituteProduct</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>UnitOfMeasure</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailKitComponent</JoinSource>
			<AllowCreate>No</AllowCreate>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>Kit_EcoResProductTranslation</Name>
			<Table>EcoResProductTranslation</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LanguageId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>EcoResProduct</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResProduct</Name>
			<Table>EcoResProduct</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisplayProductNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PdsCWProduct</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProductType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>relationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SearchName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<Index>DisplayProductNumberIdx</Index>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>EcoResProduct_EcoResProductMaster</Name>
					<Table>EcoResProductMaster</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailColorGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailSizeGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailStyleGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>VariantConfigurationTechnology</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>EcoResProduct_EcoResDistinctProduct</Name>
					<Table>EcoResDistinctProduct</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources>
						<AxFormDataSourceDerived>
							<Name>EcoResProduct_EcoResDistinctProductVariant</Name>
							<Table>EcoResDistinctProductVariant</Table>
							<Fields>
								<AxFormDataSourceField>
									<DataField>ProductMaster</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>RecId</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>RetaiTotalWeight</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>TableId</DataField>
								</AxFormDataSourceField>
							</Fields>
							<ReferencedDataSources />
							<DerivedDataSources />
						</AxFormDataSourceDerived>
					</DerivedDataSources>
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>KitComponent_EcoResProductTranslation</Name>
			<Table>EcoResProductTranslation</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LanguageId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>EcoResDistinctProduct</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResDistinctProduct</Name>
			<Table>EcoResDistinctProduct</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisplayProductNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PdsCWProduct</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProductType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>relationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SearchName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailKitComponent</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>EcoResDistinctProduct_EcoResDistinctProductVariant</Name>
					<Table>EcoResDistinctProductVariant</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>ProductMaster</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetaiTotalWeight</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>KitSubstitute_EcoResProductTranslation</Name>
			<Table>EcoResProductTranslation</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LanguageId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>KitSubstitutes_EcoResProduct</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>KitSubstitutes_EcoResProduct</Name>
			<Table>EcoResProduct</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisplayProductNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PdsCWProduct</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProductType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>relationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SearchName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailKitComponentSubstitute</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>KitSubstitutes_EcoResProduct_EcoResProductMaster</Name>
					<Table>EcoResProductMaster</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailColorGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailSizeGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailStyleGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>VariantConfigurationTechnology</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>KitSubstitutes_EcoResProduct_EcoResDistinctProduct</Name>
					<Table>EcoResDistinctProduct</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources>
						<AxFormDataSourceDerived>
							<Name>KitSubstitutes_EcoResProduct_EcoResDistinctProductVariant</Name>
							<Table>EcoResDistinctProductVariant</Table>
							<Fields>
								<AxFormDataSourceField>
									<DataField>ProductMaster</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>RecId</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>RetaiTotalWeight</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>TableId</DataField>
								</AxFormDataSourceField>
							</Fields>
							<ReferencedDataSources />
							<DerivedDataSources />
						</AxFormDataSourceDerived>
					</DerivedDataSources>
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailKit</Name>
			<Table>RetailKit</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisassemblyAtRegisterAllowed</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscontinueKit</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProductMaster</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>EcoResProduct_EcoResProductMaster</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailKitReleasedComponentPricing</Name>
			<Table>RetailKitReleasedComponentPricing</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>BasePrice</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>KitComponent</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>KitPrice</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailKitComponent</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<AllowCheck>No</AllowCheck>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailKitReleasedSubstituteCharge</Name>
			<Table>RetailKitReleasedSubstituteCharge</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>KitComponentSubstitute</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SubstituteCharge</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailKitComponentSubstitute</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@REX1119</Caption>
		<DataSource xmlns="">RetailKit</DataSource>
		<HeightMode xmlns="">SizeToContent</HeightMode>
		<Pattern xmlns="">SimpleDetails-FastTabsContainer</Pattern>
		<PatternVersion xmlns="">1.4</PatternVersion>
		<SetCompany xmlns="">No</SetCompany>
		<ShowDeleteButton xmlns="">No</ShowDeleteButton>
		<ShowNewButton xmlns="">No</ShowNewButton>
		<StatusBarStyle xmlns="">Simple</StatusBarStyle>
		<WidthMode xmlns="">SizeToAvailable</WidthMode>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>MainActionPane</Name>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>715827882</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>EditApproveGroup</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1073741822</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormCommandButtonControl">
								<Name>ApproveButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655763</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>CommandButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<MultiSelect>Yes</MultiSelect>
								<Primary>Yes</Primary>
								<SaveRecord>No</SaveRecord>
								<Text>@REX1107</Text>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
						<DataSource>RetailKit</DataSource>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>AssemblyOrderButtonGroup</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1610612733</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormDropDialogButtonControl">
								<Name>NewDropDialogButton</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>DropDialogButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
								<MenuItemName>RetailKitgeneAssemblyOrder</MenuItemName>
								<NormalImage>New</NormalImage>
								<OpenMode>New</OpenMode>
								<Primary>Yes</Primary>
								<ShowShortCut>No</ShowShortCut>
								<Text>@REX1318</Text>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<DataSource>RetailKit</DataSource>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>MainDetailsTab</Name>
				<AlignControl>No</AlignControl>
				<ElementPosition>1431655764</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>GeneralTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1073741822</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>KitIdentificationGroup</Name>
								<ElementPosition>858993458</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResProductTranslation_Name</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>715827882</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Name</DataField>
										<DataSource>Kit_EcoResProductTranslation</DataSource>
										<Label>@REX1131</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResProductTranslation_Description</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741823</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>Kit_EcoResProductTranslation</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>EcoResProductTranslation_Product</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ReferenceGroup</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>EcoResProductTranslation_Product_DisplayProductNumber</Name>
												<DataRelationPath>EcoResProduct</DataRelationPath>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
											</AxFormControl>
										</Controls>
										<DataSource>Kit_EcoResProductTranslation</DataSource>
										<Label>@SYS25589</Label>
										<ReferenceField>Product</ReferenceField>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>EcoResProduct_RetailKit_Status</Name>
										<AllowEdit>No</AllowEdit>
										<ElementPosition>1789569705</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Status</DataField>
										<DataSource>RetailKit</DataSource>
										<Label>@RET3070</Label>
										<Items />
									</AxFormControl>
								</Controls>
								<Caption>@SYS53631</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>KitUpdatesGroup</Name>
								<ElementPosition>1288490187</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormDateTimeControl">
										<Name>RetailKit_createdDateTime</Name>
										<AllowEdit>No</AllowEdit>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>DateTime</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>createdDateTime</DataField>
										<DataSource>RetailKit</DataSource>
										<Label>@REX4040026</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateTimeControl">
										<Name>RetailKit_modifiedDateTime</Name>
										<AllowEdit>No</AllowEdit>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>DateTime</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>modifiedDateTime</DataField>
										<DataSource>RetailKit</DataSource>
										<Label>@REX4040027</Label>
									</AxFormControl>
								</Controls>
								<Caption>@SYS13869</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>KitOptionsGroup</Name>
								<ElementPosition>1717986916</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>EcoResProduct_RetailKit_DisAssembleAtRegisterAllowed</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>DisassemblyAtRegisterAllowed</DataField>
										<DataSource>RetailKit</DataSource>
										<Label>@REX1133</Label>
										<Value>1</Value>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>EcoResProduct_RetailKit_DiscontinueKit</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612734</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>DiscontinueKit</DataField>
										<DataSource>RetailKit</DataSource>
										<Label>@REX1134</Label>
									</AxFormControl>
								</Controls>
								<Caption>@SYS119149</Caption>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS2952</Caption>
						<DataSource>RetailKit</DataSource>
						<FastTabExpanded>Yes</FastTabExpanded>
						<Scrollbars>Auto</Scrollbars>
						<Style>DetailsFormDetails</Style>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>KitComponentsTabPage</Name>
						<ElementPosition>1610612733</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>Custom</Pattern>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Width>0</Width>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>ComponentGroup</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<Width>0</Width>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneControl">
										<Name>ComponentActionPane</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPane</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Width>0</Width>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneTabControl">
												<Name>KitComponentActionPaneTab</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ActionPaneTab</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>KitComponentsButtonGroup</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Left>0</Left>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormButtonControl">
																<Name>AddComponent</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ConfigurationKey>Retail</ConfigurationKey>
																<ElementPosition>1073741822</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>Button</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<NormalImage>New</NormalImage>
																<Text>@SYS124603</Text>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormCommandButtonControl">
																<Name>RemoveComponent</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1610612733</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>CommandButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<Command>DeleteRecord</Command>
																<NeedsRecord>Yes</NeedsRecord>
																<NormalImage>Delete</NormalImage>
																<ShowShortCut>No</ShowShortCut>
																<Text>@SYS309739</Text>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>KitPriceButtonGroup</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1789569705</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Left>0</Left>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormMenuFunctionButtonControl">
																<Name>SpecifyKitPriceMenuItemButton</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1431655764</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>MenuFunctionButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<Visible>No</Visible>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<CopyCallerQuery>No</CopyCallerQuery>
																<DataSource>RetailKit</DataSource>
																<MenuItemName>RetailKitSpecifyPriceMenuItem</MenuItemName>
																<Text>@REX4160014</Text>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailKitComponent</DataSource>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<DataSource>RetailKitComponent</DataSource>
										<Style>Strip</Style>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGridControl">
										<Name>ComponentProductListGrid</Name>
										<ElementPosition>1431655763</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Grid</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>EcoResDistinctProduct_DisplayProductNumber</Name>
												<ElementPosition>386547054</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>DisplayProductNumber</DataField>
												<DataSource>EcoResDistinctProduct</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>KitComponent_EcoResProductTranslation_Name</Name>
												<AllowEdit>No</AllowEdit>
												<ElementPosition>579820581</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>Name</DataField>
												<DataSource>KitComponent_EcoResProductTranslation</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailKitComponent_Quantity</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>773094108</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>Quantity</DataField>
												<DataSource>RetailKitComponent</DataSource>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailKitComponent_UnitOfMeasure</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>966367636</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailKitComponent_UnitOfMeasure_Symbol</Name>
														<DataRelationPath>UnitOfMeasure</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailKitComponent</DataSource>
												<Label>@SYS190813</Label>
												<ReferenceField>UnitOfMeasure</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailKitComponentPricing_BasePrice</Name>
												<AllowEdit>No</AllowEdit>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1288490183</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<Visible>No</Visible>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>BasePrice</DataField>
												<DataSource>RetailKitReleasedComponentPricing</DataSource>
												<Label>@SYS25109</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailKitComponentPricing_KitPrice</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1610612730</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<Visible>No</Visible>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>KitPrice</DataField>
												<DataSource>RetailKitReleasedComponentPricing</DataSource>
												<Label>@REX4160793</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormCheckBoxControl">
												<Name>RetailKitComponent_DoNotShowAtRegister</Name>
												<ElementPosition>1932735279</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>CheckBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<Visible>No</Visible>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<BackgroundColor>WindowBackground</BackgroundColor>
												<DataField>DoNotShowAtRegister</DataField>
												<DataSource>RetailKitComponent</DataSource>
												<Label>@REX4040018</Label>
											</AxFormControl>
										</Controls>
										<DataSource>RetailKitComponent</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>ExtendedPriceGroup</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1789569704</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>TotalExtendedBasePrice</Name>
												<AllowEdit>No</AllowEdit>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Label>@REX4160705</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>TotalExtendedKitPrice</Name>
												<AllowEdit>No</AllowEdit>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1610612733</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Label>@REX4160016</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
										</Controls>
										<Columns>2</Columns>
										<RightMargin>0</RightMargin>
										<RightMarginMode>Fixed</RightMarginMode>
									</AxFormControl>
								</Controls>
								<Caption>@REX1109</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>SubstitutesGroup</Name>
								<ElementPosition>1610612733</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<Width>0</Width>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneControl">
										<Name>ComponentSubstitutesActionPane</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPane</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Width>0</Width>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneTabControl">
												<Name>KitComponentSubstitutesActionPaneTab</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ActionPaneTab</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>KitComponentSubstitutesButtonGroup</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Left>0</Left>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormButtonControl">
																<Name>AddSubstitute</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1073741822</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>Button</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<NormalImage>New</NormalImage>
																<Text>@SYS124603</Text>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormCommandButtonControl">
																<Name>RemoveSubstitute</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1610612733</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>CommandButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<Command>DeleteRecord</Command>
																<NeedsRecord>Yes</NeedsRecord>
																<NormalImage>Delete</NormalImage>
																<Text>@SYS309739</Text>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<DataSource>RetailKitComponentSubstitute</DataSource>
										<Style>Strip</Style>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGridControl">
										<Name>SubstitutesProductListGrid</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612734</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Grid</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Width>0</Width>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>KitSubstitutes_EcoResProduct_DisplayProductNumber</Name>
												<AllowEdit>No</AllowEdit>
												<ElementPosition>1073741823</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>DisplayProductNumber</DataField>
												<DataSource>KitSubstitutes_EcoResProduct</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>KitSubstitute_EcoResProductTranslation_Name</Name>
												<AllowEdit>No</AllowEdit>
												<ElementPosition>715827882</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>Name</DataField>
												<DataSource>KitSubstitute_EcoResProductTranslation</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailKitComponentSubstitute_Quantity</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1372003440</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>Quantity</DataField>
												<DataSource>RetailKitComponentSubstitute</DataSource>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailKitComponentSubstitute_UnitOfMeasure</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1670265057</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailKitComponentSubstitute_UnitOfMeasure_Symbol</Name>
														<DataRelationPath>UnitOfMeasure</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailKitComponentSubstitute</DataSource>
												<Label>@SYS190813</Label>
												<ReferenceField>UnitOfMeasure</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailKitComponentSubstituteCharge_SubstituteCharge</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1968526675</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<Visible>No</Visible>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>SubstituteCharge</DataField>
												<DataSource>RetailKitReleasedSubstituteCharge</DataSource>
												<Label>@SYS57840</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
										</Controls>
										<DataSource>RetailKitComponentSubstitute</DataSource>
									</AxFormControl>
								</Controls>
								<Caption>@REX1108</Caption>
							</AxFormControl>
						</Controls>
						<ArrangeWhen>Auto</ArrangeWhen>
						<Columns>2</Columns>
						<TopMargin>10</TopMargin>
						<TopMarginMode>Fixed</TopMarginMode>
						<Caption>@REX1120</Caption>
						<DataSource>RetailKitComponent</DataSource>
						<FastTabExpanded>Yes</FastTabExpanded>
						<Scrollbars>Auto</Scrollbars>
						<Style>DetailsFormDetails</Style>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<DataSource>RetailKit</DataSource>
				<Style>FastTabs</Style>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>