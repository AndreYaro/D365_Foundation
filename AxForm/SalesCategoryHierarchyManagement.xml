<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>SalesCategoryHierarchyManagement</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
    [Form]
    public class SalesCategoryHierarchyManagement extends FormRun
    {
        EcoResCategoryTreeDatasource    hierarchyTree;
        EcoResCategoryHierarchy         currentSalesCategoryHierarchy;

        dataAreaId                      selectedDataArea;
        CompanyInfo                     selectedLegalEntity;
        #EcoResCategoryDefaults
}
]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    void init()
    {
        super();

        #ISOCountryRegionCodes

        if (!EcoResCategoryHierarchy::find(EcoResCategoryHierarchyRole::getHierarchiesByRole(EcoResCategoryNamedHierarchyRole::Sales).CategoryHierarchy).RecId)
        {
            throw Global::error("@SYS342456");
        }
        currentSalesCategoryHierarchy = EcoResCategoryHierarchy::find(EcoResCategoryHierarchyRole::getHierarchiesByRole(EcoResCategoryNamedHierarchyRole::Sales).CategoryHierarchy);
        if (currentSalesCategoryHierarchy && currentSalesCategoryHierarchy.RecId)
        {
            element.initializeHelper();
        }

        selectedDataArea     = curext();
        selectedLegalEntity  = CompanyInfo::findDataArea(curext());

        buyingOrganization.value(CompanyInfo::findDataArea(selectedDataArea).RecId);

        GST_IN.visible(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]));
        TaxRateType.visible(TaxIntegrationUtils::isTaxInformationEnabled());
    }

]]></Source>
			</Method>
			<Method>
				<Name>initializeHelper</Name>
				<Source><![CDATA[
    void initializeHelper()
    {
        QueryBuildRange         range;
        EcoResCategory          root;
        EcoResCategoryLookupParameters lookupParameters = new EcoResCategoryLookupParameters(false, false, false);

        root = EcoResCategory::getRoot(currentSalesCategoryHierarchy.RecId);
        if (!root)
        {
            throw Global::error("@SYS134281");
        }

        range = ecoResCategoryHierarchy_ds.query().dataSourceTable(tableNum(EcoResCategoryHierarchy)).addRange(fieldNum(EcoResCategoryHierarchy, RecId));
        range.value( queryValue(currentSalesCategoryHierarchy.RecId ) );
        ecoResCategoryHierarchy_ds.executeQuery();

        range = ecoResCategory_ds.query().dataSourceTable(tableNum(EcoResCategory)).addRange(fieldNum(EcoResCategory, CategoryHierarchy));
        range.value( queryValue(currentSalesCategoryHierarchy.RecId ) );
        ecoResCategory_ds.executeQuery();

        hierarchyTree = new EcoResCategoryTreeDatasource(  ecoResCategory_ds,
                                                           categoryTreeCtrl,
                                                           fieldNum(EcoResCategory, RecId),
                                                           fieldNum(EcoResCategory, ParentCategory),
                                                           fieldNum(EcoResCategory, Name),
                                                           false,
                                                           true,
                                                           fieldNum(EcoResCategory, Code),
                                                           currentSalesCategoryHierarchy,
                                                           ecoResCategoryHierarchy_ds,
                                                           lookupParameters);

        hierarchyTree.initRoot(root.Name, root.RecId, hierarchyTree.image() );
    }

]]></Source>
			</Method>
			<Method>
				<Name>lookupTaxGroup</Name>
				<Source><![CDATA[
    void lookupTaxGroup(FormControl _formControl)
    {
        Query                   query = new Query();
        SysTableLookup          sysTableLookup;

        sysTableLookup = SysTableLookup::newParameters(tableNum(TaxItemGroupHeading), _formControl);

        query.addDataSource(tableNum(TaxItemGroupHeading));

        sysTableLookup.addLookupfield(fieldNum(TaxItemGroupHeading, TaxItemGroup));
        sysTableLookup.addLookupfield(fieldNum(TaxItemGroupHeading, Name));
        sysTableLookup.parmQuery(query);

        sysTableLookup.performFormLookup();
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshItemSalesTaxCodeDataSourceQuery</Name>
				<Source><![CDATA[
    /// <summary>
    /// Rebuilds the query for the SalesCategoryItemTaxGroup datasource,
    /// </summary>
    public void refreshItemSalesTaxCodeDataSourceQuery()
    {
        QueryBuildDataSource qbdsItemSalesTaxGroup = salesCategoryItemTaxGroup_ds.query().dataSourceTable(tableNum(SalesCategoryItemTaxGroup));

        qbdsItemSalesTaxGroup.clearRanges();
        qbdsItemSalesTaxGroup.addRange(fieldNum(SalesCategoryItemTaxGroup,SalesCategory)).value(queryValue(ecoResCategory.RecId));
        qbdsItemSalesTaxGroup.addRange(fieldNum(SalesCategoryItemTaxGroup, TaxItemGroupDataAreaId)).value(selectedDataArea);

        if (selectedDataArea == '')
        {
            qbdsItemSalesTaxGroup.addRange(fieldNum(SalesCategoryItemTaxGroup,RecId)).value(queryValue(0));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>setTabPagesEnabled</Name>
				<Source><![CDATA[
    public void setTabPagesEnabled(boolean _enabled)
    {
        itemSalesTaxCodeTabPage.enabled(_enabled);
        itemSalesTaxCodeTabPage.fastTabExpanded(_enabled);
    }

]]></Source>
			</Method>
			<Method>
				<Name>task</Name>
				<Source><![CDATA[
    public int task(int _p1)
    {
        #Task
        int ret;
    
        ret = super(_p1);

        //Capture save task.
		//Call parent data source .reseach() method to save and refresh children data sources.
		if (_p1 == #taskSave)
        {
            ecoResCategory_ds.research();
        }

        return ret;
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>EcoResCategory</Name>
				<Methods>
					<Method>
						<Name>first</Name>
						<Source><![CDATA[
        public int first()
        {
            int ret;

            ret = hierarchyTree.first();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>last</Name>
						<Source><![CDATA[
        public int last()
        {
            int ret;

            ret = hierarchyTree.last();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>next</Name>
						<Source><![CDATA[
        public int next()
        {
            int ret;

            ret = hierarchyTree.next();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>prev</Name>
						<Source><![CDATA[
        public int prev()
        {
            int ret;

            ret = hierarchyTree.prev();

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>EcoResCategoryTranslation</Name>
				<Methods>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        public void executeQuery()
        {
            this.query().dataSourceTable(tableNum(EcoResCategoryTranslation)).addRange(fieldNum(EcoResCategoryTranslation, LanguageId)).value(LanguageTable::defaultLanguage());
            super();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>SalesCategoryItemTaxGroup</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            // If user deleted the text in the text box and if the record alreay exists then we disassociate
            if (strLen(strLRTrim(salesCategoryItemTaxGroup.TaxItemGroup)) == 0)
            {
                if (salesCategoryItemTaxGroup.RecId != 0)
                {
                    salesCategoryItemTaxGroup_ds.delete();
                    salesCategoryItemTaxGroup_ds.create();
                }
            }
            else
            {
                super();
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateDelete</Name>
						<Source><![CDATA[
        public boolean validateDelete()
        {
            boolean ret;

            ret = salesCategoryItemTaxGroup.validateDelete();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        public void executeQuery()
        {
            element.refreshItemSalesTaxCodeDataSourceQuery();
            super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret = true;

            if (salesCategoryItemTaxGroup.RecId == 0)
            {
                salesCategoryItemTaxGroup.SalesCategory            = ecoResCategory.RecId;
                salesCategoryItemTaxGroup.TaxItemGroupDataAreaId   = selectedDataArea;
            }

            if (salesCategoryItemTaxGroup.TaxItemGroup)
            {
                ret = super();
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();
            salesCategoryItemTaxGroup.SalesCategory            = ecoResCategory.RecId;

            changecompany(selectedDataArea)
            {
                salesCategoryItemTaxGroup.TaxItemGroupDataAreaId = appl.company().dataArea(tableNum(TaxItemGroupHeading));
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>TaxItemGroup</DataField>
						<Methods>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            public boolean validate()
            {
                boolean             ret = true;

                salesCategoryItemTaxGroup.TaxItemGroup = strLRTrim(salesCategoryItemTaxGroup.TaxItemGroup);

                if (salesCategoryItemTaxGroup.TaxItemGroup)
                {
                    changecompany(selectedLegalEntity.DataArea)
                    {
                        salesCategoryItemTaxGroup.TaxItemGroupDataAreaId = appl.company().dataArea(tableNum(TaxItemGroupHeading));

                        if (!TaxItemGroupHeading::exist(salesCategoryItemTaxGroup.TaxItemGroup))
                        {
                            ret = checkFailed(strFmt("@SYS112224", salesCategoryItemTaxGroup.TaxItemGroup, fieldPName(TaxItemGroupHeading, TaxItemGroup), tablePName(TaxItemGroupHeading)));
                        }
                    }
                }

                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>CategoryTreeCtrl</Name>
				<Type>Tree</Type>
				<Methods>
					<Method>
						<Name>expanded</Name>
						<Source><![CDATA[
        public void expanded(int _idx, FormTreeExpand _action, anytype _data)
        {
            super(_idx, _action, _data);
            if (hierarchyTree)
            {
                hierarchyTree.onExpanded(_Idx, _action);
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>expanding</Name>
						<Source><![CDATA[
        boolean expanding(int _idx, FormTreeExpand _action, anytype _data)
        {
            boolean ret = true;

            ret = super(_idx, _action, _data);

            if (hierarchyTree)
                hierarchyTree.expanding(_idx, _action, _data);

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>selectionChanged</Name>
						<Source><![CDATA[
        void selectionChanged(FormTreeItem oldItem, FormTreeItem newItem, FormTreeSelect how)
        {
            int root = this.getRoot();

            super(oldItem, newItem, how);

            if (hierarchyTree)
            {
                hierarchyTree.selectionChanged(oldItem, newItem);
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>selectionChanging</Name>
						<Source><![CDATA[
        public boolean selectionChanging(FormTreeItem _oldItem, FormTreeItem _newItem, FormTreeSelect _how)
        {
            boolean ret;

            ret = super(_oldItem, _newItem, _how);

            if (!ret && hierarchyTree)
            {
                ret = hierarchyTree.selectionChanging(_oldItem, _newItem, _how);
            }
            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>BuyingOrganization</Name>
				<Type>ReferenceGroup</Type>
				<Methods>
					<Method>
						<Name>lookupReference</Name>
						<Source><![CDATA[
        public Common lookupReference()
        {
            SysReferenceTableLookup sysTableLookup;
            Query                   query = new Query();
            QueryBuildDataSource    qbdsDirParty, qbdsCompanyInfo;

            qbdsDirParty    = query.addDataSource(tableNum(DirPartyTable));
            qbdsCompanyInfo = qbdsDirParty.addDataSource(tableNum(CompanyInfo));
            qbdsCompanyInfo.relations(false);
            qbdsCompanyInfo.addLink(fieldNum(CompanyInfo, RecId), fieldNum(DirPartyTable, RecId));
            qbdsCompanyInfo.joinMode(JoinMode::InnerJoin);

            sysTableLookup  = SysReferenceTableLookup::newParameters(tableNum(DirPartyTable), this);
            sysTableLookup.addLookupfield(fieldNum(DirPartyTable, Name));
            sysTableLookup.addLookupMethod(tableMethodStr(DirPartyTable, getDataAreaId));
            sysTableLookup.parmQuery(query);

            return sysTableLookup.performFormLookup();
        }

]]></Source>
					</Method>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
            SalesCategoryItemTaxGroup tmpSalesCategoryItemTaxGroup = null;

            ret = super();

            selectedLegalEntity = CompanyInfo::findRecId(this.value());
            selectedDataArea    = selectedLegalEntity.DataArea;

            if (selectedDataArea)
            {
                salesCategoryItemTaxGroup_ds.executeQuery();
            }

            element.setTabPagesEnabled(this.value() != 0);
            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>resolveReference</Name>
						<Source><![CDATA[
        public Common resolveReference()
        {
            Common          selectedRecord;
            DirPartyTable   dirPartyTable;
            CompanyInfo     companyInfo;
            DirPartyName    partyName;

            partyName = this.filterValue(AbsoluteFieldBinding::construct(fieldStr(DirPartyTable, Name), tableStr(DirPartyTable))).value();

            select count(RecId) from dirPartyTable
                join companyInfo
                    where companyInfo.RecId == dirPartyTable.RecId
                        && dirPartyTable.Name == partyName;

            if (dirPartyTable.RecId == 0)
            {
                // Assigning null to selectedRecord does not cause the kernel to receive a true NULL value, but rather
                // just an empty record. Return NULL directly so the kernel knows that the intent is to not clear the
                // selected value.
                return null;
            }
            else if (dirPartyTable.RecId > 1)
            {
                selectedRecord = this.lookupReference();
            }
            else
            {
                select firstonly * from dirPartyTable
                    join * from companyInfo
                        where companyInfo.RecId == dirPartyTable.RecId
                            && dirPartyTable.Name == partyName;

                selectedRecord = dirPartyTable;
            }

            return selectedRecord.RecId? selectedRecord : null;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>SalesCategoryItemTaxGroup_TaxItemGroup</Name>
				<Type>String</Type>
				<Methods>
					<Method>
						<Name>lookup</Name>
						<Source><![CDATA[
        public void lookup()
        {
            changecompany(selectedDataArea)
            {
                element.lookupTaxGroup(this);
            }
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>EcoResCategory</Name>
			<Table>EcoResCategory</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>CategoryHierarchy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ChangeStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Code</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DefaultProjectGlobalCategory</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DefaultThreshold_PSN</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsActive</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsCategoryAttributesInherited</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsTangible</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Level</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>NestedSetLeft</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>NestedSetRight</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ParentCategory</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PKWiUCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>relationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>EcoResCategory_PCClass</Name>
					<Table>PCClass</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ReuseEnabled</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResCategoryHierarchy</Name>
			<Table>EcoResCategoryHierarchy</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>createdBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HierarchyModifier</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResCategoryTranslation</Name>
			<Table>EcoResCategoryTranslation</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>Category</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FriendlyName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LanguageId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SearchText</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>EcoResCategory</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>SalesCategoryItemTaxGroup</Name>
			<Table>SalesCategoryItemTaxGroup</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SalesCategory</DataField>
					<Skip>Yes</Skip>
					<Visible>No</Visible>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TaxItemGroup</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TaxItemGroupDataAreaId</DataField>
					<Skip>Yes</Skip>
					<Visible>No</Visible>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>EcoResCategory</JoinSource>
			<LinkType>Active</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResCategoryTax</Name>
			<Table>EcoResCategoryTax</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResCategory</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Exempt_IN</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HSNCodeTable_IN</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>NonGST_IN</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ServiceAccountingCodeTable_IN</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TaxRateType</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>EcoResCategory</JoinSource>
			<LinkType>Active</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@SYS336341</Caption>
		<DataSource xmlns="">EcoResCategoryHierarchy</DataSource>
		<Pattern xmlns="">SimpleListDetails-Tree</Pattern>
		<PatternVersion xmlns="">1.3</PatternVersion>
		<SetCompany xmlns="">No</SetCompany>
		<ShowDeleteButton xmlns="">No</ShowDeleteButton>
		<ShowNewButton xmlns="">No</ShowNewButton>
		<Style xmlns="">SimpleListDetails</Style>
		<ViewEditMode xmlns="">Edit</ViewEditMode>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>ActionPane</Name>
				<ElementPosition>536870911</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>0</Width>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>ButtonGroup</Name>
						<ElementPosition>1431655764</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>EcoResCategoryHierarchyDetails</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<DataSource>EcoResCategoryHierarchy</DataSource>
								<MenuItemName>EcoResCategoryHierarchyDetails</MenuItemName>
								<OpenMode>Edit</OpenMode>
								<Primary>Yes</Primary>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>CategoryTreeGroup</Name>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>858993458</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>SizeToAvailable</HeightMode>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>300</Width>
				<WidthMode>Manual</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTreeControl">
						<Name>CategoryTreeCtrl</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1610612733</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>SizeToAvailable</HeightMode>
						<Type>Tree</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<FormControlExtension
							i:nil="true" />
					</AxFormControl>
				</Controls>
				<LeftMargin>5</LeftMargin>
				<LeftMarginMode>Fixed</LeftMarginMode>
				<RightMargin>0</RightMargin>
				<RightMarginMode>Fixed</RightMarginMode>
				<FrameType>None</FrameType>
				<Style>SidePanel</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>SplitterX</Name>
				<ElementPosition>1288490187</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Height>0</Height>
				<HeightMode>SizeToAvailable</HeightMode>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<WidthMode>Auto</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls />
				<AlignChild>No</AlignChild>
				<HideIfEmpty>No</HideIfEmpty>
				<BackgroundColor>WindowBackground</BackgroundColor>
				<Style>SplitterVerticalContainer</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>OrganizationGroup</Name>
				<ElementPosition>1073741822</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Pattern>FieldsFieldGroups</Pattern>
				<PatternVersion>1.1</PatternVersion>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<WidthMode>SizeToAvailable</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormReferenceGroupControl">
						<Name>BuyingOrganization</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1431655764</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HelpText>@SYS312153</HelpText>
						<Type>ReferenceGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>BuyingOrganization_Name</Name>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
							</AxFormControl>
						</Controls>
						<ExtendedDataType>DirPartyRecId</ExtendedDataType>
						<Label>@SYS312104</Label>
						<ReplacementFieldGroup>Name</ReplacementFieldGroup>
					</AxFormControl>
				</Controls>
				<ColumnsMode>Fill</ColumnsMode>
				<FrameType>None</FrameType>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>DetailsTab</Name>
				<AlignControl>No</AlignControl>
				<ElementPosition>1610612733</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>CategoryDetailsTab</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1073741822</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>GeneralGroup</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResCategory_Name</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>613566756</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Name</DataField>
										<DataSource>EcoResCategory</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResCategory_Code</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>920350134</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Code</DataField>
										<DataSource>EcoResCategory</DataSource>
										<Label>@SYS136473</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>EcoResCategory_IsActive</Name>
										<ElementPosition>1227133512</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>IsActive</DataField>
										<DataSource>EcoResCategory</DataSource>
										<Items />
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>DateGroup</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormDateTimeControl">
										<Name>EcoResCategory_activatedDateTime</Name>
										<ElementPosition>1533916890</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>DateTime</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>createdDateTime</DataField>
										<DataSource>EcoResCategory</DataSource>
										<Label>@SYS301880</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateTimeControl">
										<Name>EcoResCategory_modifiedDateTime</Name>
										<ElementPosition>1840700268</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>DateTime</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>modifiedDateTime</DataField>
										<DataSource>EcoResCategory</DataSource>
										<Label>@SYS301879</Label>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>TangibleGroup</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>EcoResCategory_IsTangible</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>IsTangible</DataField>
										<DataSource>EcoResCategory</DataSource>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>CategoryTranslationGroup</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResCategoryTranslation_FriendlyName</Name>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>FriendlyName</DataField>
										<DataSource>EcoResCategoryTranslation</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResCategoryTranslation_Description</Name>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>EcoResCategoryTranslation</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>EcoResCategoryTranslation_SearchText</Name>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>SearchText</DataField>
										<DataSource>EcoResCategoryTranslation</DataSource>
										<Label>@SYS73907</Label>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<BackgroundColor>WindowBackground</BackgroundColor>
						<Caption>@SYS134287</Caption>
						<DataSource>EcoResCategoryHierarchy</DataSource>
						<FastTabExpanded>Yes</FastTabExpanded>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>ItemSalesTaxCodeTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1610612733</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>SalesCategoryItemTaxGroup_TaxItemGroup</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<DataField>TaxItemGroup</DataField>
								<DataSource>SalesCategoryItemTaxGroup</DataSource>
							</AxFormControl>
						</Controls>
						<AlignChild>No</AlignChild>
						<ColumnsMode>Fill</ColumnsMode>
						<BackgroundColor>WindowBackground</BackgroundColor>
						<Caption>@SYS319099</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>TaxInformation</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1610612733</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>GST_IN</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>GST_IN_HSNCodeTable_IN</Name>
										<Type>ReferenceGroup</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls />
										<DataSource>EcoResCategoryTax</DataSource>
										<ReferenceField>HSNCodeTable_IN</ReferenceField>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>GST_IN_ServiceAccountingCodeTable_IN</Name>
										<Type>ReferenceGroup</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls />
										<DataSource>EcoResCategoryTax</DataSource>
										<ReferenceField>ServiceAccountingCodeTable_IN</ReferenceField>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>GST_IN_Exempt_IN</Name>
										<Type>CheckBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>Exempt_IN</DataField>
										<DataSource>EcoResCategoryTax</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>GST_IN_NonGST_IN</Name>
										<Type>CheckBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>NonGST_IN</DataField>
										<DataSource>EcoResCategoryTax</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>GST_IN</DataGroup>
								<DataSource>EcoResCategoryTax</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>TaxRateType</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>TaxRateType_TaxRateType</Name>
										<Type>ReferenceGroup</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls />
										<DataSource>EcoResCategoryTax</DataSource>
										<ReferenceField>TaxRateType</ReferenceField>
									</AxFormControl>
								</Controls>
								<DataGroup>TaxRateType</DataGroup>
								<DataSource>EcoResCategoryTax</DataSource>
							</AxFormControl>
						</Controls>
						<AlignChild>No</AlignChild>
						<ColumnsMode>Fill</ColumnsMode>
						<BackgroundColor>WindowBackground</BackgroundColor>
						<Caption>@SYS33652</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<Style>FastTabs</Style>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>