<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>ProjJournalTable</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
[Form]
public class ProjJournalTable extends FormRun implements OfficeITemplateCustomExporter, LedgerIJournalForm
{
    #isoCountryRegionCodes
    #localmacro.BegBalJournalHelpTopic "AxShared.chm::/html/c8297f79-20c8-489f-b63d-d337499f6bf0.htm" #endmacro
    #localmacro.FeeJournalHelpTopic "AxShared.chm::/html/52563e67-62c3-4ff7-8e84-1c832290ef3c.htm" #endmacro
    #localmacro.Zero "0" #endmacro

    ProjJournalFormTable journalFormTable;
    ProjParameters projParameters;
    TransDate dateFromCreationForm;
    boolean autoCreateJournals;
    int createNumOfJournals;
    int i;

	QueryBuildRange projJournalRecIdRange;
    QueryBuildRange resourceRange;

    NextPrevious nextPrevious;
    boolean inCreate;
    boolean inDelete;
    ProjTable projTable;
    ProjJournalType journalType;

    private boolean jouralSavedViewFlightEnabled = ProjJournalFormSavedViewFilterFlight::instance().isEnabled();

}
]]></Source>
			</Method>
			<Method>
				<Name>close</Name>
				<Source><![CDATA[
    void close()
    {
        journalFormTable.formClosePre();

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>enablAutoJournalCreation</Name>
				<Source><![CDATA[
    void enablAutoJournalCreation(NoYesId  _autoCreate)
    {
        autoCreateJournals = _autoCreate;
    }

]]></Source>
			</Method>
			<Method>
				<Name>customizeMenuOptions</Name>
				<Source><![CDATA[
    /// <summary>
    /// Customizes the options used to populate the Office Menu.
    /// </summary>
    /// <param name = "_menuOptions">The menu options to be customized.</param>
    public void customizeMenuOptions(OfficeMenuOptions _menuOptions)
    {
        // Clear the menu options which are driven by the root datasource of an entity.
        ListIterator dataEntityIterator = new ListIterator(_menuOptions.dataEntityOptions());

        while (dataEntityIterator.more())
        {
            dataEntityIterator.delete();
        }

        // Add the respective option for Hour, Fee and Beginning balance journals.
        SetEnumerator journalTemplateEnumerator = ProjectJournalExcelTemplate::getProjectJournalExcelTemplatesForJournalType(journalType).getEnumerator();

        while (journalTemplateEnumerator.moveNext())
        {
            DocuTemplate docuTemplate = DocuTemplate::findTemplate(OfficeAppApplicationType::Excel, journalTemplateEnumerator.current());

            if (docuTemplate)
            {
                OfficeTemplateExportMenuItem menuItem = OfficeTemplateExportMenuItem::constructWithDocuTemplate(docuTemplate, docuTemplate.TemplateID, curExt());
                _menuOptions.customMenuItems().addEnd(menuItem);
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateTemplateSettings</Name>
				<Source><![CDATA[
    /// <summary>
    /// Applies any updates to the settings contained within the template for the specified menu item.
    /// </summary>
    /// <param name="_menuItem">The menu item.</param>
    /// <param name="_settingsManager">The <see cref="SettingsManager"/> to use when performing the updates.</param>
    public void updateTemplateSettings(OfficeTemplateExportMenuItem _menuItem, Microsoft.Dynamics.Platform.Integration.Office.SettingsManager _settingsManager)
    {
        // No updates to the template settings are required.
    }

]]></Source>
			</Method>
			<Method>
				<Name>getInitialTemplateFilters</Name>
				<Source><![CDATA[
    /// <summary>
    /// Gets the set of initial filters to be applied to the template.
    /// </summary>
    /// <param name = "_menuItem">
    /// The menu item for the template to apply the filters to.
    /// </param>
    /// <returns>
    /// The Map of filters to apply keyed by AOT entity name.
    /// </returns>
    public Map getInitialTemplateFilters(OfficeTemplateExportMenuItem _menuItem)
    {
        ProjectIJournalExcelTemplate template = ProjectJournalExcelTemplate::constructForTemplateName(_menuItem.templateId());

        Map filtersToApply = ProjectJournalExcelTemplate::getFilterMapForTemplate(template, JournalFormTable.journalTable());

        return filtersToApply;
    }

]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    void init()
    {
        FormFunctionButtonControl createNewBttn;

        projParameters = ProjParameters::find();
        journalFormTable = new ProjJournalFormTable(element);

        if (element.args().parmEnumType() == enumNum(ProjJournalType))
        {
            journalType = element.args().parmEnum();
        }

        if (element.args().dataset() == tableNum(ProjTable))
        {
            projTable = element.args().record();
        }
        
        super();

        journalFormTable.parmCtrlAllOpenPosted(allOpenPosted);
        journalFormTable.parmCtrlJournalTypeGrid(projJournalTable_JournalType);
        journalFormTable.parmCtrlJournalIdTab(journalId);
        journalFormTable.parmCtrlJournalIdGrid(projJournalTable_JournalId);
        journalFormTable.parmCtrlOverview(gridOverview);
        journalFormTable.parmCtrlMarkUserBlock(markUserBlock);
        journalFormTable.parmCtrlMarkInUseBlock(markInUseBlock);
        journalFormTable.parmCtrlSystemBlocked(systemBlocked);
        journalFormTable.parmCtrlLines(lines);
        journalFormTable.parmCtrlCheckJournal(checkJournal);
        journalFormTable.parmCtrlCopy(projJournalCopy);
        journalFormTable.parmCtrlReverse(projJournalCopyReverse);
        journalFormTable.parmCtrlPostJournal(postJournal);
        journalFormTable.parmCtrlCreateNewHour(createNewHour);
        journalFormTable.parmCtrlCreateNewFee(createNewFee);
        journalFormTable.parmCtrlCreateNewBegBal(createNewBegBal);

        createNewBttn = journalFormTable.assignCtrlCreateNew(journalType);
        element.design().newRecordAction("createNewBttn");

        journalFormTable.parmCtrlInfolog(showInfolog);
        journalFormTable.parmCtrlBlockImage(blockImage);
        journalFormTable.parmCtrlInitTotals(null);      // changed when removing the button initTotal

        journalFormTable.parmCtrlVoucherDraw(voucherDraw);
        journalFormTable.parmCtrlVoucherChange(bilag_VoucherChange);

        journalFormTable.parmCtrlDeleted(posting_DeletePostedLines);
        journalFormTable.parmCtrlVoucherDate(voucherDate);

        journalFormTable.parmCtrlProjQty(projJournalTable_projQty);

        journalFormTable.parmCtrlSalesPrice(projJournalTable_salesPrice);
        journalFormTable.parmCtrlTabProjQty(tab_projQty);
        journalFormTable.parmCtrlTabSalesPrice(tab_salesPrice);

        journalFormTable.parmCtrlEmplPrint(emplPrint);
        journalFormTable.parmCtrlRevenuePrint(revenuePrint);
        journalFormTable.parmCtrlBegBalPrint(begBalPrint);

        // Code Ends
        journalFormTable.parmCtrlApprove(approve);
        journalFormTable.parmCtrlApproval(approval);
        journalFormTable.parmCtrlStatusNext(statusNext);
        journalFormTable.parmCtrlStatusPrevious(statusPrevious);

        journalFormTable.parmCtrlDefaultValues(defaultValues);
        journalFormTable.parmCtrlProjTransDate(projTransDate);

        journalFormTable.parmCtrlPostProjLedger(projLedgerUpdates);
        journalFormTable.parmCtrlPostPayroll(projLedgerUpdates_PostPayroll);
        journalFormTable.parmCtrlPostPL(projLedgerUpdates_PostPL);
        journalFormTable.parmCtrlPostWIP(projLedgerUpdates_PostWIP);

        journalFormTable.formInitPost();

        this.design().caption(journalFormTable.getCaption(journalType));
        projJournalTable_ds.insertIfEmpty(NoYes::No);

        SecurityRights sr = SecurityRights::construct();
        AccessRight accessRight = sr.menuItemAccessRight(SecurableType::MenuItemDisplay, journalFormTable.parmCtrlLines().menuItemName());

        switch (accessRight)
        {
            case AccessRight::NoAccess:
                journalFormTable.parmCtrlLines().visible(false);
                break;

            case AccessRight::View:
                journalFormTable.parmCtrlLines().openMode(OpenMode::View);
                break;

            default:
                journalFormTable.parmCtrlLines().openMode(OpenMode::Edit);
                break;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>journalForm</Name>
				<Source><![CDATA[
    JournalForm journalForm()
    {
        return journalFormTable;
    }

]]></Source>
			</Method>
			<Method>
				<Name>nextPrevious</Name>
				<Source><![CDATA[
    NextPrevious nextPrevious(NextPrevious _nextPrevious    = nextPrevious)
    {
        nextPrevious = _nextPrevious;

        return nextPrevious;
    }

]]></Source>
			</Method>
			<Method>
				<Name>numOfJournals</Name>
				<Source><![CDATA[
    void numOfJournals(int  _createNumOfJournals)
    {
        createNumOfJournals = _createNumOfJournals;
    }

]]></Source>
			</Method>
			<Method>
				<Name>setStartDate</Name>
				<Source><![CDATA[
    void setStartDate(TransDate  _startDate)
    {
        dateFromCreationForm = _startDate;
    }

]]></Source>
			</Method>
			<Method>
				<Name>openExcelTemplate</Name>
				<Source><![CDATA[
    /// <summary>
    /// Open the Excel template for the form
    /// </summary>
    /// <param name = "_excelTemplate">
    /// The <c>LedgerIJournalExcelTemplate</c> instance.
    /// </param>
    public void openExcelTemplate(ProjectIJournalExcelTemplate _excelTemplate)
    {
        if (_excelTemplate == null)
        {
            throw error(error::missingParameter(this));
        }

        DocuTemplate template = DocuTemplate::findTemplate(OfficeAppApplicationType::Excel, _excelTemplate.documentTemplateName());

        // Ensure the template was present
        if (template && template.TemplateID == _excelTemplate.documentTemplateName())
        {
            Map filtersToApply = ProjectJournalExcelTemplate::getFilterMapForTemplate(_excelTemplate, projJournalTable);

            DocuTemplateRender renderer = new DocuTemplateRender();
            str documentUrl = renderer.renderTemplateToStorage(template, filtersToApply);

            if (documentUrl)
            {
                Browser b = new Browser();
                b.navigate(documentUrl, false, false);
            }
            else
            {
                error(strFmt("@ApplicationFoundation:DocuTemplateGenerationFailed", _excelTemplate.documentTemplateName()));
            }
        }
        else
        {
            warning(strFmt("@ApplicationFoundation:DocuTemplateNotFound", _excelTemplate.documentTemplateName()));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>canUpdateJournalTable</Name>
				<Source><![CDATA[
    protected boolean canUpdateJournalTable()
    {
        return true;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateJournalTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Updates the project journal table
    /// </summary>
    private void updateJournalTable()
    {
        ProjJournalTable projJournalTableLoc;

        while select forupdate projJournalTableLoc
            where projJournalTableLoc.Posted == NoYes::No
        {
            JournalNumOfLines verifyJournalTableNumOfLines = projJournalTableLoc.NumOfLines;
            ProjQty verifyJournalTableQty = projJournalTableLoc.ProjQty;

            ProjJournalTable::initTotal(projJournalTableLoc);

            // If the total transaction number of lines or sum of quantity is not the same as the previously stored value, then update projJournalTable.
            if (verifyJournalTableNumOfLines != projJournalTableLoc.NumOfLines || verifyJournalTableQty != projJournalTableLoc.ProjQty)
            {
                ttsbegin;
                projJournalTableLoc.update();
                ttscommit;
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>activate</Name>
				<Source><![CDATA[
    /// <summary>
    /// Handles the event that fires when focus is given to the form.
    /// </summary>
    /// <param name="_active">
    /// true if active; otherwise, false.
    /// </param>
    public void activate(boolean _active)
    {
        super(_active);

        if (_active && (projJournalTable_ds.allowEdit() || baseDocument_IT_ds.allowEdit()))
        {
            this.applyJournalApprovalConfiguration();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>applyJournalApprovalConfiguration</Name>
				<Source><![CDATA[
    internal void applyJournalApprovalConfiguration()
    {
        if (!projJournalTable.isEditAllowedByJournalApproval())
        {
            if (projJournalTable_ds.allowEdit())
            {
                projJournalTable_ds.allowEdit(false);
            }
            if (baseDocument_IT_ds.allowEdit())
            {
                baseDocument_IT_ds.allowEdit(false);
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>queryFiltersChanged</Name>
				<Source><![CDATA[
    public void queryFiltersChanged()
    {
        super();

        if (ProjJournalFormSavedViewFilterFlight::instance().isEnabled() && projJournalTable_ds && projJournalTable_ds.queryRun())
        {
            Query savedQuery = projJournalTable_ds.queryRun().query();
            QueryBuildDataSource qbdsProjectJournalTable = savedQuery.dataSourceTable(tableNum(ProjJournalTable));
            QueryBuildRange qbrPosted = qbdsProjectJournalTable.findRange(fieldNum(ProjJournalTable, Posted));
            if (qbrPosted)
            {
                if (qbrPosted.enabled() && qbrPosted.value() == SysQuery::value(NoYes::Yes))
                {
                    AllOpenPosted.selection(enum2int(AllOpenPosted::Posted));
                }
                else if (qbrPosted.enabled() && qbrPosted.value() == SysQuery::value(NoYes::No))
                {
                    AllOpenPosted.selection(enum2int(AllOpenPosted::Open));
                }
                else
                {
                    AllOpenPosted.selection(enum2int(AllOpenPosted::All));
                }
            }
        }
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>ProjJournalTable</Name>
				<Methods>
					<Method>
						<Name>checkFeeJournalAccess</Name>
						<Source><![CDATA[
        /// <summary>
        /// This is a method that checks to see whether the Journal Form should open or not.
        /// </summary>
        /// <returns>
        /// True if the form should be opened, false if it should be cancelled.
        /// </returns>
        private boolean checkFeeJournalAccess()
        {
            boolean ret = true;
            switch (projTable.Type)
            {
                case ProjType::Cost:
                case ProjType::Internal:
                case ProjType::Investment:
                case ProjType::Time:
                    ret = checkFailed(strFmt("@GLS360167", projTable.Type));
                    break;
                case ProjType::None:
                    if (!ProjMultipleContractLinesForProjectFeatureHelper::getProjContractLineByContractIdTransType(projTable.ProjId, projTable.ProjInvoiceProjId, ProjTransType::Revenue))
                    {
                        ret = checkFailed("@Proj:FeeTransNotAllowedWithoutContractLineForFee");
                    }
                    break;
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>linkActive</Name>
						<Source><![CDATA[
        void linkActive()
        {
            journalFormTable.datasourceLinkActivePre();

            this.query().dataSourceTable(tableNum(ProjJournalTable)).clearDynalinks();

            super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>inUseBlock</Name>
						<Source><![CDATA[
        edit JournalMarkInUseBlock inUseBlock(boolean set, JournalTableMap _journalTable, JournalMarkInUseBlock _value)
        {
            return journalFormTable.datasourceMethodInUseBlock(set,_journalTable,_value);
        }

]]></Source>
					</Method>
					<Method>
						<Name>inUseUserId</Name>
						<Source><![CDATA[
        display JournalBlockInUseUserId inUseUserId(JournalTableMap _journalTable)
        {
            return journalFormTable.datasourceMethodInUseUserId(_journalTable);
        }

]]></Source>
					</Method>
					<Method>
						<Name>lockImage</Name>
						<Source><![CDATA[
        display container lockImage(ProjJournalTable _journalTable)
        {
            return journalFormTable.datasourceMethodLockImage(_journalTable);
        }

]]></Source>
					</Method>
					<Method>
						<Name>reread</Name>
						<Source><![CDATA[
        void reread()
        {
            super();

            journalFormTable.datasourceReReadPost();
        }

]]></Source>
					</Method>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        void create(boolean _append = false)
        {
            inCreate = true;

            ProjJournalName projJournalName = ProjJournalName::find(ProjJournalName::standardJournalName(journalFormTable.journalTypeId()));
            ProjJournalTable::validateStatusNameExistForUserAccessWhenCreatingProjectJournal(projJournalName.StatusNameId);

            if (allOpenPosted.selection() == AllOpenPosted::Posted)
            {
                allOpenPosted.selection(AllOpenPosted::Open);//set to "open"
                projJournalTable_ds.executeQuery();

                if (jouralSavedViewFlightEnabled)
                {
                    element.formCustomFilterChanged();
                }
            }

            if (!journalFormTable.datasourceCreatePre())
            {
                inCreate = false;
                return;
            }

            // Check if numbersequence exists
            super(_append);

            projJournalTable.initFromProjJournalName(projJournalName);
            projJournalTable.VoucherDateChange = projJournalName.VoucherDateChange;

            journalFormTable.datasourceCreatePost();
            inCreate = false;

            projJournalTable_ds.rereadReferenceDataSources();
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        boolean validateWrite()
        {
            boolean ret = super();

            ret = journalFormTable.datasourceValidateWritePost(ret);

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateDelete</Name>
						<Source><![CDATA[
        public boolean validateDelete()
        {
            boolean ret = super();

            ret = journalFormTable.datasourceValidateDeletePost(ret);

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>leave</Name>
						<Source><![CDATA[
        public boolean leave()
        {
            boolean ret = true;

            projJournalTable_ds.reread();
            projJournalTable_ds.refresh();
            if (!inCreate && !inDelete)
            {
                ret = journalFormTable.datasourceLeavePre();
            }

            ret = ret && super();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        void init()
        {
            super();

            journalFormTable.datasourceInitPost(projJournalTable);

            resourceRange = this.query().dataSourceNo(1).addRange(fieldNum(ProjJournalTable, Resource));
        }

]]></Source>
					</Method>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        void executeQuery()
        {
            journalFormTable.datasourceExecuteQueryPre();

            super();

            journalFormTable.datasourceExecuteQueryPost();

            if (element.canUpdateJournalTable())
            {
                element.updateJournalTable();
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        int active()
        {
            int ret;

            projJournalTable_ds.reread();
            projJournalTable_ds.refresh();
            journalFormTable.datasourceActivePre();

            ret = super();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        void delete()
        {
            try
            {
                inDelete = true;
                ttsbegin;

                super();

                journalFormTable.datasourceDeletePost();

                ttscommit;
                inDelete = false;
            }
            catch(Exception::Error)
            {
                inDelete = false;
                throw Exception::Error;
            }
            catch(Exception::UpdateConflict)
            {
                inDelete = false;
                throw Exception::UpdateConflict;
            }
            catch(Exception::CodeAccessSecurity)
            {
                inDelete = false;
                throw Exception::CodeAccessSecurity;
            }
            catch(Exception::UpdateConflictNotRecovered)
            {
                inDelete = false;
                throw Exception::UpdateConflictNotRecovered;
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        void write()
        {
            ttsbegin;

            super();

            journalFormTable.datasourceWritePost();

            ttscommit;
        }

]]></Source>
					</Method>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        void initValue()
        {
            // This will check to see if the appropriate project type is called. If it's not the Fee Journal link though
            // then this is skipped entirely. If it is, and checkFeeJournalAccess() returns false, then the form is closed.
            if (element.args().menuItemName() == menuitemDisplayStr(ProjJournalTableRevenue) && !this.checkFeeJournalAccess())
            {
                element.close();
                return;
            }

            super();

            journalFormTable.datasourceInitValuePost();

            if (HcmEmployment::findByWorkerLegalEntity(HcmWorkerLookup::currentWorker(), CompanyInfo::current(), DateTimeUtil::utcNow(), DateTimeUtil::utcNow()))
            {
                ResourceRecId defaultResource = ResourceFacade::findByWorker(HcmWorkerLookup::currentWorker());

                if (defaultResource && ResourceFacade::isResourceInCurrentCompany(defaultResource))
                {
                    ProjJournalTable.Resource = defaultResource;
                }
            }

            this.initProjCategoryFromJournalType();

            if (projTable)
            {
                if (projJournalTable.checkProjId())
                {
                    projJournalTable.ProjId = projTable.ProjId;
                }
                else
                {
                    projJournalTable.ProjId = "";
                }
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>initProjCategoryFromJournalType</Name>
						<Source><![CDATA[
        /// <summary>
        /// Initialize project category based on journal type and project settings.
        /// </summary>
        protected void initProjCategoryFromJournalType()
        {
            ProjCategoryId categoryId;

            if (projJournalTable.JournalType == ProjJournalType::Hour)
            {
                if (projJournalTable.Resource)
                {
                    categoryId = ResourceFacade::getDefaultTimeCategoryId(ProjJournalTable.Resource);
                }

                if (categoryId == '')
                {
                    categoryId = projParameters.EmplCategory;
                }
                projJournalTable.CategoryId = categoryId;
            }

            if (projJournalTable.JournalType == ProjJournalType::Revenue)
            {
                //Check if all conditions are met before setting CategoryId to default value
                ProjCategory tempCategory = ProjCategory::find(projParameters.RevenueCategory);
                if (!(tempCategory.PSACustPaymentRetention == NoYes::Yes 
                    || tempCategory.SetupSubscription == NoYes::Yes 
                    || tempCategory.SetupEstimate == NoYes::Yes
                    || tempCategory.Active == NoYes::No
                    || tempCategory.PSAIndirectComponent == NoYes::Yes))
                {
                    projJournalTable.CategoryId = projParameters.RevenueCategory;
                }
            }

            //
            // Indirect component categories can not be directly used on a journal.
            // Save of journal line will throw an error on category check if the value is used.
            // Clear value as this is a setup error.
            //
            if (ProjCategory::find(projJournalTable.CategoryId).PSAIndirectComponent)
            {
                projJournalTable.CategoryId = '';
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>selectionChanged</Name>
						<Source><![CDATA[
        public void selectionChanged()
        {
            super();

            if (this.allowEdit() || baseDocument_IT_ds.allowEdit())
            {
                element.applyJournalApprovalConfiguration();
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>BlockUserGroupId</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                journalFormTable.fieldModifiedBlockUserGroupId();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>JournalNameId</DataField>
						<Methods>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            boolean validate()
            {
                boolean ret = super();

                ret = journalFormTable.fieldValidateJournalNameIdPost(ret);

                return ret;
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                journalFormTable.fieldModifiedJournalNameIdPost();

                projJournalTable_ds.rereadReferenceDataSources();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>ProjId</DataField>
						<Methods>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            /// <summary>
            /// Validates if the beginning balance rule is defined for the project, in case of beginning balance journal.
            /// </summary>
            /// <returns>
            /// true if validated otherwise; false.
            /// </returns>

            public boolean validate()
            {
                boolean ret;

                if (projJournalTable.JournalType == ProjJournalType::BegBalance)
                {
                    if (!ProjTable::isBegBalRuleDefined(projJournalTable.ProjId))
                    {
                        warning(strFmt("@SYS134465",ProjTable::find(projJournalTable.ProjId).Stage()));
                        return false;
                    }
                }

                ret = super();

                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Resource</DataField>
						<Methods>
							<Method>
								<Name>resolveReference</Name>
								<Source><![CDATA[
            public Common resolveReference(FormReferenceControl _formReferenceControl)
            {
                ResourceView ret = super(_formReferenceControl);

                if (ret.RecId && !ResourceLookup::validateResource(ret.RecId, projJournalTable))
                {
                    ret = null;
                }

                return ret;
            }

]]></Source>
							</Method>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return ResourceLookup::lookupResource(_formReferenceControl, projJournalTable);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>SystemBlocked</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                journalFormTable.fieldModifiedSystemBlockedPost();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>BaseDocument_IT</Name>
				<Methods>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret = super();

            if (ret)
            {
                baseDocument_IT.enableFieldsDocumentType();
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIT]))
            {
                this.linkType(FormLinkType::Delayed);
            }

            super();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>CreateNewHour</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Checks if the default journal name is defined on for the journal.
        /// </summary>
        /// <remarks>
        /// If default journal is defined then assign menu item to the control to open respective lines form; otherwise, just
        /// create a new line on the journal form and returns.
        ///</remarks>
        void clicked()
        {
            if (!journalFormTable.buttonClickedCreateNewPre())
            {
                projJournalTable_ds.create();
                return;
            }

            super();

            journalFormTable.buttonClickedCreateNewPost();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>CreateNewFee</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Checks if the default journal name is defined for the journal.
        /// </summary>
        /// <remarks>
        /// If default journal is defined then assign menu item to the control to open respective lines form; otherwise, just
        /// create a new line on the journal form and returns.
        ///</remarks>
        void clicked()
        {
            if (!journalFormTable.buttonClickedCreateNewPre())
            {
                projJournalTable_ds.create();
                return;
            }

            super();

            journalFormTable.buttonClickedCreateNewPost();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>CreateNewBegBal</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Checks if the default journal name is defined for the journal.
        /// </summary>
        /// <remarks>
        /// If default journal is not defined then create a new line of datasource and returns.
        ///</remarks>
        void clicked()
        {
            if (!journalFormTable.buttonClickedCreateNewPre())
            {
                projJournalTable_ds.create();
                return;
            }

            journalFormTable.parmCtrlCreateNew().menuItemName(menuitemDisplayStr(ProjBegBalJournalTrans));

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>OpenLinesInExcel</Name>
				<Type>DropDialogButton</Type>
				<Methods>
					<Method>
						<Name>dialogClosed</Name>
						<Source><![CDATA[
        public void dialogClosed(xFormRun _formRun)
        {
            super(_formRun);

            ProjectIJournalExcelTemplateLookup lookupTemplate;

            if (_formRun.closedOk())
            {
                if (_formRun is ProjectIJournalExcelTemplateLookup)
                {
                    lookupTemplate = _formRun as ProjectIJournalExcelTemplateLookup;
                }
                else
                {
                    throw error(Error::wrongUseOfFunction(funcName()));
                }

                ProjectIJournalExcelTemplate journalTemplate = ProjectJournalExcelTemplate::constructForTemplateName(lookupTemplate.documentTemplateName());

                element.openExcelTemplate(journalTemplate);
            }
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>ProjJournalCopy</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            super();

            if (allOpenPosted.selection() == AllOpenPosted::Posted)
            {
                allOpenPosted.selection(AllOpenPosted::Open); //set to "open"
                projJournalTable_ds.executeQuery();

                if (jouralSavedViewFlightEnabled)
                {
                    element.formCustomFilterChanged();
                }
            }

            projJournalTable_ds.research();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>ProjJournalCopyReverse</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            super();

            if (allOpenPosted.selection() == AllOpenPosted::Posted)
            {
                allOpenPosted.selection(AllOpenPosted::Open); //set to "open"
                projJournalTable_ds.executeQuery();

                if (jouralSavedViewFlightEnabled)
                {
                    element.formCustomFilterChanged();
                }
            }

            projJournalTable_ds.research();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>Lines</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            if (projJournalTable.JournalType == ProjJournalType::BegBalance)
            {
                this.menuItemName(menuitemDisplayStr(ProjBegBalJournalTrans));
            }

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>PostJournal</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            if (projJournalTable.JournalType == ProjJournalType::BegBalance)
            {
                this.menuItemName(menuitemActionStr(ProjBegBalJournalPost));
            }

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>showInfolog</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            super();

            journalFormTable.buttonClickedShowInfolog();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AllOpenPosted</Name>
				<Type>ComboBox</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            int ret = super();

            journalFormTable.designSelectionChangeAllOpenPosted();

            if (jouralSavedViewFlightEnabled)
            {
                element.formCustomFilterChanged();
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>selectionChange</Name>
						<Source><![CDATA[
        public int selectionChange()
        {
            int ret = super();

            if (jouralSavedViewFlightEnabled)
            {
                element.formCustomFilterChanged();
            }
        
            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>ProjJournalTable_JournalNameId</Name>
				<Type>String</Type>
				<Methods>
					<Method>
						<Name>lookup</Name>
						<Source><![CDATA[
        void lookup()
        {
            journalFormTable.designLookupJournalName(this);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>JournalNameId</Name>
				<Type>String</Type>
				<Methods>
					<Method>
						<Name>lookup</Name>
						<Source><![CDATA[
        void lookup()
        {
            journalFormTable.designLookupJournalName(this);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>MarkUserBlock</Name>
				<Type>CheckBox</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        boolean modified()
        {
            boolean ret = super();

            journalFormTable.designModifiedMarkUserBlockPost();

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>ProjJournalTable</Name>
			<Table>ProjJournalTable</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>BlockUserGroupId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BlockUserId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CategoryId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DeletePostedLines</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DetailSummary</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>JournalId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>JournalIdOriginal</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>JournalNameId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>JournalType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LinePropertyId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>NumOfLines</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Posted</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PostedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PostedUserId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PostPayroll</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PostPL</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PostWIP</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProjId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProjQty</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProjTransDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PSAPeriodEnd</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PSAPeriodStart</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Resource</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SalesPrice</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SessionId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SessionLoginDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>StatusNameId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SystemBlocked</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TimesheetNbr</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Txt</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>VoucherChange</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>VoucherDateChange</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>VoucherDraw</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>VoucherNumberSequenceTable</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Worker</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>BaseDocument_IT</Name>
			<Table>BaseDocument_IT</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>CIPEcode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DocumentDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DocumentNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DocumentType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ItemNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LineNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OrderOrAgreementCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RefRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RefTableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TenderCode</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<DelayActive>No</DelayActive>
			<JoinSource>ProjJournalTable</JoinSource>
			<LinkType>Passive</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@SYS6790</Caption>
		<DataSource xmlns="">ProjJournalTable</DataSource>
		<Pattern xmlns="">Task</Pattern>
		<PatternVersion xmlns="">1.2</PatternVersion>
		<ShowDeleteButton xmlns="">No</ShowDeleteButton>
		<ShowNewButton xmlns="">No</ShowNewButton>
		<ViewEditMode xmlns="">Edit</ViewEditMode>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>ActionPane</Name>
				<ElementPosition>429496729</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>0</Width>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>ButtonGroup</Name>
						<ElementPosition>1610612733</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>CreateNewHour</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>715827882</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>JournalTableCreateNew</MenuItemName>
								<NormalImage>New</NormalImage>
								<Primary>Yes</Primary>
								<Text>@SYS2055</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>CreateNewFee</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741823</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>JournalTableCreateNew</MenuItemName>
								<NormalImage>New</NormalImage>
								<Text>@SYS2055</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>CreateNewBegBal</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>projbegbalJournalTrans</MenuItemName>
								<NormalImage>New</NormalImage>
								<Text>@SYS2055</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormCommandButtonControl">
								<Name>Delete</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1789569705</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>CommandButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Command>DeleteRecord</Command>
								<Primary>Yes</Primary>
								<SaveRecord>No</SaveRecord>
								<Text>@SYS14425</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormDropDialogButtonControl">
								<Name>OpenLinesInExcel</Name>
								<Type>DropDialogButton</Type>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>ProjectJournalExcelTemplateLookup</MenuItemName>
								<Text>@Proj:OpenInExcel</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ProjJournalCopy</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>357913940</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>projjournalcopy</MenuItemName>
								<MenuItemType>Action</MenuItemType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ProjJournalCopyReverse</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>536870910</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>ProjJournalCopyReverse</MenuItemName>
								<MenuItemType>Action</MenuItemType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>Lines</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>715827880</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>ProjJournalTransRevenue</MenuItemName>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>CheckJournal</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>894784850</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>ProjJournalCheck</MenuItemName>
								<MenuItemType>Action</MenuItemType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>PostJournal</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741820</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>ProjJournalPost</MenuItemName>
								<MenuItemType>Action</MenuItemType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormButtonControl">
								<Name>showInfolog</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1252698790</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<HelpText>@SYS85244</HelpText>
								<Type>Button</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<Text>@SYS2515</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuButtonControl">
								<Name>Approval</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655760</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>StatusPrevious</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>MenuFunctionButton</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<ButtonDisplay>TextOnly</ButtonDisplay>
										<DataSource>ProjJournalTable</DataSource>
										<MenuItemName>ProjJournalStatusPrevious</MenuItemName>
										<MenuItemType>Action</MenuItemType>
										<Text>@SYS50635</Text>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>StatusNext</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>MenuFunctionButton</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<ButtonDisplay>TextOnly</ButtonDisplay>
										<DataSource>ProjJournalTable</DataSource>
										<MenuItemName>ProjJournalStatusNext</MenuItemName>
										<MenuItemType>Action</MenuItemType>
										<Text>@SYS50618</Text>
									</AxFormControl>
								</Controls>
								<Big>Yes</Big>
								<Text>@SYS2453</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>EmplPrint</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1968526673</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>ProjJournalEmpl</MenuItemName>
								<MenuItemType>Output</MenuItemType>
								<Text>@SYS920</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>RevenuePrint</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1968526673</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>ProjJournalRevenue</MenuItemName>
								<MenuItemType>Output</MenuItemType>
								<Text>@SYS920</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>BegBalPrint</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1968526673</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>ProjJournalTable</DataSource>
								<MenuItemName>ProjBeginningBalances</MenuItemName>
								<MenuItemType>Output</MenuItemType>
								<Text>@SYS920</Text>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
						<Caption>@SYS2055</Caption>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>ShowView</Name>
				<ElementPosition>858993458</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Pattern>CustomFilters</Pattern>
				<PatternVersion>1.1</PatternVersion>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<WidthMode>SizeToAvailable</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormComboBoxControl">
						<Name>AllOpenPosted</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1073741822</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<Type>ComboBox</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<FormControlExtension
							i:nil="true" />
						<EnumType>AllOpenPosted</EnumType>
						<Items />
					</AxFormControl>
				</Controls>
				<ArrangeMethod>HorizontalLeft</ArrangeMethod>
				<FrameType>None</FrameType>
				<Style>CustomFilter</Style>
				<ViewEditMode>Edit</ViewEditMode>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>Tab</Name>
				<AlignControl>No</AlignControl>
				<ElementPosition>1288490187</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>Overview</Name>
						<ElementPosition>1073741823</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<Height>0</Height>
						<HeightMode>SizeToAvailable</HeightMode>
						<Pattern>ToolbarList</Pattern>
						<PatternVersion>1.2</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Width>0</Width>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGridControl">
								<Name>GridOverview</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Grid</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ProjJournalTable_JournalNameId</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>390451572</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalNameId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ProjJournalTable_JournalId</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>585677358</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ProjJournalTable_Description</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>780903144</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>ProjJournalTable_JournalType</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>976128930</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalType</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>ProjJournalTable_SalesPrice</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1171354716</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>SalesPrice</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>ProjJournalTable_projQty</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1366580502</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>ProjQty</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormIntegerControl">
										<Name>ProJournalTable_NumOfLines</Name>
										<ElementPosition>1561806288</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Integer</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>NumOfLines</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>ProjJournalTable_Posted</Name>
										<ElementPosition>1757032074</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataField>Posted</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormImageControl">
										<Name>BlockImage</Name>
										<AlignControl>No</AlignControl>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1952257860</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Height>12</Height>
										<HeightMode>Auto</HeightMode>
										<Type>Image</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Width>15</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<BackStyle>Transparent</BackStyle>
										<DataMethod>LockImage</DataMethod>
										<DataSource>ProjJournalTable</DataSource>
										<Imagemode>SizeToFit</Imagemode>
										<Label>@SYS10653</Label>
									</AxFormControl>
								</Controls>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
						</Controls>
						<Caption>@SYS9039</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>General</Name>
						<ElementPosition>1610612734</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Identification</Name>
								<ElementPosition>858993458</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>JournalId</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>536870910</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Skip>Yes</Skip>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>JournalType</Name>
										<ElementPosition>805306365</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalType</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>JournalNameId</Name>
										<ElementPosition>1073741820</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalNameId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Description</Name>
										<ElementPosition>1342177275</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Identification_TimesheetNbr</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>TimesheetNbr</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>Identification</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Voucher</Name>
								<ElementPosition>1288490187</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>VoucherNumberSequenceTable</Name>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ReferenceGroup</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>VoucherNumberSequenceTable_NumberSequence</Name>
												<DataRelationPath>NumberSequenceTable</DataRelationPath>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
											</AxFormControl>
										</Controls>
										<DataSource>ProjJournalTable</DataSource>
										<ReferenceField>VoucherNumberSequenceTable</ReferenceField>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>VoucherDraw</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>VoucherDraw</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>Bilag_VoucherChange</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>VoucherChange</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<Items />
									</AxFormControl>
								</Controls>
								<Caption>@SYS86923</Caption>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>VoucherDate</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1717986916</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>Group5_ProjJournalTransdateChange</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>VoucherDateChange</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<Items />
									</AxFormControl>
								</Controls>
								<DataGroup>VoucherDate</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Posting</Name>
								<ElementPosition>1073741823</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>Posting_DetailSummary</Name>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>DetailSummary</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>Posting_DeletePostedLines</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>DeletePostedLines</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>Posting</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>ProjLedgerUpdates</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>ProjLedgerUpdates_PostPayroll</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>PostPayroll</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>ProjLedgerUpdates_PostPL</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>PostPL</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>ProjLedgerUpdates_PostWIP</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>PostWIP</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>ProjLedgerUpdates</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Approve</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1789569705</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>StatusNameId</Name>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>StatusNameId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Status</Name>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Status</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>Approval</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>BaseDocument_IT</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>BaseDocument_IT_DocumentType</Name>
										<Type>ComboBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>DocumentType</DataField>
										<DataSource>BaseDocument_IT</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormIntegerControl">
										<Name>BaseDocument_IT_LineNumber</Name>
										<Type>Integer</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>LineNumber</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>BaseDocument_IT_DocumentNumber</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>DocumentNumber</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>BaseDocument_IT_DocumentDate</Name>
										<Type>Date</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>DocumentDate</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>BaseDocument_IT_ItemNumber</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>ItemNumber</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>BaseDocument_IT_OrderOrAgreementCode</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>OrderOrAgreementCode</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>BaseDocument_IT_CIPEcode</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>CIPEcode</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>BaseDocument_IT_TenderCode</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>TenderCode</DataField>
										<DataSource>BaseDocument_IT</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>BaseDocument</DataGroup>
								<DataSource>BaseDocument_IT</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS2952</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>DefaultValues</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1879048190</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Defaults</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>ProjTransDate</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>536870910</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ProjTransDate</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ProjId</Name>
										<ElementPosition>805306365</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ProjId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>CategoryId</Name>
										<ElementPosition>1073741820</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>CategoryId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>Defaults_Resource</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>ReferenceGroup</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls />
										<DataSource>ProjJournalTable</DataSource>
										<ReferenceField>Resource</ReferenceField>
										<ReplacementFieldGroup>ResourceId</ReplacementFieldGroup>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>LinePropertyId</Name>
										<ElementPosition>1610612730</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>LinePropertyId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Txt</Name>
										<ElementPosition>1879048185</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Txt</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS21682</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>Block</Name>
						<ElementPosition>2013265918</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>LeftGroup</Name>
								<ElementPosition>858993458</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>MarkInUseBlock</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>InUseBlock</DataMethod>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>MarkUserBlock</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Label>@SYS3324</Label>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>MiddleGroup</Name>
								<ElementPosition>1288490187</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>BlockInUseUserId</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>InUseUserId</DataMethod>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ProjJournalTable_BlockUserId1</Name>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>BlockUserId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>RightGroup</Name>
								<ElementPosition>1717986916</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>SystemBlocked</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>SystemBlocked</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ProjJournalTable_BlockUserGroupId</Name>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>BlockUserGroupId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS50247</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>History</Name>
						<ElementPosition>2080374782</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>HistoryGroup</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>Historik_Posted</Name>
										<ElementPosition>715827882</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Posted</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateTimeControl">
										<Name>HistoryGroup_PostedDateTime</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>DateTime</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>PostedDateTime</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Historik_PostedUserId</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>PostedUserId</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Historik_JournalIdOriginal</Name>
										<ElementPosition>1789569705</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>JournalIdOriginal</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>History</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Totals</Name>
								<ElementPosition>1610612733</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormIntegerControl">
										<Name>NumOfLines</Name>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Integer</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>NumOfLines</DataField>
										<DataSource>ProjJournalTable</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>Tab_ProjQty</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ProjQty</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>Tab_SalesPrice</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>SalesPrice</DataField>
										<DataSource>ProjJournalTable</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
								</Controls>
								<DataGroup>Totals</DataGroup>
								<DataSource>ProjJournalTable</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS10575</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<ArrangeMethod>Vertical</ArrangeMethod>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>