<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>RetailAssortmentDetails</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
[Form]
public class RetailAssortmentDetails extends FormRun implements SysIFilterConsumerForm, RetailIOperatingUnitPickerCaller, RetailIAddItemsCaller
{
    // Enum for Tab pages.
    #define.detailsTab  (1)
    #define.gridTab     (2)

    OmOperatingUnit         operatingUnit;
    Common                  callerRecord;
    QueryBuildRange         assortmentQBR;
    Map                     mapOfPreSelectedProducts;

}
]]></Source>
			</Method>
			<Method>
				<Name>getPickerInitParameters</Name>
				<Source><![CDATA[
    public RetailOperatingUnitPickerData getPickerInitParameters()
    {
        // no need to pass already selected orgs so we just pass the hierarchy purpose as an init parameter for the picker.
        return RetailOperatingUnitPickerData::createInstance(HierarchyPurpose::RetailAssortment);
    }

]]></Source>
			</Method>
			<Method>
				<Name>processOperatingUnitPickerData</Name>
				<Source><![CDATA[
    void processOperatingUnitPickerData(RetailOperatingUnitPickerData operatingUnitPickerData)
    {
        RecId _omHierarchyRecId = operatingUnitPickerData.omHierarchyTypeRecId;
        Set _selectedOMInternalOrganizationIds = operatingUnitPickerData.omInternalOrganizationRecIds;

        RecordInsertList recordInsertList = new RecordInsertList(tableNum(RetailAssortmentChannelLine));
        RetailAssortmentChannelLine assortmentChannelLine;

        SetEnumerator enumerators = _selectedOMInternalOrganizationIds.getEnumerator();
        while (enumerators.moveNext())
        {
            assortmentChannelLine.AssortmentRecId = RetailAssortmentTable.RecId;
            assortmentChannelLine.omHierarchyTypeId = _omHierarchyRecId;
            assortmentChannelLine.omInternalOrganizationId = enumerators.current();

            // Skip adding new channel line if it already exists in current assortment.
            if(!assortmentChannelLine.isChannelAlreadyAdded() || RetailMerchandisingKillSwitch::disableRestrictDuplicateChannelLinesInAssortments())
            {
                recordInsertList.add(assortmentChannelLine);
            }
        }

        if (_selectedOMInternalOrganizationIds.elements() > 0)
        {
            recordInsertList.insertDatabase();
            RetailAssortmentTable_ds.research(true);
        }

    }

]]></Source>
			</Method>
			<Method>
				<Name>getAddItemsInitParameters</Name>
				<Source><![CDATA[
    RetailAddItemsData getAddItemsInitParameters()
    {                
        TmpRetailProductsToAdd tmpProductsToAdd;

        mapOfPreSelectedProducts = RetailCreateLinesFromProductsToAdd::loadAssortmentLines(RetailAssortmentTable, tmpProductsToAdd); 

        RetailAddItemsData retailAddItemsData = RetailAddItemsData::createInstance(tmpProductsToAdd);
        
        retailAddItemsData.showAddProductsVariantsActionPane    = true;
        retailAddItemsData.showGlobalVariants                   = true;
        retailAddItemsData.showSelectedProductsGroup            = true;
        retailAddItemsData.showVariantColumn                    = true;
        retailAddItemsData.itemOrderSetupType                   = InventItemOrderSetupType::Invent;

        return retailAddItemsData;
    }

]]></Source>
			</Method>
			<Method>
				<Name>processSelectedProducts</Name>
				<Source><![CDATA[
    void processSelectedProducts(RetailAddItemsData _retailAddItemsData)
    {
        RetailAssortmentProductLine assortmentProductLine;

        assortmentProductLine.createFromTmpProductsToAdd(RetailAssortmentTable, _retailAddItemsData.tmpProductsToAdd, mapOfPreSelectedProducts);

        RetailAssortmentTable_ds.positionToRecord(RetailAssortmentTable::findRecId(RetailAssortmentTable.RecId));
        RetailAssortmentTable_ds.research(true);
    }

]]></Source>
			</Method>
			<Method>
				<Name>registerDatasourceOnQueryingEvent</Name>
				<Source><![CDATA[
    /// <summary>
    /// Register the data source to which the filter should be applied.
    /// </summary>
    public void registerDatasourceOnQueryingEvent()
    {
        // If this form is opened for creating a new record, make sure the parameter property of the menuitem used to open this form is set to "NoFilter".
        // propagating the caller filter in such scenario, could cause this form to hide  newly created record if it doesnt satisfy the filter.
        RetailAssortmentTable_DS.OnQueryExecuting += eventhandler(this.parmFilterFormQueryEventHandler().applyFilter);
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshGrids</Name>
				<Source><![CDATA[
    /// <summary>
    /// Refresh Assortment Status filter for RetailAssortmentChannelLine and RetailAssortmentProductLine.
    /// </summary>
    public void refreshGrids()
    {
        RetailAssortmentStatusType sourceAssortmentLineStatus;

        RetailAssortmentTable_DS.reread();

        // Clear range for Assortment Status
        RetailAssortmentChannelLine_ds.query().dataSourceTable(tableNum(RetailAssortmentChannelLine)).clearRange(fieldNum(RetailAssortmentChannelLine, Status));
        RetailAssortmentProductLine_ds.query().dataSourceTable(tableNum(RetailAssortmentProductLine)).clearRange(fieldNum(RetailAssortmentProductLine, Status));

        // If Assortment is expired, then use as Published status for RetailAssortmentChannelLine and RetailAssortmentProductLine.
        if (RetailAssortmentTable.Status == RetailAssortmentStatusType::Expired)
        {
            sourceAssortmentLineStatus = RetailAssortmentStatusType::Published;
        }
        else // Else use Assortment Status from RetailAssortmentTable.Status for RetailAssortmentChannelLine and RetailAssortmentProductLine.
        {
            sourceAssortmentLineStatus = RetailAssortmentTable.Status;
        }

        RetailAssortmentChannelLine_ds.query().dataSourceTable(tableNum(RetailAssortmentChannelLine)).addRange(fieldNum(RetailAssortmentChannelLine, Status)).value(queryValue(sourceAssortmentLineStatus));
        RetailAssortmentProductLine_ds.query().dataSourceTable(tableNum(RetailAssortmentProductLine)).addRange(fieldNum(RetailAssortmentProductLine, Status)).value(queryValue(sourceAssortmentLineStatus));

        RetailAssortmentChannelLine_ds.executeQuery();
        RetailAssortmentProductLine_ds.executeQuery();
    }

]]></Source>
			</Method>
			<Method>
				<Name>run</Name>
				<Source><![CDATA[
    public void run()
    {
        RetailAssortmentStatusType assortmentStatus;
        super();

        if (RetailAssortmentTable.Status == RetailAssortmentStatusType::Expired)
        {
            assortmentStatus = RetailAssortmentStatusType::Published;
        }
        else
        {
            assortmentStatus = RetailAssortmentTable.Status;
        }

        RetailAssortmentChannelLine_ds.query().dataSourceTable(tableNum(RetailAssortmentChannelLine)).addRange(fieldNum(RetailAssortmentChannelLine, Status)).value(queryValue(assortmentStatus));
        RetailAssortmentProductLine_ds.query().dataSourceTable(tableNum(RetailAssortmentProductLine)).addRange(fieldNum(RetailAssortmentProductLine, Status)).value(queryValue(assortmentStatus));
    }

]]></Source>
			</Method>
			<Method>
				<Name>task</Name>
				<Source><![CDATA[
    public int task(int _taskId)
    {
        #Task

        int ret;
        DialogButton dialogButton;

        if (_taskId == #TaskEditRecord && this.inViewMode())
        {
            RetailAssortmentTable_DS.reread();
            SecurityRights securityRights = SecurityRights::construct();
            AccessRight accessRight = securityRights.menuItemAccessRight(SecurableType::MenuItemDisplay, menuitemDisplayStr(RetailAssortmentGridView));

            if (RetailAssortmentTable.Status == RetailAssortmentStatusType::UnPublishing)
            {
                throw error("@Retail:RetailAssortmentCannotEditErrorMsg");
            }
            else if ((RetailAssortmentTable.Status == RetailAssortmentStatusType::Published ||
                     RetailAssortmentTable.Status == RetailAssortmentStatusType::Expired) && 
                     accessRight > AccessRight::View)
            {
                dialogButton = Box::yesNo("@RET260139", DialogButton::No, "@RET260134");
                if (dialogButton == DialogButton::Yes)
                {
                    RetailAssortmentTable_DS.reread();

                    if (RetailAssortmentTable.Status == RetailAssortmentStatusType::UnPublishing)
                    {
                        throw error("@Retail:RetailAssortmentCannotEditErrorMsg");
                    }

                    if (element.args().formViewOption() == FormViewOption::Grid)
                    {
                        element.task(#taskSwitchToDetailsView);
                    }
                    RetailAssortmentTable::createDraftCopyOfAssortment(RetailAssortmentTable);
                }
                else
                {
                    // Avoid going into edit mode.
                    return 0;
                }
            }
            else
            {
                if (element.args().formViewOption() == FormViewOption::Grid)
                {
                    element.task(#taskSwitchToDetailsView);
                }
            }

            element.refreshGrids();
        }
        else if (retailAssortmentProductLine && _taskId == #taskDeleteRecord)
        {
            retailGroupMemberLine_ds.write();
        }

        ret = super(_taskId);

        if(_taskId == #taskSave)
        {
            if(!RetailRestrictAddingProductLinesOnPublishedAssortmentFlight::instance().isEnabled())
            {
                element.task(#taskDoneEditRecord);
            }

            element.doRefresh();
        }

        this.toggleButtons();

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>toggleButtons</Name>
				<Source><![CDATA[
    /// <summary>
    /// Toggles the button on the form based on the current assortment definition.
    /// </summary>
    /// <remarks>
    /// This method should not be called by external callers.
    /// </remarks>
    public void toggleButtons()
    {
        boolean wasEverPublished = RetailAssortmentTable.PublishedDateTime != DateTimeUtil::minValue();

        switch (RetailAssortmentTable.Status)
        {
            case RetailAssortmentStatusType::Draft:
                PublishButton.enabled(!(!RetailAssortmentTable));
                RevertButton.enabled(true);
                ProductActionPane.enabled(!this.inViewMode());
                ChannelActionPane.enabled(!this.inViewMode());
                break;

            case RetailAssortmentStatusType::Published:
            case RetailAssortmentStatusType::InProgress:
            case RetailAssortmentStatusType::Expired:
                PublishButton.enabled(false);
                RevertButton.enabled(false);
                ProductActionPane.enabled(false);
                ChannelActionPane.enabled(false);
                break;
        }

        RevertButton.visible(wasEverPublished);
        element.design().showDeleteButton(!wasEverPublished);
        ViewChannelAssortmentsButton.enabled(wasEverPublished);
        RetailAssortmentTable_DS.allowDelete(!wasEverPublished);

        // Enable Remove Product Line button if there are records in product line for an assortment otherwise, disable it.
        if (element.inViewMode() == false)
        {
            RemoveLine.enabled(RetailAssortmentProductLine.RetailGroupMemberLineId ? true : false);
        }

        boolean setStatus;

        if (RetailAssortmentTable.Status == RetailAssortmentStatusType::Publishing ||
            RetailAssortmentTable.Status == RetailAssortmentStatusType::UnPublishing)
        {
            setStatus = true;
        }

        ResetStatus.enabled(setStatus);
    }

]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    /// <summary>
    /// Update CategoryHierarchy of the <c>RetailGroupMemberLine</c> table.
    /// </summary>
    public void init()
    {
        RetailGroupMemberLine retailGroupMemberLineLocal;
        RetailAssortmentProductLine retailAssortmentProductLineLocal;
        EcoResCategory ecoResCategory;
        
        super();

        retailGroupMemberLineLocal.skipDataMethods(true);

        // Update CategoryHierarchy for existing entries in <c>RetailGroupMemberLine</c> table.
        update_recordset retailGroupMemberLineLocal
            setting CategoryHierarchy = ecoResCategory.CategoryHierarchy
            join CategoryHierarchy from ecoResCategory
                where retailGroupMemberLineLocal.Category == ecoResCategory.RecId
                && retailGroupMemberLineLocal.CategoryHierarchy == 0
                && retailGroupMemberLineLocal.Category != 0
            join RetailGroupMemberLineId from retailAssortmentProductLineLocal
                where retailGroupMemberLineLocal.RecId == retailAssortmentProductLineLocal.RetailGroupMemberLineId;
    }

]]></Source>
			</Method>
			<Method>
				<Name>isAssortmentAlreadyPublished</Name>
				<Source><![CDATA[
    /// <summary>
    /// Checks if the assortment is already published
    /// </summary>
    /// <returns> True if the assortment is published; otherwise false</returns>
    private boolean isAssortmentAlreadyPublished()
    {
        RetailAssortmentTable.reread();

        return (RetailAssortmentTable.Status == RetailAssortmentStatusType::Published);
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>RetailAssortmentTable</Name>
				<Methods>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;

            ret = super();

            if (RetailAssortmentTable.ValidTo < RetailAssortmentTable.ValidFrom)
            {
                error("@RET260554");
                return false;
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        public void delete()
        {
            if (RetailAssortmentTable.PublishedDateTime != DateTimeUtil::minValue())
            {
                // Cannot delete previously published assortment.
                info("@RET260541");
                return;
            }

            super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        public void create(boolean _append = false)
        {
            date neverExpires = DateTimeUtil::date(DateTimeUtil::minValue());
            date maxValidTo = DateTimeUtil::date(DateTimeUtil::maxValue());

            super(_append);

            // initialize RetailAssortmentStatusType
            RetailAssortmentTable.Status = RetailAssortmentStatusType::Draft;

            element.toggleButtons();
            if (RetailAssortmentTable.ValidTo == neverExpires)
            {
                RetailAssortmentTable.ValidTo = maxValidTo;
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            callerRecord  = element.args().record();

            super();

            // Check if the Assortment form opens from Retail stores/Online stores or call centers.
            if (FormDataUtil::isFormDataSource(callerRecord)  && callerRecord.TableId == tableNum(OmOperatingUnit))
            {
                operatingUnit = callerRecord as OmOperatingUnit;
            }
            // Check if the caller record is RetailChannelTable. This will apply a query if assortment form opens from Configuration status dialog.
            else if (callerRecord is RetailChannelTable)
            {
                RetailChannelTable channel = callerRecord as RetailChannelTable;
                operatingUnit = OMOperatingUnit::find(channel.OMOperatingUnitID, OMOperatingUnitType::RetailChannel);
                // Apply the query to filter assortments for a channel.
                this.query(new Query(queryStr(RetailAssortmentListPageByChannelQuery)));
            }

            if (operatingUnit)
            {
                assortmentQBR = this.query().dataSourceName(tableStr(RetailAssortmentLookupChannelGroup)).addRange(fieldnum(RetailAssortmentLookupChannelGroup, OMOPERATINGUNITID));
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        public void executeQuery()
        {
            // Setup the primary datasource.
            if (operatingUnit)
            {
                assortmentQBR.value(queryvalue(operatingUnit.RecId));
            }

            super();
            element.toggleButtons();
        }

]]></Source>
					</Method>
					<Method>
						<Name>selectionChanged</Name>
						<Source><![CDATA[
        /// <summary>
        /// Refresh Query, update edit/save button state and toggle buttons for each Selection change on Style Grid
        /// </summary>
        public void selectionChanged()
        {
            super();

            #Task;

            // Change form back to default view mode if form is in edit mode and assortment status is not draft.
            // If form has in Edit mode and moving from Draft Assortment to Published Assortment, then keep form in edit mode as is.
            if (RetailAssortmentTable && RetailAssortmentTable.Status != RetailAssortmentStatusType::Draft && !element.inViewMode())
            {
                element.task(#taskDoneEditRecord);
                element.doRefresh();
            }

            element.refreshGrids();
            element.toggleButtons();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailAssortmentProductLine</Name>
				<Methods>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        public void create(boolean _append = false)
        {
            super(_append);
            RetailAssortmentProductLine.LineType = RetailAssortmentExcludeIncludeType::Include;
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        /// <summary>
        /// Before form is saved or closed, check if product line is empty. If empty then send error message.
        /// </summary>
        /// <returns>The return value is true if the record can be written, or false if the record cannot be written.</returns>
        public boolean validateWrite()
        {
            boolean ret;

            ret = super();

            if (retailGroupMemberLine.RecId && (retailGroupMemberLine.Product == 0 && retailGroupMemberLine.Category == 0 && retailGroupMemberLine.Variant == 0))
            {
                throw error ('@Retail:DoNotSaveEmptyProductLineInAssortment');
            }

            if (!RetailMerchandisingKillSwitch::disableRestrictDuplicateProductLinesInAssortments())
            {
                RetailGroupMemberLine retailGroupMemberLineBuffer =
                    RetailGroupMemberLine::getAssortmentLineGroupMemberLine(RetailAssortmentTable.RecId, retailGroupMemberLine.CategoryHierarchy, retailGroupMemberLine.Category, retailGroupMemberLine.Product, retailGroupMemberLine.Variant, RetailAssortmentProductLine.LineType, retailGroupMemberLine.RecId);
            
                if (retailGroupMemberLineBuffer)
                {
                    ret = false;
                    info('@Retail:RetailAssortmentLineAlreadyExists');
                }
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailGroupMemberLine</Name>
				<Methods>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();

            if (RetailGroupMemberLine::exists(RetailAssortmentProductLine.RetailGroupMemberLineId))
            {
                RetailGroupMemberLine.data(RetailGroupMemberLine::find(RetailAssortmentProductLine.RetailGroupMemberLineId));
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;

            ret = super();

            if (element.inViewMode() == false)
            {
                RemoveLine.enabled(RetailAssortmentProductLine.RetailGroupMemberLineId ? true : false);
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>Category</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            /// <summary>
            /// Lookup reference for category.
            /// </summary>
            /// <param name="_formReferenceControl">
            /// The reference group control object with which to perform the lookup.
            /// </param>
            /// <returns>
            /// Categories.
            /// </returns>
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                Common ret = RetailGroupMemberLine::assortmentCategoryLookup(_formReferenceControl, RetailGroupMemberLine.CategoryHierarchy);

                EcoResCategory  ecoResCategory;
                if (ret.TableId == tableNum(EcoResCategory))
                {
                    ecoResCategory = ret.data();

                    // Update the current Category hierarchy if selected category belongs to another hierarchy.
                    if (ecoResCategory.RecId && RetailGroupMemberLine.CategoryHierarchy != ecoResCategory.CategoryHierarchy)
                    {
                        RetailGroupMemberLine.CategoryHierarchy = ecoResCategory.CategoryHierarchy;
                    }
                }

                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>CategoryHierarchy</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            /// <summary>
            /// Lookup reference for categoryHierarchy.
            /// </summary>
            /// <param name="_formReferenceControl">
            /// The reference group control object with which to perform the lookup.
            /// </param>
            /// <returns>
            /// Category hierarchies
            /// </returns>
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                Query query = new Query();

                SysReferenceTableLookup sysReferenceTableLookup = SysReferenceTableLookup::newParameters(tableNum(EcoResCategoryHierarchy), _formReferenceControl, true);

                QueryBuildDataSource qbdsEcoResCategoryHierarchy, qbdsEcoResCategoryHierarchyRole;
                qbdsEcoResCategoryHierarchy = query.addDataSource(tableNum(EcoResCategoryHierarchy));
                qbdsEcoResCategoryHierarchyRole = qbdsEcoResCategoryHierarchy.addDataSource(tableNum(EcoResCategoryHierarchyRole));
                qbdsEcoResCategoryHierarchyRole.relations(true);

                qbdsEcoResCategoryHierarchyRole
                    .addRange(fieldNum(EcoResCategoryHierarchyRole, NamedCategoryHierarchyRole))
                    .value(SysQuery::value(EcoResCategoryNamedHierarchyRole::Retail) + "," + SysQuery::value(EcoResCategoryNamedHierarchyRole::RetailSpecialGroup));

                qbdsEcoResCategoryHierarchyRole.addSortField(fieldNum(EcoResCategoryHierarchyRole, RecId), SortOrder::Ascending );

                sysReferenceTableLookup.addLookupfield(fieldNum(EcoResCategoryHierarchy, Name));

                sysReferenceTableLookup.parmQuery(query);

                Common ret = sysReferenceTableLookup.performFormLookup();

                EcoResCategoryHierarchy ecoResCategoryHierarchy;
                if (ret.TableId == tableNum(EcoResCategoryHierarchy))
                {
                    ecoResCategoryHierarchy = ret.data();

                    if (ecoResCategoryHierarchy.RecId)
                    {
                        RetailGroupMemberLine.Category = EcoResCategory::getRoot(ecoResCategoryHierarchy.RecId).RecId;
                    }
                }

                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Product</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::productLookup(_formReferenceControl, retailGroupMemberLine);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Variant</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::variantLookup(_formReferenceControl, retailGroupMemberLine);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>ConfigurationStatusButton</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Sets parameter on the menu item before carrying out the default functionality.
        /// </summary>
        public void clicked()
        {
            this.parameters(RetailEntityConfigProgressHelper::getParametersAsString(tableStr(RetailAssortmentEntity), RetailAssortmentTable.AssortmentID));
            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>PublishButton</Name>
				<Type>CommandButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            DialogButton dialogButton;
            BatchHeader batchHeader;
            RetailAssortmentLookupJob task;
            #task

            dialogButton = Box::yesNo("@RET260141", DialogButton::No, "@RET260140");
            if (dialogButton == DialogButton::Yes)
            {
                RetailAssortmentTable_DS.reread();

                if (RetailAssortmentTable.Status == RetailAssortmentStatusType::Publishing)
                {
                    throw error("@Retail:RetailAssortmentCannotPublishErrorMsg");
                }

                RetailAssortmentTable::publishAssortment(RetailAssortmentTable);

                task = new RetailAssortmentLookupJob();
                task.parmAssortmentRecId(RetailAssortmentTable.RecId);

                batchHeader = BatchHeader::construct();
                batchHeader.addTask(task);

                // Need make the jobs critical to enable monitoring.
                batchHeader.parmCritical(NoYes::Yes);
                batchHeader.parmMonitoringCategory(BatchMonitoringCategory::RetailAssortmentDetails);

                batchHeader.save();
                info("@REX4520188");

                element.task(#taskDoneEditRecord);
                element.doRefresh();

                element.refreshGrids();
                element.toggleButtons();
            }

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RevertButton</Name>
				<Type>CommandButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            DialogButton dialogButton;

            if (RetailAssortmentTable.Status == RetailAssortmentStatusType::Draft)
            {
                dialogButton = Box::yesNo("@RET260144", DialogButton::No, "@RET260143");
                if (dialogButton == DialogButton::Yes)
                {
                    RetailAssortmentTable::revertAssortment(RetailAssortmentTable);

                    element.refreshGrids();
                    element.toggleButtons();
                }
            }

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>MainTab</Name>
				<Type>Tab</Type>
				<Methods>
					<Method>
						<Name>tabChanged</Name>
						<Source><![CDATA[
        /// <summary>
        /// When List page becomes active page from details page and if record was in edit mode then complete edit mode.
        /// because List Page is read only.
        /// </summary>
        /// <param name = "_FromTab">Grid or Details Page</param>
        /// <param name = "_ToTab">Grid or Details Page</param>
        public void tabChanged(int _FromTab, int _ToTab)
        {
            #Task

            // When List page becomes active page from details page and if record was in edit mode,
            // then complete edit mode because List Page is readonly.
            if (_ToTab == #gridTab && _FromTab == #detailsTab && !element.inViewMode())
            {
                // Complete edit as we are moving to View mode.
                element.task(#taskDoneEditRecord);
            }

            super(_FromTab, _ToTab);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddLine</Name>
				<Type>CommandButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            if (element.isAssortmentAlreadyPublished() && RetailRestrictAddingProductLinesOnPublishedAssortmentFlight::instance().isEnabled())
            {
                throw Error("@Retail:RetailAssortmentAlreadyPublishedError");
            }

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddRetailSpecialProductsButton</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            if (element.isAssortmentAlreadyPublished() && RetailRestrictAddingProductLinesOnPublishedAssortmentFlight::instance().isEnabled())
            {
                throw Error("@Retail:RetailAssortmentAlreadyPublishedError");
            }

            //super();
            xFormRun        formRun;
            Args            args;
            MenuFunction    menuFunction;

            args = new Args();
            args.caller(element);
            args.record(RetailAssortmentTable);
            menuFunction = new MenuFunction(menuitemDisplayStr(RetailAddProductsVariants), MenuItemType::Display);
            formRun = menuFunction.create(args);
            formRun.run();
            formRun.wait();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>RetailAssortmentTable</Name>
			<Table>RetailAssortmentTable</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AssortmentID</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PublishedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
					<Skip>Yes</Skip>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidFrom</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidTo</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<Index>RecId</Index>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailAssortmentChannelLine</Name>
			<Table>RetailAssortmentChannelLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AssortmentRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OMHierarchyTypeId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OMInternalOrganizationId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources>
				<AxFormReferencedDataSource>
					<Name>OMOperatingUnit</Name>
					<Table>OMOperatingUnit</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>createdBy</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>createdDateTime</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>dataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DunsNumberRecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>HcmWorker</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>InstanceRelationType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>KnownAs</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LanguageId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>modifiedBy</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>modifiedDateTime</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Name</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>NameAlias</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OMOperatingUnitNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OMOperatingUnitType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OrganizationType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PartyNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PhoneticName</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryAddressLocation</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactEmail</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactFax</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactPhone</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactTelex</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactURL</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>relationType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<JoinSource>RetailAssortmentChannelLine</JoinSource>
					<LinkType>OuterJoin</LinkType>
					<JoinRelation>OMOperatingUnit</JoinRelation>
				</AxFormReferencedDataSource>
				<AxFormReferencedDataSource>
					<Name>OMInternalOrganization</Name>
					<Table>OMInternalOrganization</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>createdBy</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>createdDateTime</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>dataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DunsNumberRecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>InstanceRelationType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>KnownAs</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LanguageId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>modifiedBy</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>modifiedDateTime</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Name</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>NameAlias</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OrganizationType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PartyNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PhoneticName</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryAddressLocation</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactEmail</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactFax</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactPhone</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactTelex</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrimaryContactURL</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>relationType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<JoinSource>RetailAssortmentChannelLine</JoinSource>
					<LinkType>OuterJoin</LinkType>
					<JoinRelation>OMInternalOrganization</JoinRelation>
				</AxFormReferencedDataSource>
				<AxFormReferencedDataSource>
					<Name>OMHierarchyType</Name>
					<Table>OMHierarchyType</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>Name</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RelationshipType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<JoinSource>RetailAssortmentChannelLine</JoinSource>
					<LinkType>OuterJoin</LinkType>
					<JoinRelation>OMHierarchyType</JoinRelation>
				</AxFormReferencedDataSource>
			</ReferencedDataSources>
			<JoinSource>RetailAssortmentTable</JoinSource>
			<Index>RetailAssortmentTableIdx</Index>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailAssortmentProductLine</Name>
			<Table>RetailAssortmentProductLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AssortmentRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LineType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RetailGroupMemberLineId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailAssortmentTable</JoinSource>
			<CounterField>LineNum</CounterField>
			<Index>RetailAssortmentTableIdx</Index>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailGroupMemberLine</Name>
			<Table>RetailGroupMemberLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>Category</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CategoryHierarchy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Variant</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailAssortmentProductLine</JoinSource>
			<LinkType>InnerJoin</LinkType>
			<Index>SurrogateKey</Index>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResProduct</Name>
			<Table>EcoResProduct</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisplayProductNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PdsCWProduct</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProductType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>relationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SearchName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailGroupMemberLine</JoinSource>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>EcoResProduct_EcoResProductMaster</Name>
					<Table>EcoResProductMaster</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailColorGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailSizeGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RetailStyleGroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>VariantConfigurationTechnology</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>EcoResProduct_EcoResDistinctProduct</Name>
					<Table>EcoResDistinctProduct</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources>
						<AxFormDataSourceDerived>
							<Name>EcoResProduct_EcoResDistinctProductVariant</Name>
							<Table>EcoResDistinctProductVariant</Table>
							<Fields>
								<AxFormDataSourceField>
									<DataField>ProductMaster</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>RecId</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>RetaiTotalWeight</DataField>
								</AxFormDataSourceField>
								<AxFormDataSourceField>
									<DataField>TableId</DataField>
								</AxFormDataSourceField>
							</Fields>
							<ReferencedDataSources />
							<DerivedDataSources />
						</AxFormDataSourceDerived>
					</DerivedDataSources>
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@RET5224</Caption>
		<Pattern xmlns="">DetailsMaster</Pattern>
		<PatternVersion xmlns="">1.4</PatternVersion>
		<SetCompany xmlns="">No</SetCompany>
		<ShowNewButton xmlns="">No</ShowNewButton>
		<Style xmlns="">DetailsFormMaster</Style>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>ActionPaneHeader</Name>
				<ElementPosition>715827882</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>0</Width>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>NewButtonGroup</Name>
						<Type>ButtonGroup</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>NewButton</Name>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
								<CopyCallerQuery>No</CopyCallerQuery>
								<FormViewOption>Details</FormViewOption>
								<MenuItemName>RetailAssortmentDetails</MenuItemName>
								<MultiSelect>No</MultiSelect>
								<NormalImage>New</NormalImage>
								<OpenMode>New</OpenMode>
								<Text>@SYS2055</Text>
							</AxFormControl>
						</Controls>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>ConfigurationStatus</Name>
						<Type>ButtonGroup</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ConfigurationStatusButton</Name>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>RetailAssortmentEntityConfigProgressDetailsDialog</MenuItemName>
							</AxFormControl>
						</Controls>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>MaintainGroup</Name>
						<ElementPosition>715827882</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormCommandButtonControl">
								<Name>PublishButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1700091219</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<NeededPermission>Update</NeededPermission>
								<Type>CommandButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<MultiSelect>No</MultiSelect>
								<NeedsRecord>Yes</NeedsRecord>
								<Text>@SYS53421</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormCommandButtonControl">
								<Name>RevertButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1386916521</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<NeededPermission>Update</NeededPermission>
								<Type>CommandButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<MultiSelect>No</MultiSelect>
								<NeedsRecord>Yes</NeedsRecord>
								<Primary>Yes</Primary>
								<Text>@RET260453</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>DuplicateButton</Name>
								<ElementPosition>1968526675</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>RetailAssortmentCopyDetails</MenuItemName>
								<MenuItemType>Action</MenuItemType>
								<NeedsRecord>Yes</NeedsRecord>
								<Text>@RET260138</Text>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
						<Caption>@SYS316703</Caption>
						<DataSource>RetailAssortmentTable</DataSource>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>InquiriesGroup</Name>
						<ElementPosition>1789569705</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ViewChannelAssortmentsButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>RetailAssortmentTable</DataSource>
								<MenuItemName>EcoResProductListPageByAssortment</MenuItemName>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
						<Caption>@SYS3850</Caption>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>UpdateAssortmentStatus</Name>
						<Type>ButtonGroup</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ResetStatus</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<NeededPermission>Update</NeededPermission>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<DataSource>RetailAssortmentTable</DataSource>
								<MenuItemName>RetailAssortmentUpdateAssortmentStatus</MenuItemName>
								<MenuItemType>Action</MenuItemType>
								<MultiSelect>No</MultiSelect>
								<NeedsRecord>Yes</NeedsRecord>
							</AxFormControl>
						</Controls>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<DataSource>RetailAssortmentTable</DataSource>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>NavigationList</Name>
				<HeightMode>SizeToAvailable</HeightMode>
				<Type>Group</Type>
				<Visible>No</Visible>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl>
						<Name>QuickFilterControl</Name>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension>
							<Name>QuickFilterControl</Name>
							<ExtensionComponents />
							<ExtensionProperties>
								<AxFormControlExtensionProperty>
									<Name>targetControlName</Name>
									<Type>String</Type>
									<Value>ListStyleGrid</Value>
								</AxFormControlExtensionProperty>
								<AxFormControlExtensionProperty>
									<Name>defaultColumnName</Name>
									<Type>String</Type>
									<Value>RetailAssortmentName</Value>
								</AxFormControlExtensionProperty>
								<AxFormControlExtensionProperty>
									<Name>placeholderText</Name>
									<Type>String</Type>
								</AxFormControlExtensionProperty>
							</ExtensionProperties>
						</FormControlExtension>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormGridControl">
						<Name>ListStyleGrid</Name>
						<AllowEdit>No</AllowEdit>
						<Type>Grid</Type>
						<WidthMode>SizeToContent</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>RetailAssortmentName</Name>
								<Type>String</Type>
								<FormControlExtension
									i:nil="true" />
								<DataField>name</DataField>
								<DataSource>RetailAssortmentTable</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>AssortmentID</Name>
								<Type>String</Type>
								<FormControlExtension
									i:nil="true" />
								<DataField>AssortmentID</DataField>
								<DataSource>RetailAssortmentTable</DataSource>
							</AxFormControl>
						</Controls>
						<MultiSelect>No</MultiSelect>
						<ShowRowLabels>No</ShowRowLabels>
						<Style>List</Style>
					</AxFormControl>
				</Controls>
				<DataSource>RetailAssortmentTable</DataSource>
				<FrameType>None</FrameType>
				<Style>SidePanel</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>MainTab</Name>
				<AlignControl>No</AlignControl>
				<ElementPosition>1431655764</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>TabPageDetails</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1431655764</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>TitleGroup</Name>
								<ElementPosition>715827882</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>HeaderTitle</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Skip>Yes</Skip>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>titleFields</DataMethod>
										<DataSource>RetailAssortmentTable</DataSource>
										<ShowLabel>No</ShowLabel>
										<Style>TitleField</Style>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>EntityStatus</Name>
										<ExtendedStyle>entityStatus</ExtendedStyle>
										<Type>Group</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>Status</Name>
												<AllowEdit>No</AllowEdit>
												<ElementPosition>954437176</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Skip>Yes</Skip>
												<Type>ComboBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>Status</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
												<ViewEditMode>View</ViewEditMode>
												<Items />
											</AxFormControl>
										</Controls>
										<ArrangeMethod>HorizontalRight</ArrangeMethod>
										<Breakable>No</Breakable>
										<FrameType>None</FrameType>
										<ViewEditMode>View</ViewEditMode>
									</AxFormControl>
								</Controls>
								<ArrangeMethod>HorizontalLeft</ArrangeMethod>
								<FrameType>None</FrameType>
								<Style>DetailTitleContainer</Style>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormTabControl">
								<Name>DetailsTab</Name>
								<AlignControl>No</AlignControl>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Tab</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormTabPageControl">
										<Name>HeaderView</Name>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Pattern>FieldsFieldGroups</Pattern>
										<PatternVersion>1.1</PatternVersion>
										<Type>TabPage</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>Number</Name>
												<ElementPosition>477218588</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>AssortmentID</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormDateControl">
												<Name>ValidFrom</Name>
												<ElementPosition>715827882</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>Date</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>ValidFrom</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>Name</Name>
												<ElementPosition>1193046470</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>name</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormDateControl">
												<Name>ValidTo</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>Date</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>ValidTo</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormDateTimeControl">
												<Name>PublishedDateTime</Name>
												<AllowEdit>No</AllowEdit>
												<ElementPosition>1670265058</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Skip>Yes</Skip>
												<Type>DateTime</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>PublishedDateTime</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
												<MaxDateLabel>@SYS1091</MaxDateLabel>
												<ViewEditMode>View</ViewEditMode>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormDateTimeControl">
												<Name>LastModifiedDateTime</Name>
												<AllowEdit>No</AllowEdit>
												<ElementPosition>1908874352</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Skip>Yes</Skip>
												<Type>DateTime</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<DataField>modifiedDateTime</DataField>
												<DataSource>RetailAssortmentTable</DataSource>
												<ViewEditMode>View</ViewEditMode>
											</AxFormControl>
										</Controls>
										<ColumnsMode>Fill</ColumnsMode>
										<Caption>@RET225</Caption>
										<Scrollbars>Auto</Scrollbars>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormTabPageControl">
										<Name>ChannelLineView</Name>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Pattern>ToolbarList</Pattern>
										<PatternVersion>1.2</PatternVersion>
										<Type>TabPage</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneControl">
												<Name>ChannelActionPane</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>ActionPane</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormActionPaneTabControl">
														<Name>ChannelActionPaneTab</Name>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ActionPaneTab</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormButtonGroupControl">
																<Name>ChannelActionButtonGroup</Name>
																<ElementPosition>1431655764</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Left>0</Left>
																<Type>ButtonGroup</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<Controls>
																	<AxFormControl xmlns=""
																		i:type="AxFormMenuFunctionButtonControl">
																		<Name>ChannelAddLine</Name>
																		<ElementPosition>1073741822</ElementPosition>
																		<FilterExpression>%1</FilterExpression>
																		<HeightMode>Auto</HeightMode>
																		<Type>MenuFunctionButton</Type>
																		<VerticalSpacing>-1</VerticalSpacing>
																		<WidthMode>Auto</WidthMode>
																		<FormControlExtension
																			i:nil="true" />
																		<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																		<DataSource>RetailAssortmentTable</DataSource>
																		<MenuItemName>RetailAssortmentOperatingUnitPicker</MenuItemName>
																		<NormalImage>Add</NormalImage>
																		<Text>@SYS319116</Text>
																	</AxFormControl>
																	<AxFormControl xmlns=""
																		i:type="AxFormCommandButtonControl">
																		<Name>ChannelRemoveLine</Name>
																		<ElementPosition>1610612734</ElementPosition>
																		<FilterExpression>%1</FilterExpression>
																		<HeightMode>Auto</HeightMode>
																		<Type>CommandButton</Type>
																		<VerticalSpacing>-1</VerticalSpacing>
																		<WidthMode>Auto</WidthMode>
																		<FormControlExtension
																			i:nil="true" />
																		<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																		<Command>DeleteRecord</Command>
																		<MultiSelect>Yes</MultiSelect>
																		<NeedsRecord>Yes</NeedsRecord>
																		<NormalImage>Remove</NormalImage>
																		<SaveRecord>No</SaveRecord>
																		<ShowShortCut>No</ShowShortCut>
																		<Text>@SYS135131</Text>
																	</AxFormControl>
																</Controls>
																<ArrangeMethod>Vertical</ArrangeMethod>
															</AxFormControl>
														</Controls>
														<AlignChild>No</AlignChild>
														<AlignChildren>No</AlignChildren>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailAssortmentChannelLine</DataSource>
												<Style>Strip</Style>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormGridControl">
												<Name>ChannelLineGrid</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1610612734</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>Grid</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>OMHierarchyType_Name</Name>
														<Type>String</Type>
														<FormControlExtension
															i:nil="true" />
														<DataField>Name</DataField>
														<DataSource>OMHierarchyType</DataSource>
														<Label>@Retail:HierarchyName</Label>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>ChannelName</Name>
														<ElementPosition>1073741822</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataField>Name</DataField>
														<DataSource>OMInternalOrganization</DataSource>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>PartyNumber</Name>
														<ElementPosition>1610612734</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataField>OMOperatingUnitNumber</DataField>
														<DataSource>OMOperatingUnit</DataSource>
														<FastTabSummary>No</FastTabSummary>
													</AxFormControl>
												</Controls>
												<DataSource>RetailAssortmentChannelLine</DataSource>
												<Style>Tabular</Style>
											</AxFormControl>
										</Controls>
										<Caption>@Retail:CommerceChannels</Caption>
										<Scrollbars>Auto</Scrollbars>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormTabPageControl">
										<Name>ProductLineView</Name>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Pattern>ToolbarList</Pattern>
										<PatternVersion>1.2</PatternVersion>
										<Type>TabPage</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneControl">
												<Name>ProductActionPane</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>ActionPane</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormActionPaneTabControl">
														<Name>ProductActionPaneTab</Name>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ActionPaneTab</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormButtonGroupControl">
																<Name>ActionButtonGroup</Name>
																<ElementPosition>1431655764</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Left>0</Left>
																<Type>ButtonGroup</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<Controls>
																	<AxFormControl xmlns=""
																		i:type="AxFormCommandButtonControl">
																		<Name>AddLine</Name>
																		<ElementPosition>1073741822</ElementPosition>
																		<FilterExpression>%1</FilterExpression>
																		<HeightMode>Auto</HeightMode>
																		<Type>CommandButton</Type>
																		<VerticalSpacing>-1</VerticalSpacing>
																		<WidthMode>Auto</WidthMode>
																		<FormControlExtension
																			i:nil="true" />
																		<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																		<Command>New</Command>
																		<MultiSelect>Yes</MultiSelect>
																		<NormalImage>Add</NormalImage>
																		<Text>@SYS319116</Text>
																	</AxFormControl>
																	<AxFormControl xmlns=""
																		i:type="AxFormButtonControl">
																		<Name>AddRetailSpecialProductsButton</Name>
																		<ElementPosition>1409286141</ElementPosition>
																		<FilterExpression>%1</FilterExpression>
																		<HeightMode>Auto</HeightMode>
																		<Type>Button</Type>
																		<VerticalSpacing>-1</VerticalSpacing>
																		<WidthMode>Auto</WidthMode>
																		<FormControlExtension
																			i:nil="true" />
																		<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																		<NormalImage>AddMultiple</NormalImage>
																		<Text>@SYS132109</Text>
																	</AxFormControl>
																	<AxFormControl xmlns=""
																		i:type="AxFormCommandButtonControl">
																		<Name>RemoveLine</Name>
																		<AutoDeclaration>Yes</AutoDeclaration>
																		<ElementPosition>1744830461</ElementPosition>
																		<FilterExpression>%1</FilterExpression>
																		<HeightMode>Auto</HeightMode>
																		<Type>CommandButton</Type>
																		<VerticalSpacing>-1</VerticalSpacing>
																		<WidthMode>Auto</WidthMode>
																		<FormControlExtension
																			i:nil="true" />
																		<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																		<Command>DeleteRecord</Command>
																		<MultiSelect>Yes</MultiSelect>
																		<NormalImage>Remove</NormalImage>
																		<SaveRecord>No</SaveRecord>
																		<Text>@SYS135131</Text>
																	</AxFormControl>
																</Controls>
																<ArrangeMethod>Vertical</ArrangeMethod>
															</AxFormControl>
														</Controls>
														<AlignChild>No</AlignChild>
														<AlignChildren>No</AlignChildren>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailAssortmentProductLine</DataSource>
												<Style>Strip</Style>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormGridControl">
												<Name>ProductLineGrid</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1610612734</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>Grid</Type>
												<VerticalSpacingMode>Fixed</VerticalSpacingMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormReferenceGroupControl">
														<Name>RetailGroupMemberLine_CategoryHierarchy</Name>
														<Type>ReferenceGroup</Type>
														<FormControlExtension
															i:nil="true" />
														<Controls />
														<DataSource>RetailGroupMemberLine</DataSource>
														<ReferenceField>CategoryHierarchy</ReferenceField>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>EcoResCategoryHierarchyName</Name>
														<AllowEdit>No</AllowEdit>
														<ElementPosition>1610612734</ElementPosition>
														<Enabled>No</Enabled>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<Visible>No</Visible>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataMethod>productHierarchyName</DataMethod>
														<DataSource>RetailGroupMemberLine</DataSource>
														<Label>@Retail:HierarchyName</Label>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormReferenceGroupControl">
														<Name>RetailGroupMemberLine_Category</Name>
														<ElementPosition>715827882</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ReferenceGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormStringControl">
																<Name>RetailGroupMemberLine_Category_Name</Name>
																<DataRelationPath>EcoResCategory</DataRelationPath>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>String</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
															</AxFormControl>
														</Controls>
														<DataSource>RetailGroupMemberLine</DataSource>
														<ReferenceField>Category</ReferenceField>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormReferenceGroupControl">
														<Name>RetailGroupMemberLine_Product</Name>
														<ElementPosition>1073741823</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ReferenceGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormStringControl">
																<Name>RetailGroupMemberLine_Product_DisplayProductNumber</Name>
																<DataRelationPath>EcoResProduct</DataRelationPath>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>String</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
															</AxFormControl>
														</Controls>
														<DataSource>RetailGroupMemberLine</DataSource>
														<ReferenceField>Product</ReferenceField>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormReferenceGroupControl">
														<Name>RetailGroupMemberLine_Variant</Name>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ReferenceGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormStringControl">
																<Name>RetailGroupMemberLine_Variant_DisplayProductNumber</Name>
																<DataRelationPath>EcoResDistinctProductVariant</DataRelationPath>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>String</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
															</AxFormControl>
														</Controls>
														<DataSource>RetailGroupMemberLine</DataSource>
														<ReferenceField>Variant</ReferenceField>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>EcoResProductName</Name>
														<AllowEdit>No</AllowEdit>
														<ElementPosition>1610612734</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataMethod>ProductName</DataMethod>
														<DataSource>RetailGroupMemberLine</DataSource>
														<Label>@RET1725</Label>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormComboBoxControl">
														<Name>RetailAssortmentProductLine_LineType</Name>
														<ElementPosition>1789569705</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ComboBox</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataField>LineType</DataField>
														<DataSource>RetailAssortmentProductLine</DataSource>
														<FastTabSummary>No</FastTabSummary>
														<Items />
													</AxFormControl>
												</Controls>
												<DataSource>RetailAssortmentProductLine</DataSource>
												<Style>Tabular</Style>
											</AxFormControl>
										</Controls>
										<Caption>@RET6066</Caption>
										<Scrollbars>Auto</Scrollbars>
									</AxFormControl>
								</Controls>
								<AlignChild>No</AlignChild>
								<ArrangeMethod>Vertical</ArrangeMethod>
								<Style>FastTabs</Style>
							</AxFormControl>
						</Controls>
						<DataSource>RetailAssortmentTable</DataSource>
						<PanelStyle>Details</PanelStyle>
						<Scrollbars>Auto</Scrollbars>
						<Style>DetailsFormDetails</Style>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>GridTabPage</Name>
						<Type>TabPage</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>CustomFilterGroup</Name>
								<Pattern>CustomAndQuickFilters</Pattern>
								<PatternVersion>1.1</PatternVersion>
								<Type>Group</Type>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl>
										<Name>GridPageQuickFilterControl</Name>
										<FormControlExtension>
											<Name>QuickFilterControl</Name>
											<ExtensionComponents />
											<ExtensionProperties>
												<AxFormControlExtensionProperty>
													<Name>targetControlName</Name>
													<Type>String</Type>
													<Value>MainGrid</Value>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>defaultColumnName</Name>
													<Type>String</Type>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>placeholderText</Name>
													<Type>String</Type>
												</AxFormControlExtensionProperty>
											</ExtensionProperties>
										</FormControlExtension>
									</AxFormControl>
								</Controls>
								<ArrangeMethod>HorizontalLeft</ArrangeMethod>
								<FrameType>None</FrameType>
								<Style>CustomFilter</Style>
								<ViewEditMode>Edit</ViewEditMode>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGridControl">
								<Name>MainGrid</Name>
								<Type>Grid</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>RetailAssortmentTable_AssortmentID</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>AssortmentID</DataField>
										<DataSource>RetailAssortmentTable</DataSource>
										<ViewEditMode>View</ViewEditMode>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>RetailAssortmentTable_name</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>name</DataField>
										<DataSource>RetailAssortmentTable</DataSource>
										<ViewEditMode>View</ViewEditMode>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>RetailAssortmentTable_Status</Name>
										<Type>ComboBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>Status</DataField>
										<DataSource>RetailAssortmentTable</DataSource>
										<ViewEditMode>View</ViewEditMode>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>RetailAssortmentTable_ValidFrom</Name>
										<Type>Date</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>ValidFrom</DataField>
										<DataSource>RetailAssortmentTable</DataSource>
										<ViewEditMode>View</ViewEditMode>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>RetailAssortmentTable_ValidTo</Name>
										<Type>Date</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>ValidTo</DataField>
										<DataSource>RetailAssortmentTable</DataSource>
										<ViewEditMode>View</ViewEditMode>
									</AxFormControl>
								</Controls>
								<DataSource>RetailAssortmentTable</DataSource>
								<DefaultAction>MainGridDefaultAction</DefaultAction>
								<DefaultActionLabel>MainGrid</DefaultActionLabel>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormCommandButtonControl">
								<Name>MainGridDefaultAction</Name>
								<Type>CommandButton</Type>
								<Visible>No</Visible>
								<FormControlExtension
									i:nil="true" />
								<Command>DetailsView</Command>
							</AxFormControl>
						</Controls>
						<PanelStyle>Grid</PanelStyle>
						<Style>DetailsFormGrid</Style>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<ShowTabs>No</ShowTabs>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>