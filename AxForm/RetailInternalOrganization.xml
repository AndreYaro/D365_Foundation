<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>RetailInternalOrganization</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
using Microsoft.Dynamics.Platform.Integration.Office;

[Form]
public class RetailInternalOrganization extends FormRun implements OfficeITemplateCustomExporter
{
    #RetailBulkProductAttributeValue

    QueryBuildRange  internalOrgDSRange, assortedProductDSRange, omInternalOrgDSRange;
    RetailInternalOrgTreeDatasource internalOrgTreeDS;
    int64 treeSelectedData;
    RetailChannelTable retailChannelTable;
    RetailSharedParameters sharedParams;
    boolean isTreeSelectionChanged;

    internal AppCopilotSummaryController summaryController;

}
]]></Source>
			</Method>
			<Method>
				<Name>customizeMenuOptions</Name>
				<Source><![CDATA[
    /// <summary>
    /// Customizes the options used to populate the Office Menu.
    /// </summary>
    /// <param name = "_menuOptions">The menu options to be customized.</param>
    public void customizeMenuOptions(OfficeMenuOptions _menuOptions)
    {
        // The user can open in excel to view data when catalog is in view mode, but she will get errors when she tries to publish changes back which ensures she does not mess up with published catalogs w/o first explicitly convert the catalog to draft state.
        OfficeTemplateExportMenuItem menuItem = OfficeTemplateExportMenuItem::construct(OfficeAppApplicationType::Excel, resourceStr(RetailProductAttributeValueEditableExportTemplate));
        menuItem.displayName("@Retail:ProductAttributeValueBulkEditExportOptionName");
        _menuOptions.customMenuItems().addEnd(menuItem);
    }

]]></Source>
			</Method>
			<Method>
				<Name>getInitialTemplateFilters</Name>
				<Source><![CDATA[
    /// <summary>
    /// Gets the set of initial filters to be applied to the template.
    /// </summary>
    /// <returns>
    /// The Map of filters to apply.
    /// Keyed by AOT entity name.
    /// Values are all Microsoft.Dynamics.Platform.Integration.Office.FilterNode instances.
    /// </returns>
    /// <remarks>
    /// The filters supplied here will override any filters currently in the template.
    /// If no filter is suppled for a given entity, any filters currently in the template are retained.
    /// </remarks>
    public Map getInitialTemplateFilters(OfficeTemplateExportMenuItem _menuItem)
    {
        Map filters = new Map(Types::String, Types::Class);

        if (_menuItem.id() == OfficeExportMenuItem::DefaultId)
        {
            RetailTmpBulkProductAttributeValue::refreshFromInternalOrg(internalOrganization.RecId);
            filters.insert(tableStr(RetailTmpBulkProductAttributeValueEntity), element.getExportToExcelFilter());
        }

        return filters;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateTemplateSettings</Name>
				<Source><![CDATA[
    /// <summary>
    /// Applies any updates to the settings contained within the template for the specified menu item.
    /// </summary>
    /// <param name="_menuItem">The menu item.</param>
    /// <param name="_settingsManager">The <see cref="SettingsManager"/> to use when performing the updates.</param>
    public void updateTemplateSettings(OfficeTemplateExportMenuItem _menuItem, Microsoft.Dynamics.Platform.Integration.Office.SettingsManager _settingsManager)
    {
    }

]]></Source>
			</Method>
			<Method>
				<Name>getExportToExcelFilter</Name>
				<Source><![CDATA[
    private FilterNode getExportToExcelFilter()
    {
        ExportToExcelFilterTreeBuilder exportToExcelFilterBuilder = new ExportToExcelFilterTreeBuilder(tableStr(RetailTmpBulkProductAttributeValueEntity));
        FilterNode filter = exportToExcelFilterBuilder.and(
            exportToExcelFilterBuilder.areEqual(
                fieldStr(RetailTmpBulkProductAttributeValueEntity, InternalOrgNumber),
                omInternalOrganization.PartyNumber),
            exportToExcelFilterBuilder.areEqual(
                fieldStr(RetailTmpBulkProductAttributeValueEntity, CatalogNumber),
        #Empty));

        return filter;
    }

]]></Source>
			</Method>
			<Method>
				<Name>allowDeleteProducts</Name>
				<Source><![CDATA[
    private boolean allowDeleteProducts()
    {
        RetailInternalOrgProductAssortedDisplay internalOrgProductAssortedDisplayLocal;
        MultiSelectionHelper multiSelectionHelper;
        Counter allowDeleteCount;
        Counter totalSelectedCount;

        if (this.inViewMode())
        {
            return false;
        }

        multiSelectionHelper = MultiSelectionHelper::construct();
        multiSelectionHelper.parmDatasource(retailInternalOrgProductAssortedDisplay_ds);
        for (internalOrgProductAssortedDisplayLocal = multiSelectionHelper.getFirst();
            internalOrgProductAssortedDisplayLocal;
            internalOrgProductAssortedDisplayLocal = multiSelectionHelper.getNext())
        {
            totalSelectedCount++;
            if (internalOrgProductAssortedDisplayLocal.AncestorInternalOrg == internalOrganization.RecId)
            {
                allowDeleteCount++;
            }
        }

        return allowDeleteCount > 0 && allowDeleteCount == totalSelectedCount;
    }

]]></Source>
			</Method>
			<Method>
				<Name>enableDisableFields</Name>
				<Source><![CDATA[
    public void enableDisableFields()
    {
        internalOrganization_ds.object(fieldNum(RetailInternalOrganization, CategoryHierarchy)).visible(!internalOrganization.InheritEnabled);
        ecoResCategoryHierarchy_ds.object(fieldNum(EcoResCategoryHierarchy, Name)).visible(internalOrganization.InheritEnabled);
    }

]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    public void init()
    {
        int idx;

        super();

        this.toggleButtons();

        // Initializes and builds the retail internal organization tree.
        internalOrgTreeDS = RetailInternalOrgTreeDatasource::construct(
                                    hierarchyTreeCtrl,
                                    RetailInternalOrganization::getOMHierarchyType()
                                    );
        internalOrgTreeDS.buildTree();

        // Set the focus on the selected Channel if channel selects on the Catalog validation report.
        if (element.args() &&
                element.args().record() is RetailCatalogInternalOrg)
        {
            RetailCatalogInternalOrg catalogInternalOrg = element.args().record();
            RetailInternalOrganization retailInternalOrganization = RetailInternalOrganization::find(catalogInternalOrg.InternalOrganization);
            internalOrgTreeDS.selectOrg(retailInternalOrganization.InternalOrganization);
        }
        // Set the focus on selected Retail channel.
        else if (element.args() &&
                element.args().record() is RetailChannelTable)
        {
            RetailChannelTable channelTable = element.args().record();
            internalOrgTreeDS.selectOrg(channelTable.OMOperatingUnitID);
        }
        else
        {
            // Set focus to root node in the hierarchy tree.
            idx = hierarchyTreeCtrl.getRoot();
            hierarchyTreeCtrl.select(idx);
            hierarchyTreeCtrl.setFocus();
        }

        if (FeatureStateProvider::isFeatureEnabled(RetailEnableDisplayOrderForMerchandisingFeature::instance()))
        {
            // Show the display order column.
            TmpRetailInternalOrgAttributeGroup_DisplayOrder.visible(true);
            // Sort the rows by display order.
            TmpRetailInternalOrgAttributeGroup_ds.queryBuildDataSource().sortClear();
            TmpRetailInternalOrgAttributeGroup_ds.queryBuildDataSource().addSortField(fieldNum(RetailTmpInternalOrgAttributeGroup, AttributeGroupDisplayOrder), SortOrder::Ascending);
            TmpRetailInternalOrgAttributeGroup_ds.queryBuildDataSource().addSortField(fieldNum(RetailTmpInternalOrgAttributeGroup, AttributeGroup), SortOrder::Ascending);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>setCaptionText</Name>
				<Source><![CDATA[
    void  setCaptionText()
    {
        element.design().caption(strFmt('%1 %2 %3', "@RET261329", ':',  omInternalOrganization.Name));
    }

]]></Source>
			</Method>
			<Method>
				<Name>task</Name>
				<Source><![CDATA[
    public int task(int _taskId)
    {
        #Task

        int ret;

        ret = super(_taskId);

        this.toggleButtons();

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>toggleButtons</Name>
				<Source><![CDATA[
    public void toggleButtons()
    {
        buttonGroup.enabled(!this.inViewMode());
        AddProductsButton.enabled(!this.inViewMode());
        removeProductsButton.enabled(element.allowDeleteProducts());
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>InternalOrganization</Name>
				<Methods>
					<Method>
						<Name>ensureExist</Name>
						<Source><![CDATA[
        public void ensureExist()
        {
            RetailInternalOrganization localInternalOrg;

            // create RetailInternalOrganization If It's not created for selected organization.
            if (!internalOrganization)
            {
                localInternalOrg.InternalOrganization = treeSelectedData;
                localInternalOrg.insert();

                internalOrganization.data(localInternalOrg);
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;
            ret = super();
            
            element.enableDisableFields();
            InternalOrgProductUpdateChannelMenuItem.enabled(InternalOrganization.CategoryHierarchy);

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>selectionChanged</Name>
						<Source><![CDATA[
        public void selectionChanged()
        {
            super();

            if (!isTreeSelectionChanged)
            {
                element.setCaptionText();

                // create TmpRetailInternalOrgAttributeGroup
                tmpRetailInternalOrgAttributeGroup.setTmpData(
                    RetailTmpInternalOrgAttributeGroup::populate(internalOrganization.RecId));
                tmpRetailInternalOrgAttributeGroup_ds.executeQuery();

                // range on RetailInternalOrgProductAssortedDisplay view.
                assortedProductDSRange.value(queryValue(internalOrganization.RecId));

                retailInternalOrgProductAssortedDisplay_ds.executeQuery();
            }
             
            isTreeSelectionChanged = false;

            if (FeatureStateProvider::isFeatureEnabled(RetailMerchandisingCopilotSummaryFeature::instance()) &&
                SysDataverseUtility::IsDataverseLinked() &&
                RetailCommerceValidator::findLastCompletedBatchJobId(omInternalOrganization.RecId))
            {
                MerchandisingSummaryTabPage.visible(true);
                summaryController.generateSummaries(AppCopilotSummaryGenerationTrigger::Manual);
            }
            else
            {
                MerchandisingSummaryTabPage.visible(false);
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>CategoryHierarchy</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();
                internalOrganization.InternalOrganization = treeSelectedData;
                internalOrganization_ds.write();

                omInternalOrganization_ds.executeQuery();
            }

]]></Source>
							</Method>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            /// <summary>
            /// Creates a lookupReference to display only navigation hierarchy category.
            /// </summary>
            /// <param name = "_formReferenceControl">
            /// The <c>FormReferenceControl</c> object that will receive the chosen value from the lookup.
            /// </param>
            /// <returns>
            /// A <c>CategoryHierarchy</c> record.
            /// </returns>
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                SysReferenceTableLookup sysReferenceTableLookup;
                QueryBuildDataSource qbdsEcoResCategoryHierarchy, qbdsEcoResCategoryHierarchyRole;
                Query query = new Query();

                sysReferenceTableLookup =
                    SysReferenceTableLookup::newParameters(tableNum(EcoResCategoryHierarchy), _formReferenceControl, true);

                qbdsEcoResCategoryHierarchy = query.addDataSource(tableNum(EcoResCategoryHierarchy));
                qbdsEcoResCategoryHierarchyRole = qbdsEcoResCategoryHierarchy.addDataSource(tableNum(EcoResCategoryHierarchyRole));
                qbdsEcoResCategoryHierarchyRole.relations(true);

                qbdsEcoResCategoryHierarchyRole.addRange(fieldNum(EcoResCategoryHierarchyRole, NamedCategoryHierarchyRole))
                                        .value(SysQuery::value(EcoResCategoryNamedHierarchyRole::RetailChannelNavigation));

                sysReferenceTableLookup.addLookupfield(fieldNum(EcoResCategoryHierarchy, Name));

                sysReferenceTableLookup.parmQuery(query);

                return sysReferenceTableLookup.performFormLookup();
            }

]]></Source>
							</Method>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            /// <summary>
            /// Validates category hierarchy settings of channel, only channel navigation hierarchy is allowed.
            /// </summary>
            /// <returns>
            /// Boolean value, if checkfailed returns false else true.
            /// </returns>
            public boolean validate()
            {
                boolean ret = super();

                if (RetailInternalOrgValidateCategoryHierarchyFlight::instance().isEnabled())
                {
                    if (internalOrganization.CategoryHierarchy == 0)
                    {
                        return true;
                    }

                    EcoResCategoryHierarchyRole hierarchyRole = EcoResCategoryHierarchyRole::findRoleHierarchyPair(EcoResCategoryNamedHierarchyRole::RetailChannelNavigation, internalOrganization.CategoryHierarchy);

                    if (!hierarchyRole)
                    {
                        ret = checkFailed(strFmt("@Retail:RetailNotSupportedCategoryHierarchyError"));
                    }
                }

                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>InheritEnabled</DataField>
						<Methods>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            public boolean validate()
            {
                str confirmationMessage;

                if (internalOrganization.InheritEnabled)
                {
                    // The product attributes for the selected store will be replaced with the product attributes that are assigned to the parent store.
                    // To modify or add attributes for the selected store, you must map the attributes to the store again. Do you want to continue?
                    confirmationMessage = "@REX4040227";
                }
                else
                {
                    // The product attributes inherited from the parent store will be removed for the selected store.
                    // To modify or add attributes for the selected store, you must map the attributes to the store again. Do you want to continue?
                    confirmationMessage = "@REX4040228";
                }

                if (Box::yesNo(confirmationMessage, DialogButton::No) == DialogButton::No)
                {
                    return false;
                }

                return super();
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                internalOrganization.InternalOrganization = treeSelectedData;
                internalOrganization_ds.write();

                tmpRetailInternalOrgAttributeGroup.setTmpData(RetailTmpInternalOrgAttributeGroup::populate(internalOrganization.RecId));
                omInternalOrganization_ds.executeQuery();

                element.enableDisableFields();
                tmpRetailInternalOrgAttributeGroup_ds.executeQuery();

                retailInternalOrgProductAssortedDisplay_ds.research(true);

                if (internalOrganization.InheritEnabled)
                {
                    info::addMessage(Exception::Warning, '@Retail:RetailInternalOrgInheritEnabled');
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>TmpRetailInternalOrgAttributeGroup</Name>
				<Methods>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        public void delete()
        {
            RetailInternalOrgAttributeGroup retailInternalOrgAttributeGroup;
            EcoResAttributeGroupRefRecId attributeRecId = tmpRetailInternalOrgAttributeGroup.AttributeGroup;
            RetailInternalOrgRefRecId internalOrgRecId  = tmpRetailInternalOrgAttributeGroup.InternalOrganization;

            ttsBegin;
            super();

            // delete the related record from RetailInternalOrgAttributeGroup
            retailInternalOrgAttributeGroup = RetailInternalOrgAttributeGroup::findByInternalOrgAndAttGrAndModifier(internalOrgRecId, attributeRecId, RetailChannelAttributeModifier::Product, true);
            if (retailInternalOrgAttributeGroup.RecId)
            {
                retailInternalOrgAttributeGroup.delete();
            }
            ttsCommit;
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            RetailInternalOrgAttributeGroup retailInternalOrgAttributeGroup;

            ttsBegin;
            super();

            if (tmpRetailInternalOrgAttributeGroup.AncestorInternalOrg == tmpRetailInternalOrgAttributeGroup.InternalOrganization)
            {
                retailInternalOrgAttributeGroup = RetailInternalOrgAttributeGroup::findByInternalOrgAndAttGrAndModifier(
                    internalOrganization.RecId, tmpRetailInternalOrgAttributeGroup.AttributeGroup,
                    RetailChannelAttributeModifier::Product, true);

                if (retailInternalOrgAttributeGroup)
                {
                    // Update the display order if the value is changed for the existing record.
                    if (retailInternalOrgAttributeGroup.DisplayOrder != tmpRetailInternalOrgAttributeGroup.AttributeGroupDisplayOrder)
                    {
                        retailInternalOrgAttributeGroup.DisplayOrder = tmpRetailInternalOrgAttributeGroup.AttributeGroupDisplayOrder;
                        retailInternalOrgAttributeGroup.update();
                    }
                }
                else
                {
                    // Add new record.
                    retailInternalOrgAttributeGroup.AttributeGroup = tmpRetailInternalOrgAttributeGroup.AttributeGroup;
                    retailInternalOrgAttributeGroup.InternalOrganization = tmpRetailInternalOrgAttributeGroup.InternalOrganization;
                    retailInternalOrgAttributeGroup.Modifier = RetailChannelAttributeModifier::Product;
                    retailInternalOrgAttributeGroup.DisplayOrder = tmpRetailInternalOrgAttributeGroup.AttributeGroupDisplayOrder;
                    retailInternalOrgAttributeGroup.insert();
                }
            }

            ttsCommit;
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            boolean overriddenAttributeGroup;
            RetailTmpInternalOrgAttributeGroup tmpInternalOrgAttributeGroup;
            int ret;
            ret = super();

            // traverse on all the selected record in grid and allow deletion only if all the selected record is inherited from itself.
            for (tmpInternalOrgAttributeGroup = tmpRetailInternalOrgAttributeGroup_ds.getFirst(true) ? tmpRetailInternalOrgAttributeGroup_ds.getFirst(true) : tmpRetailInternalOrgAttributeGroup_ds.cursor();
                tmpInternalOrgAttributeGroup;
                tmpInternalOrgAttributeGroup = tmpRetailInternalOrgAttributeGroup_ds.getnext())
            {
                if (tmpInternalOrgAttributeGroup.AncestorInternalOrg != tmpInternalOrgAttributeGroup.InternalOrganization)
                {
                    overriddenAttributeGroup = true;
                    break;
                }
            }
            tmpRetailInternalOrgAttributeGroup_ds.allowDelete(!overriddenAttributeGroup);

            // Do not allow editing the attribute group that is inherited.
            tmpRetailInternalOrgAttributeGroup_ds.allowEdit(!overriddenAttributeGroup);

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        public void create(boolean _append = false)
        {
            super(_append);

            internalOrganization_ds.ensureExist();

            tmpRetailInternalOrgAttributeGroup.AncestorInternalOrg = internalOrganization.RecId;
            tmpRetailInternalOrgAttributeGroup.InternalOrganization = internalOrganization.RecId;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>AttributeGroup</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();
                tmpRetailInternalOrgAttributeGroup.Description = EcoResAttributeGroupTranslation::findByGroupAndLanguage(
                    tmpRetailInternalOrgAttributeGroup.AttributeGroup, SystemParameters::getSystemLanguageId()).Description;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailInternalOrgCatHierarchyCollapsed</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            this.query().dataSourceTable(tableNum(RetailInternalOrgCatHierarchyCollapsed)).
                addLink(fieldNum(RetailInternalOrganization, RecId),
                    fieldNum(RetailInternalOrgCatHierarchyCollapsed, InternalOrganization));
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>EcoResCategoryHierarchy</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            //by design to prevent errors when modifying the category hierarchy.
            //super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;

            //by design to prevent errors when modifying the category hierarchy.
            ret = true;//super(); // don't validate since do not create any entry.

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            this.query().dataSourceTable(tableNum(EcoResCategoryHierarchy)).addLink
                (fieldNum(RetailInternalOrgCatHierarchyCollapsed, CategoryHierarchy),
                (fieldNum(EcoResCategoryHierarchy, RecId)));
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>OMInternalOrganization</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            omInternalOrgDSRange = this.query().dataSourceTable(tableNum(OMInternalOrganization))
                .addRange(fieldNum(OMInternalOrganization, RecId));
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailInternalOrgProductAssortedDisplay</Name>
				<Methods>
					<Method>
						<Name>selectionChanged</Name>
						<Source><![CDATA[
        public void selectionChanged()
        {
            super();

            element.toggleButtons();
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            QueryBuildDataSource qbds;

            utcDateTime utcNow = DateTimeUtil::utcNow();
            date companyToday = DateTimeUtil::date(DateTimeUtil::applyTimeZoneOffset(utcNow, DateTimeUtil::getCompanyTimeZone()));

            super();

            qbds = this.query().dataSourceTable(tableNum(RetailInternalOrgProductAssortedDisplay));

            assortedProductDSRange = qbds.addRange(fieldNum(RetailInternalOrgProductAssortedDisplay, InternalOrganization));

            qbds.addRange(fieldNum(RetailInternalOrgProductAssortedDisplay, validFrom)).value('..' + queryValue(utcNow));
            qbds.addRange(fieldNum(RetailInternalOrgProductAssortedDisplay, validTo)).value(queryValue(utcNow) + '..');

            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, InternalOrganization));
            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, Product));
            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, DisplayProductNumber));
            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, ProductName));
            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, AncestorInternalOrg));
            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, AncestorInternalOrgName));
            qbds.addSortField(fieldNum(RetailInternalOrgProductAssortedDisplay, Overridden));
            qbds.orderMode(OrderMode::GroupBy);
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            // Prevent errors when modifying the RetailInternalOrgProductAssortedDisplay view.
            // super();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailInternalOrgProduct</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            QueryBuildDataSource qbds;

            super();

            qbds = this.query().dataSourceTable(tableNum(RetailInternalOrgProduct));
            qbds.addLink(fieldNum(RetailInternalOrgProductAssortedDisplay, InternalOrganization), fieldNum(RetailInternalOrgProduct, InternalOrganization));
            qbds.addLink(fieldNum(RetailInternalOrgProductAssortedDisplay, Product), fieldNum(RetailInternalOrgProduct, Product));
            qbds.addSortField(fieldNum(RetailInternalOrgProduct, RecId));
            qbds.orderMode(OrderMode::GroupBy);
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>ExcelEditButton</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            super();

            RetailTmpBulkProductAttributeValue::refreshFromInternalOrg(internalOrganization.RecId);

            Map filtersToApply = new Map(Types::String, Types::Class);
            filtersToApply.insert(tablestr(RetailTmpBulkProductAttributeValueEntity), element.getExportToExcelFilter());

            RetailUtilities::openInExcel(resourcestr(RetailProductAttributeValueEditableExportTemplate), filtersToApply);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>HierarchyTreeCtrl</Name>
				<Type>Tree</Type>
				<Methods>
					<Method>
						<Name>selectionChanged</Name>
						<Source><![CDATA[
        public void selectionChanged(FormTreeItem _oldItem, FormTreeItem _newItem, FormTreeSelect _how)
        {
            treeSelectedData = _newItem.data();

            super(_oldItem, _newItem, _how);

            omInternalOrgDSRange.value(queryValue(treeSelectedData));
            omInternalOrganization_ds.executeQuery();

            element.setCaptionText();

            // create TmpRetailInternalOrgAttributeGroup
            tmpRetailInternalOrgAttributeGroup.setTmpData(
                RetailTmpInternalOrgAttributeGroup::populate(internalOrganization.RecId));
            tmpRetailInternalOrgAttributeGroup_ds.executeQuery();

            // range on RetailInternalOrgProductAssortedDisplay view.
            assortedProductDSRange.value(queryValue(internalOrganization.RecId));

            retailInternalOrgProductAssortedDisplay_ds.executeQuery();
        
            isTreeSelectionChanged = true;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddProductsButton</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            xFormRun        formRun;
            Args            args;
            MenuFunction    menuFunction;

            internalOrganization_ds.ensureExist();

            args = new Args();
            args.caller(element);
            args.record(internalOrganization);
            args.parmObject(retailInternalOrgProductAssortedDisplay_ds);

            menuFunction = new MenuFunction(menuitemDisplayStr(RetailAddChannelItems), MenuItemType::Display);
            formRun = menuFunction.create(args);
            formRun.run();
            formRun.wait();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RemoveProductsButton</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            MultiSelectionHelper multiSelectionHelper;
            RetailInternalOrgProduct internalOrgProductLocal;
            RetailInternalOrgProduct internalOrgProductDelete;

            if (Box::yesNo("@REX4520039", DialogButton::Yes) == DialogButton::No)
            {
                return;
            }

            multiSelectionHelper = MultiSelectionHelper::construct();
            multiSelectionHelper.parmDatasource(RetailInternalOrgProduct_ds);
            for (internalOrgProductLocal = multiSelectionHelper.getFirst();
                internalOrgProductLocal;
                internalOrgProductLocal = multiSelectionHelper.getNext())
            {
                if (internalOrgProductLocal)
                {
                    internalOrgProductDelete = RetailInternalOrgProduct::find(internalOrgProductLocal.RecId, true);
                    internalOrgProductDelete.delete();
                }
            }

            retailInternalOrgProductAssortedDisplay_ds.research(true);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailInternalOrgProductMedia</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            FormRun caller = element.args().caller();
            RefRecId catalogRecId = 0;
            RefRecId productRecId = retailInternalOrgProductAssortedDisplay.Product;
            RefRecId internalOrgId = retailInternalOrgProductAssortedDisplay.InternalOrganization;

            if (productRecId && internalOrgId)
            {
                RetailMediaHelper::openRetailMediaForm(element, productRecId, catalogRecId, internalOrgId);
            }
            else
            {
                info::addMessage(Exception::Warning, "@RetailMediaGalleryLabels:OpenEntityMediaFormWarning");
            }
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailProductAttributeValue</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            internalOrganization_ds.ensureExist();

            RetailProductAttributeValue.parameters(int642str(internalOrganization.RecId));

            this.openMode(element.inViewMode() ? OpenMode::View :OpenMode::Edit);

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<AllowPreLoading>No</AllowPreLoading>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>InternalOrganization</Name>
			<Table>RetailInternalOrganization</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>CategoryHierarchy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InheritEnabled</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InternalOrganization</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LastModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>OMInternalOrganization</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<AllowDelete>No</AllowDelete>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>TmpRetailInternalOrgAttributeGroup</Name>
			<Table>RetailTmpInternalOrgAttributeGroup</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AncestorInternalOrg</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AttributeGroup</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisplayOrder</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InternalOrganization</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailInternalOrgCatHierarchyCollapsed</Name>
			<Table>RetailInternalOrgCatHierarchyCollapsed</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AncestorInternalOrg</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CategoryHierarchy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Distance</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InternalOrganization</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Origin</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OriginRecVersion</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidFrom</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidTo</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>InternalOrganization</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>EcoResCategoryHierarchy</Name>
			<Table>EcoResCategoryHierarchy</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>createdBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HierarchyModifier</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailInternalOrgCatHierarchyCollapsed</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>OMInternalOrganization</Name>
			<Table>OMInternalOrganization</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>createdBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>createdDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DunsNumberRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>KnownAs</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LanguageId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>NameAlias</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OrganizationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PartyNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PhoneticName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryAddressLocation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryContactEmail</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryContactFax</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryContactPhone</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryContactTelex</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryContactURL</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>relationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>OMInternalOrganization_OMTeam</Name>
					<Table>OMTeam</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>Description</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>IsActive</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TeamAdministrator</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TeamMembershipCriterion</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>OMInternalOrganization_OMOperatingUnit</Name>
					<Table>OMOperatingUnit</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>HcmWorker</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OMOperatingUnitNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OMOperatingUnitType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>OMInternalOrganization_CompanyInfo</Name>
					<Table>CompanyInfo</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>Accountant_LT</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>AccountingPersonnel_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>AccountOfficeRefNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ActivityCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>AddrFormat</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Bank</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BankAcctUsedFor1099</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BankCentralBankPurposeCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BankCentralBankPurposeText</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BranchId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BranchNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BusinessActivity_SA</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BusinessActivityDesc_SA</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BusinessCommencedDate_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BusinessInitialCapital_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BusinessItem_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>BusinessNumber_CA</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CertifiedTaxAccountant_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CNAE_BR</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CombinedFedStateFiler</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CommercialRegister</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CommercialRegisterInsetNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CommercialRegisterSection</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CompanyNAFCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CompanyRegComFR</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CompanyRepresentative_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CompanyType_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ConversionDate</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CoRegNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CUC_IT</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Curp_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CustomsCustomerNumber_FI</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CustomsLicenseNumber_FI</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DataArea</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DBA</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DVRid</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>EnterpriseCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>EnterpriseNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>FICreditorID_DK</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>FileNumber_SA</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>FiscalCode_IT</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ForeignEntityIndicator</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>FSS_RU</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>FSSAccount_RU</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Giro</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>GiroContract</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>GiroContractAccount</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Head_LT</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ImportVATNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ImportVATNumBranchId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>IntrastatCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>IsConsolidationCompany</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>IsEliminationCompany</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>IssuingSignature</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Key</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LastFilingIndicator</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LegalFormFR</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LegalNature_IT</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LegalRepresentative_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LegalRepresentativeCurp_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LegalRepresentativeName_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LegalRepresentativeRfc_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>NameControl</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OrganizationLegalForm_RU</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>OrgId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PackMaterialFeeLicenseNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PaymInstruction1</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PaymInstruction2</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PaymInstruction3</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PaymInstruction4</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PaymRoutingDNB</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PaymTraderNumber</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PersonInCharge_JP</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PFRegNum_RU</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PlanningCompany</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrintCorrInvoiceLabel_DE</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrintCorrInvoiceLabelEffDate_DE</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrintEnterpriseregister_NO</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>PrintINNKPPInAddress_RU</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RAlienCorpCountry</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RAlienCorpName</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RegNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Resident_W</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Rfc_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RFullName</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ShippingCalendarId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>SiaCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>SoftwareIdentificationCode_CA</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>StateInscription_MX</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>SubordinateCode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Tax1099RegNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TaxAuthority_RU</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TaxRepresentative</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TCC</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TemplateFolder_W</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>UPSNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>validate1099OnEntry</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>VATNum</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>VATNumBranchId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailInternalOrgProductAssortedDisplay</Name>
			<Table>RetailInternalOrgProductAssortedDisplay</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AncestorInternalOrg</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AncestorInternalOrgName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisplayProductNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InternalOrganization</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Overridden</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProductName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidFrom</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidTo</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailInternalOrgProduct</Name>
			<Table>RetailInternalOrgProduct</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InternalOrganization</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailInternalOrgProductAssortedDisplay</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@REX1062</Caption>
		<Height xmlns="">0</Height>
		<HeightMode xmlns="">Column</HeightMode>
		<Pattern xmlns="">SimpleListDetails-Tree</Pattern>
		<PatternVersion xmlns="">1.3</PatternVersion>
		<Style xmlns="">SimpleListDetails</Style>
		<TitleDataSource xmlns="">RetailInternalOrgCatHierarchyCollapsed</TitleDataSource>
		<Width xmlns="">0</Width>
		<WidthMode xmlns="">Column</WidthMode>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>ActionPaneHeader</Name>
				<ElementPosition>715827882</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>0</Width>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>SetupButtonGroup</Name>
						<ElementPosition>1431655764</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>RetailChannelMapAttributes</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>RetailInternalOrgCatHierarchyCollapsed</DataSource>
								<MenuItemName>RetailChannelMapAttributes</MenuItemName>
								<MultiSelect>No</MultiSelect>
								<NeedsRecord>Yes</NeedsRecord>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormButtonControl">
								<Name>ExcelEditButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Button</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<Text>@Retail:ProductAttributeValueOpenInExcel</Text>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>InternalOrgProductUpdateChannelMenuItem</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Big>Yes</Big>
								<DataSource>InternalOrganization</DataSource>
								<MenuItemName>RetailInternalOrgUpdateChannel</MenuItemName>
								<MenuItemType>Action</MenuItemType>
								<MultiSelect>No</MultiSelect>
								<NeedsRecord>Yes</NeedsRecord>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
						<Caption>@RET260627</Caption>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>CategoryTreeGroup</Name>
				<HeightMode>SizeToAvailable</HeightMode>
				<Type>Group</Type>
				<Width>300</Width>
				<WidthMode>Manual</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTreeControl">
						<Name>HierarchyTreeCtrl</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1431655764</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>SizeToAvailable</HeightMode>
						<Type>Tree</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<FormControlExtension
							i:nil="true" />
					</AxFormControl>
				</Controls>
				<FrameType>None</FrameType>
				<Style>SidePanel</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>SplitterX</Name>
				<Type>Group</Type>
				<FormControlExtension
					i:nil="true" />
				<Controls />
				<Style>SplitterVerticalContainer</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>DetailsHeader</Name>
				<Pattern>FieldsFieldGroups</Pattern>
				<PatternVersion>1.1</PatternVersion>
				<Type>Group</Type>
				<WidthMode>SizeToAvailable</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls />
				<ColumnsMode>Fill</ColumnsMode>
				<FrameType>None</FrameType>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>DetailsTab</Name>
				<AlignControl>No</AlignControl>
				<ElementPosition>1431655764</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>MerchandisingSummaryTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ExtendedStyle>appCopilotSummary_TopicsPage</ExtendedStyle>
						<Pattern>Custom</Pattern>
						<Type>TabPage</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>SummaryGeneratingGroup</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>Group</Type>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls />
							</AxFormControl>
						</Controls>
						<Caption>@AppCopilotSummaryControl:Summary</Caption>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>HeaderView</Name>
						<ElementPosition>984263336</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>General</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>General_InternalOrganization</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>ReferenceGroup</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>General_InternalOrganization_Name</Name>
												<DataRelationPath>OMInternalOrganization</DataRelationPath>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
											</AxFormControl>
										</Controls>
										<DataSource>InternalOrganization</DataSource>
										<ReferenceField>InternalOrganization</ReferenceField>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>General_InheritEnabled</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>InheritEnabled</DataField>
										<DataSource>InternalOrganization</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>General_CategoryHierarchy</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>ReferenceGroup</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>General_CategoryHierarchy_Name</Name>
												<DataRelationPath>EcoResCategoryHierarchy</DataRelationPath>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
											</AxFormControl>
										</Controls>
										<DataSource>InternalOrganization</DataSource>
										<ReferenceField>CategoryHierarchy</ReferenceField>
									</AxFormControl>
								</Controls>
								<DataGroup>General</DataGroup>
								<DataSource>InternalOrganization</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>EcoResCategoryHierarchy_Name</Name>
								<ElementPosition>1789569705</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<DataField>Name</DataField>
								<DataSource>EcoResCategoryHierarchy</DataSource>
								<Label>@SYS134273</Label>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormDateTimeControl">
								<Name>InternalOrganization_LastModifiedDateTime</Name>
								<ElementPosition>1968526675</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>DateTime</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<DataField>LastModifiedDateTime</DataField>
								<DataSource>InternalOrganization</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS35893</Caption>
						<DataSource>InternalOrganization</DataSource>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>AttributeGroupTabPage</Name>
						<ElementPosition>1476395006</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>Custom</Pattern>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Group_Group</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Height>0</Height>
								<HeightMode>SizeToAvailable</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<Width>0</Width>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneControl">
										<Name>ActionPane</Name>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPane</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Width>0</Width>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneTabControl">
												<Name>ActionPaneTab1</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ActionPaneTab</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>ButtonGroup</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Left>0</Left>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormCommandButtonControl">
																<Name>AttributeGroupAddLine</Name>
																<ElementPosition>1073741822</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>CommandButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<Command>New</Command>
																<NormalImage>New</NormalImage>
																<Text>@SYS60080</Text>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormCommandButtonControl">
																<Name>AttributeGroupRemove</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1610612734</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>CommandButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<Command>DeleteRecord</Command>
																<MultiSelect>Yes</MultiSelect>
																<NeedsRecord>Yes</NeedsRecord>
																<NormalImage>Delete</NormalImage>
																<Text>@SYS135131</Text>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormMenuFunctionButtonControl">
																<Name>EcoResAttributeGroupView</Name>
																<ElementPosition>1717986916</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>MenuFunctionButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextOnly</ButtonDisplay>
																<MenuItemName>EcoResAttributeGroupView</MenuItemName>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
														<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<Style>Strip</Style>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGridControl">
										<Name>Grid</Name>
										<ElementPosition>1610612734</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Grid</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormGroupControl">
												<Name>AttributeGroup</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Group</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormReferenceGroupControl">
														<Name>AttributeGroup_AttributeGroup</Name>
														<ElementPosition>1073741822</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ReferenceGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormStringControl">
																<Name>AttributeGroup_AttributeGroup_Name</Name>
																<DataRelationPath>EcoResAttributeGroup</DataRelationPath>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>String</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
															</AxFormControl>
														</Controls>
														<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
														<ReferenceField>AttributeGroup</ReferenceField>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>TmpRetailInternalOrgAttributeGroup_Description</Name>
														<ElementPosition>1342177277</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataField>Description</DataField>
														<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormReferenceGroupControl">
														<Name>TmpRetailInternalOrgAttributeGroup_AncestorInternalOrganization</Name>
														<ElementPosition>1610612733</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ReferenceGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormStringControl">
																<Name>TmpRetailInternalOrgAttributeGroup_AncestorInternalOrganization_OMInternalOrganization_Name</Name>
																<DataRelationPath>AncestorInternalOrg.OMInternalOrganization</DataRelationPath>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>String</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
															</AxFormControl>
														</Controls>
														<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
														<ReferenceField>AncestorInternalOrg</ReferenceField>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormRealControl">
														<Name>TmpRetailInternalOrgAttributeGroup_DisplayOrder</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<FilterExpression>%1</FilterExpression>
														<Type>Real</Type>
														<Visible>No</Visible>
														<FormControlExtension
															i:nil="true" />
														<DataField>AttributeGroupDisplayOrder</DataField>
														<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
													</AxFormControl>
												</Controls>
												<BackgroundColor>WindowBackground</BackgroundColor>
												<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
											</AxFormControl>
										</Controls>
										<DataSource>TmpRetailInternalOrgAttributeGroup</DataSource>
									</AxFormControl>
								</Controls>
							</AxFormControl>
						</Controls>
						<Caption>@SYS191496</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>ProductTabPage</Name>
						<ElementPosition>1811939326</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>Custom</Pattern>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>ProductGroup</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Height>0</Height>
								<HeightMode>SizeToAvailable</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<Width>0</Width>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneControl">
										<Name>ProductActionPane</Name>
										<ElementPosition>954437176</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPane</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Width>0</Width>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneTabControl">
												<Name>ProductActionPaneTab</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ActionPaneTab</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>ProductManagementButtonGroup</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>954437176</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Left>0</Left>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormButtonControl">
																<Name>AddProductsButton</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1073741822</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>Button</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<NormalImage>New</NormalImage>
																<Text>@RET4160088</Text>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormButtonControl">
																<Name>RemoveProductsButton</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1610612734</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>Button</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<MultiSelect>Yes</MultiSelect>
																<NeedsRecord>Yes</NeedsRecord>
																<NormalImage>Delete</NormalImage>
																<SaveRecord>No</SaveRecord>
																<Text>@SYS135131</Text>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>ProductActionButtonGroup</Name>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Left>0</Left>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormMenuFunctionButtonControl">
																<Name>RetailInternalOrgProductMedia</Name>
																<Type>MenuFunctionButton</Type>
																<FormControlExtension
																	i:nil="true" />
																<MenuItemName>RetailInternalOrgProductMedia</MenuItemName>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormMenuFunctionButtonControl">
																<Name>RetailProductAttributeValue</Name>
																<AutoDeclaration>Yes</AutoDeclaration>
																<ElementPosition>1193046470</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>MenuFunctionButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextOnly</ButtonDisplay>
																<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
																<MenuItemName>RetailCatalogProductAttributeValue</MenuItemName>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormMenuFunctionButtonControl">
																<Name>RetailInternalOrgAssortedProdByChannel</Name>
																<ElementPosition>1789569705</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>MenuFunctionButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextOnly</ButtonDisplay>
																<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
																<MenuItemName>RetailInternalOrgAssortedProdByChannel</MenuItemName>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<Style>Strip</Style>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGridControl">
										<Name>ProductsGrid</Name>
										<ElementPosition>1550960411</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Grid</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>EcoResProduct_DisplayProductNumber</Name>
												<ElementPosition>715827882</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>DisplayProductNumber</DataField>
												<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>EcoResProductTranslation_Name</Name>
												<ElementPosition>1073741823</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>ProductName</DataField>
												<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>StringEditAncestorInternalOrgName</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>AncestorInternalOrgName</DataField>
												<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormCheckBoxControl">
												<Name>CheckBoxOverridden</Name>
												<ElementPosition>1789569705</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>CheckBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<BackgroundColor>WindowBackground</BackgroundColor>
												<DataField>Overridden</DataField>
												<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
											</AxFormControl>
										</Controls>
										<DataSource>RetailInternalOrgProductAssortedDisplay</DataSource>
									</AxFormControl>
								</Controls>
							</AxFormControl>
						</Controls>
						<Caption>@RET6066</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<Style>FastTabs</Style>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>