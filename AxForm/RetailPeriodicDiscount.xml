<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>RetailPeriodicDiscount</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
[Form]
public class RetailPeriodicDiscount extends FormRun
    implements SysIFilterConsumerForm, SysIFilterEventHandler, InventItemIdProvider, OfficeIGeneratedWorkbookCustomExporter
{
    #ISOCountryRegionCodes

    NumberSeqFormHandler numberSeqOfferId;
    NumberSeqFormHandler numberSeqMixAndMatchId;
    NumberSeqFormHandler numberSeqMultibuyId;
    NumberSeqFormHandler numberSeqThresholdId;
    RetailDiscountOfferType periodicDiscountType;
    RetailDiscountMultibuy multibuyDiscount;

    InventDimCtrl_Frm       inventDimFormSetupRetailPeriodicDiscount;
    InventDimCtrl_Frm       inventDimFormSetupThresholdApplying;

    // Keep for compatibility reason.
    boolean disableEmptyRGMLCheck = false;

    static boolean isPropertyBasedMode = false;

}
]]></Source>
			</Method>
			<Method>
				<Name>itemId</Name>
				<Source><![CDATA[
    public ItemId itemId()
    {
        InventTable localInventTable;

        FormControl control = this.selectedControl();
        if (control.hierarchyParent() == formControlStr(RetailPeriodicDiscount, InventoryDimension) &&  retailGroupMemberLine.Product)
        {
            select localInventTable where localInventTable.Product == retailGroupMemberLine.Product;
        }
        else if(control.hierarchyParent() == formControlStr(RetailPeriodicDiscount, ThresholdApplyingLines_InventoryDimension) &&  retailGroupMemberLineThresholdApplying.Product)
        {
            select localInventTable where localInventTable.Product == retailGroupMemberLineThresholdApplying.Product;
        }

        return localInventTable.ItemId;
    }

]]></Source>
			</Method>
			<Method>
				<Name>activate</Name>
				<Source><![CDATA[
    public void activate(boolean _active)
    {
        RetailPeriodicDiscount discount;
        FormDataSource formDataSource = FormDataUtil::getFormDataSource(retailPeriodicDiscount);
        formDataSource.allowEdit(true);

        // If the discount offer id exist, focus on that.
        if (element.args().parm())
        {
            discount = RetailPeriodicDiscount::findByOfferId(element.args().parm());
            if (discount)
            {
                RetailPeriodicDiscount_DS.positionToRecord(discount);
            }
        }

        super(_active);
    }

]]></Source>
			</Method>
			<Method>
				<Name>close</Name>
				<Source><![CDATA[
    public void close()
    {
        if (numberSeqOfferId && retailPeriodicDiscount is RetailDiscountOffer)
        {
            numberSeqOfferId.formMethodClose();
        }

        if (numberSeqMixAndMatchId && retailPeriodicDiscount is RetailDiscountMixAndMatch)
        {
            numberSeqMixAndMatchId.formMethodClose();
        }

        if (numberSeqMultibuyId && retailPeriodicDiscount is RetailDiscountMultibuy)
        {
            numberSeqMultibuyId.formMethodClose();
        }

        if (numberSeqThresholdId && retailPeriodicDiscount is RetailDiscountThreshold)
        {
            numberSeqThresholdId.formMethodClose();
        }

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>createRecord</Name>
				<Source><![CDATA[
    public void createRecord(str _formDataSourceName, boolean _append = false)
    {
        Map typesToCreate = new Map(Types::String, Types::String);
        if (this.dataSource(_formDataSourceName).id() == retailPeriodicDiscountLine_ds.id())
        {
            typesToCreate.insert(retailPeriodicDiscountLine_ds.name(), this.getDiscountLineTypeTableName());
            retailPeriodicDiscountLine_ds.createTypes(typesToCreate);
        }
        else if (this.dataSource(_formDataSourceName).id() == retailPeriodicDiscount_ds.id())
        {
            typesToCreate.insert(retailPeriodicDiscount_ds.name(), this.getDiscountTypeTableName());
            retailPeriodicDiscount_ds.createTypes(typesToCreate);
        }
        else
        {
            super(_formDataSourceName, _append);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>filterDiscountsByType</Name>
				<Source><![CDATA[
    public void filterDiscountsByType(RetailDiscountOfferType _discountType)
    {
        str rangeType = queryValue(_discountType);

        if (_discountType == RetailDiscountOfferTypeBase::DiscountOffer 
            || _discountType == RetailDiscountOfferTypeBase::DiscountOfferLineQuantityLimit)
        {
            rangeType = queryRangeConcat(queryValue(RetailDiscountOfferTypeBase::DiscountOffer), 
                                         queryValue(RetailDiscountOfferTypeBase::DiscountOfferLineQuantityLimit));
        }

        if (_discountType == RetailDiscountOfferTypeBase::MixAndMatch
            || _discountType == RetailDiscountOfferTypeBase::LeastExpensiveFavorRetailer)
        {
            rangeType = queryRangeConcat(queryValue(RetailDiscountOfferTypeBase::MixAndMatch),
                                         queryValue(RetailDiscountOfferTypeBase::LeastExpensiveFavorRetailer));
        }

        retailPeriodicDiscount_ds.query()
            .dataSourceTable(tableNum(RetailPeriodicDiscount))
            .addRange(fieldNum(RetailPeriodicDiscount, PeriodicDiscountType))
            .value(rangeType);
    }

]]></Source>
			</Method>
			<Method>
				<Name>getDiscountLineTypeTableName</Name>
				<Source><![CDATA[
    private TableName getDiscountLineTypeTableName()
    {
        if (periodicDiscountType == RetailDiscountOfferTypeBase::Multibuy)
        {
            return tableStr(RetailDiscountLineMultibuy);
        }
        else if (periodicDiscountType == RetailDiscountOfferTypeBase::MixAndMatch
              || periodicDiscountType == RetailDiscountOfferTypeBase::LeastExpensiveFavorRetailer)
        {
            return tableStr(RetailDiscountLineMixAndMatch);
        }
        else if (periodicDiscountType == RetailDiscountOfferTypeBase::DiscountOffer 
              || periodicDiscountType == RetailDiscountOfferTypeBase::Promotion
              || periodicDiscountType == RetailDiscountOfferTypeBase::Threshold
              || periodicDiscountType == RetailDiscountOfferTypeBase::DiscountOfferLineQuantityLimit
              || periodicDiscountType == RetailDiscountOfferTypeBase::Shipping)
        {
            return tableStr(RetailDiscountLineOffer);
        }
        else
        {
            var ret = RetailPeriodicDiscountFormDelegates::getDiscountLineTypeTableName(periodicDiscountType);

            if (ret.hasResult())
            {
                return ret.result();
            }

            throw warning(strFmt("@Retail:RetailAXExtensibilityDelegateMethodExtensibleEnumNotImplemented", enum2Str(periodicDiscountType)));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>getDiscountTypeTableName</Name>
				<Source><![CDATA[
    private TableName getDiscountTypeTableName()
    {
        if (periodicDiscountType == RetailDiscountOfferTypeBase::Multibuy)
        {
            return tableStr(RetailDiscountMultibuy);
        }
        else if (periodicDiscountType == RetailDiscountOfferTypeBase::MixAndMatch
              || periodicDiscountType == RetailDiscountOfferTypeBase::LeastExpensiveFavorRetailer)
        {
            return tableStr(RetailDiscountMixAndMatch);
        }
        else if (periodicDiscountType == RetailDiscountOfferTypeBase::Threshold)
        {
            return tableStr(RetailDiscountThreshold);
        }
        else if (periodicDiscountType == RetailDiscountOfferTypeBase::Shipping)
        {
            return tableStr(RetailShippingThresholdDiscounts);
        }
        else if (periodicDiscountType == RetailDiscountOfferTypeBase::DiscountOffer
              || periodicDiscountType == RetailDiscountOfferTypeBase::Promotion
              || periodicDiscountType == RetailDiscountOfferTypeBase::DiscountOfferLineQuantityLimit)
        {
            return tableStr(RetailDiscountOffer);
        }
        else
        {
            var ret = RetailPeriodicDiscountFormDelegates::getDiscountTypeTableName(periodicDiscountType);

            if (ret.hasResult())
            {
                return ret.result();
            }

            throw warning(strFmt("@Retail:RetailAXExtensibilityDelegateMethodExtensibleEnumNotImplemented", enum2Str(periodicDiscountType)));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>resetN1OfferLineMethod</Name>
				<Source><![CDATA[
    private void resetN1OfferLineMethod()
    {
        if (isConfigurationkeyEnabled(ConfigurationKeyNum(RetailCDXBackwardCompatibility)))
        {
            retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPriceN1 = 0;
            retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPriceInclTaxN1 = 0;
            retailPeriodicDiscountLine_RetailDiscountLineOffer.discountMethodN1 = enum2int(retailPeriodicDiscountLine_RetailDiscountLineOffer.discountMethod);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>initPropertyControls</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initialize pricing property controls based on <c>RetailPricingPropertyDefinition</c>.
    /// </summary>
    internal void initPropertyControls()
    {
        RetailPricingPropertyDefinition::init(); // If no pricing properties configured, we will create and use the seed properties.

        FormBuildDataSource dataSource = element.form().dataSource(formDataSourceStr(RetailPeriodicDiscount, RetailDiscountApplicabilityRule));
        FormBuildGridControl gridControl = element.form().design().control(formControlStr(RetailPeriodicDiscount, DiscountLineGrid));

        RetailPricingPropertyDefinition propertyDefinition;
        EcoResAttribute ecoResAttribute;
        while select propertyDefinition
            order by propertyDefinition.DisplayOrder desc, propertyDefinition.RecId desc
            where propertyDefinition.PropertyLevel == RetailPricingPropertyLevel::Line
               && propertyDefinition.Status == RetailPricingPropertyProcessStatus::Published
        outer join RecId, Name, AttributeType from ecoResAttribute
                where ecoResAttribute.RecId == propertyDefinition.EcoResAttributeRecId
        {
            if (propertyDefinition.PropertyType == RetailPricingPropertyType::Predefined)
            {
                FieldId fieldNumber = RetailPricingPredefinedPropertyHelper::getPredefinedPropertyFieldNum(propertyDefinition.PredefinedProperty);

                FormBuildControl control = gridControl.addDataField(dataSource.id(), fieldNumber);
                gridcontrol.movecontrol(control.id());

                if (propertyDefinition.PredefinedProperty == RetailPricingPredefinedProperty::Category)
                {
                    FormBuildReferenceGroupControl referenceGroup = control as FormBuildReferenceGroupControl;
                    referenceGroup.registerOverrideMethod(methodStr(FormReferenceGroupControl, lookup), formMethodStr(RetailPeriodicDiscount, categoryLookup), this);
                }

                if (propertyDefinition.PredefinedProperty == RetailPricingPredefinedProperty::Product)
                {
                    FormBuildReferenceGroupControl referenceGroup = control as FormBuildReferenceGroupControl;
                    referenceGroup.registerOverrideMethod(methodStr(FormReferenceGroupControl, lookup), formMethodStr(RetailPeriodicDiscount, productLookup), this);
                }

                if (propertyDefinition.PredefinedProperty == RetailPricingPredefinedProperty::Variant)
                {
                    FormBuildReferenceGroupControl referenceGroup = control as FormBuildReferenceGroupControl;
                    referenceGroup.registerOverrideMethod(methodStr(FormReferenceGroupControl, lookup), formMethodStr(RetailPeriodicDiscount, variantLookup), this);
                }
            }
            else if (propertyDefinition.PropertyType == RetailPricingPropertyType::EcoResAttribute)
            {
                FieldId fieldNumber = RetailDiscountApplicabilityRule::getPropValueFieldId(propertyDefinition.Sequence);
                FormBuildControl control = gridControl.addDataField(dataSource.id(), fieldNumber);
                FormBuildStringControl formBuildStringControl = control as FormBuildStringControl;
                formBuildStringControl.label(ecoResAttribute.Name);
                gridcontrol.movecontrol(control.id());

                EcoResAttributeType attributeType = EcoResAttributeType::find(ecoResAttribute.AttributeType);

                var lookup = new RetailPricingAttributeValueHelper(ecoResAttribute.RecId);

                switch (attributeType.DataType)
                {
                    case AttributeDataType::Text:
                        // If the attribute value has a list of options, display a lookup for selection.
                        if (attributeType.IsEnumeration)
                        {
                            formBuildStringControl.lookupButton(FormLookupButton::Always);
                            formBuildStringControl.registerOverrideMethod(methodStr(FormStringControl, lookup), methodStr(RetailPricingAttributeValueHelper, lookup), lookup);
                        }
                        break;
                    case AttributeDataType::TrueFalse:
                        formBuildStringControl.lookupButton(FormLookupButton::Always);
                        formBuildStringControl.registerOverrideMethod(methodStr(FormStringControl, lookup), methodStr(RetailPricingAttributeValueHelper, lookupBoolean), lookup);

                        break;
                    case AttributeDataType::Integer:
                        formBuildStringControl.registerOverrideMethod(methodStr(FormStringControl, validate), methodStr(RetailPricingAttributeValueHelper, validateInt), lookup);
                        break;
                }
            }
            else
            {
                this.initExtensionPropertyControl(propertyDefinition, gridControl, dataSource);
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>initExtensionPropertyControl</Name>
				<Source><![CDATA[
    [Hookable(true), Replaceable(true)]
    protected void initExtensionPropertyControl(RetailPricingPropertyDefinition propertyDefinition, FormBuildGridControl gridControl, FormBuildDataSource dataSource)
    {
        // A hook for extension to render its control.
    }

]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initialize Retail PeriodicDiscount Form:
    /// Enable New discount menu buttons based on DiscountType
    /// Add Filter to datasource based on DiscountType.
    /// </summary>
    public void init()
    {
        if (element.args().menuItemName() == menuItemDisplayStr(RetailDiscountApplicabilityRule))
        {
            if (!RetailPricingFeatureToggle::isRetailPricingPropertyFeatureVisible())
            {
                // Access denied to menu item RetailDiscountApplicabilityRule
                throw Global::error(strFmt("@SYS96690", element.args().menuItemName()));
            }

            isPropertyBasedMode = true;
        }
        else if (element.args().menuItemName() == menuItemDisplayStr(RetailDiscountsAll))
        {
            isPropertyBasedMode = false;
        }

        boolean isPropertyFeatureEnabled = RetailPricingFeatureToggle::isRetailPricingPropertyFeatureEnabled();
        if (isPropertyFeatureEnabled)
        {
            isPropertyBasedMode = true;
        }

        if (isPropertyBasedMode)
        {
            this.initPropertyControls();
            disableEmptyRGMLCheck = true; // When <c>RetailPricingPropertyFeature</c> is enabled, RetailGroupMemberLine is unused.
        }

        super();

        if (element.args().parmEnumType())
        {
            // If the form opens from RetailCoupon.
            if (element.args().caller() && element.args().caller().name() == formStr(RetailCoupon))
            {
                RetailCoupon retailCoupon = element.args().record();
                periodicDiscountType = RetailPeriodicDiscount::findByOfferId(retailCoupon.DiscountOfferId).PeriodicDiscountType;
            }
            else
            {
                periodicDiscountType = element.args().parmEnum();
            }

            // If one of following 5 RetailDiscountOfferTypeBase are passed, then make appropriate New discount button enabled.
            switch (periodicDiscountType)
            {
                case RetailDiscountOfferTypeBase::DiscountOffer:
                case RetailDiscountOfferTypeBase::DiscountOfferLineQuantityLimit:
                    DiscountOffer.visible(true);
                    break;
                case RetailDiscountOfferTypeBase::MixAndMatch:
                case RetailDiscountOfferTypeBase::LeastExpensiveFavorRetailer:
                    MixAndMatchDiscount.visible(true);
                    break;
                case RetailDiscountOfferTypeBase::Multibuy:
                    QuatityDiscount.visible(true);
                    break;
                case RetailDiscountOfferTypeBase::Threshold:
                    ThresholdDiscount.visible(true);
                    break;
                case RetailDiscountOfferTypeBase::Promotion:
                    PriceAdjustments.visible(true);
                    InventoryDimension.visible(false); // Not support dimension based price adjustment for now.
                    break;
                case RetailDiscountOfferTypeBase::Shipping:
                    ShippingThresholdDiscounts.visible(true);
                    PriorityGroup.visible(false);
                    Concurrency.visible(false);
                    DeliveryModeId.visible(true);
                    RetailDiscountThresholdTiers_ds.object(fieldNum(RetailDiscountThresholdTiers, DiscountMethod)).allowEdit(false);
                    MatchAllAssociatedPriceGroups.visible(false);
            }

            // Filter discount record based on periodic discount types.
            this.filterDiscountsByType(periodicDiscountType);
        }
        else
        {
            // no Enum passed then show following 4 Discount New buttons: Discount Offer, MixAndMatch, Quantity and Threshold discounts.
            DiscountOffer.visible(true);
            MixAndMatchDiscount.visible(true);
            QuatityDiscount.visible(true);
            ThresholdDiscount.visible(true);
        }

        if (!FeatureStateProvider::isFeatureEnabled(RetailDiscountPerformanceImprovementFeature::instance()))
        {
            RetailPeriodicDiscount_ProcessingStatus.visible(false);
        }

        if (isPropertyBasedMode)
        {
            RetailPeriodicDiscount_ProcessingStatus.visible(false);
            RetailGroupMemberLineGroup.visible(false);
            InventoryDimension.visible(false);
            RetailPeriodicDiscountLine_UnitOfMeasure.visible(false);
            RetailPeriodicDiscountLine_Name.visible(false);
            AddProducts.visible(false);
            AddProductsThresholdApplying.visible(false);
			MatchAllAssociatedPriceGroups.visible(false);

            SwitchToPropertyBasedVeiwButtonGroup.visible(false);
            SwitchToLegacyViewButtonGroup.visible(!isPropertyFeatureEnabled);

            RetailPricingSharedParameters sharedParameters = RetailPricingSharedParameters::find();
            if (sharedParameters.DiscountApplicabilityRuleProcessStatus == RetailPricingPropertyProcessStatus::Processing)
            {
                retailPeriodicDiscountLine_ds.allowEdit(false);
                retailPeriodicDiscountLine_ds.allowCreate(false);
                retailPeriodicDiscountLine_ds.allowDelete(false);
            }
            
            if (!isPropertyFeatureEnabled)
            {
                info("@RetailPricing:RetailPricingPropertyFeatureEnableReminderLabel");
            }
        }
        else
        {
            SwitchToPropertyBasedVeiwButtonGroup.visible(true);
            SwitchToLegacyViewButtonGroup.visible(false);
        }

        if (!RetailPricingFeatureToggle::isRetailPricingPropertyFeatureVisible())
        {
            SwitchToLegacyViewButtonGroup.visible(false);
            SwitchToPropertyBasedVeiwButtonGroup.visible(false);
        }

        element.updateDesign(InventDimFormDesignUpdate::Init);
        element.updateDesignThresholdApplying(InventDimFormDesignUpdate::Init);

        boolean shouldLookupProductsFromEcoResProduct = RetailPricingKillSwitch::retailGroupMemberLineProductLookupFromEcoResProduct();
        RetailGroupMemberLine_Product.visible(shouldLookupProductsFromEcoResProduct);
        RetailGroupMemberLine_ItemId.visible(!shouldLookupProductsFromEcoResProduct);
    }

]]></Source>
			</Method>
			<Method>
				<Name>numberSeqOfferId</Name>
				<Source><![CDATA[
    NumberSeqFormHandler numberSeqOfferId()
    {
        // maintain number sequence references for each discount type,
        //   but only return the one for the current discount line type
        if (!numberSeqOfferId)
        {
            numberSeqOfferId = NumberSeqFormHandler::newForm(RetailParameters::numRefOfferId().NumberSequenceId,
                                                             element,
                                                             RetailPeriodicDiscount_RetailDiscountOffer_ds,
                                                             fieldnum(RetailDiscountOffer, OfferId)
                                                             );
        }

        if (!numberSeqMixAndMatchId)
        {
            numberSeqMixAndMatchId = numberSeqFormHandler::newForm(RetailParameters::numRefMixAndMatchId().NumberSequenceId,
                                                                   element,
                                                                   RetailPeriodicDiscount_RetailDiscountMixAndMatch_ds,
                                                                   fieldNum(RetailDiscountMixAndMatch, OfferId)
                                                                   );
        }

        if (!numberSeqMultibuyId)
        {
            numberSeqMultibuyId = numberSeqFormHandler::newForm(RetailParameters::numRefMultibuyDiscountId().NumberSequenceId,
                                                                element,
                                                                RetailPeriodicDiscount_RetailDiscountMultibuy_ds,
                                                                fieldNum(RetailDiscountMultibuy, OfferId)
                                                                );
        }

        if (!numberSeqThresholdId)
        {
            numberSeqThresholdId = numberSeqFormHandler::newForm(RetailParameters::numRefThresholdDiscountId().NumberSequenceId,
                                                                element,
                                                                RetailPeriodicDiscount_RetailDiscountThreshold_ds,
                                                                fieldNum(RetailDiscountThreshold, OfferId)
                                                                );
        }

        if (retailPeriodicDiscount is RetailDiscountMixAndMatch)
        {
            return numberSeqMixAndMatchId;
        }
        else if (retailPeriodicDiscount is RetailDiscountMultibuy)
        {
            return numberSeqMultibuyId;
        }
        else if (retailPeriodicDiscount is RetailDiscountThreshold)
        {
            return numberSeqThresholdId;
        }
        else
        {
            return numberSeqOfferId;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshEffectivePriorityNumber</Name>
				<Source><![CDATA[
    public void refreshEffectivePriorityNumber()
    {
        RetailDiscountPriceGroup discountPriceGroup;
        PriceDiscGroup priceGroup;
        int effective = RetailPeriodicDiscount.PricingPriorityNumber;
        if (effective == 0)
        {
            select maxOf(RetailPricingPriorityNumber) from priceGroup
            exists join discountPriceGroup
                where discountPriceGroup.OfferId == RetailPeriodicDiscount.OfferId
                    && discountPriceGroup.PriceDiscGroup == priceGroup.RecId;

            effective = priceGroup.RetailPricingPriorityNumber;
        }

        EffectivePriorityNumber.value(effective);
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshMixAndMatch</Name>
				<Source><![CDATA[
    public void refreshMixAndMatch()
    {
        if (periodicDiscountType == RetailDiscountOfferTypeBase::MixAndMatch || periodicDiscountType == RetailDiscountOfferTypeBase::LeastExpensiveFavorRetailer)
        {
            retailPeriodicDiscountLine_ds.research(true);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>hideAllDiscountSpecificControls</Name>
				<Source><![CDATA[
    public void hideAllDiscountSpecificControls()
    {
        account.visible(true);
        offerLineGroup.visible(false);
        mixAndMatchLineGroup.visible(false);
        multibuyLineGroup.visible(false);
        discountOfferTabPage.visible(false);
        mixAndMatchTabPage.visible(false);

        multibuyButtonGroup.visible(false);

        mixAndMatchButtonGroup.visible(false);
        discountCode.visible(false);
        thresholdTabPage.visible(false);
        thresholdTiersTabPage.visible(false);
        discountApplyingLinesTabPage.visible(false);

        MultibuyTabPage.visible(false);

        RetailPeriodicDiscountLine_RetailDiscountLineOffer_QuantityLimit.visible(false);
        RetailDiscountOffer_QuantityLimit.visible(false);
    }

]]></Source>
			</Method>
			<Method>
				<Name>setControlVisibility</Name>
				<Source><![CDATA[
    public void setControlVisibility()
    {
        account.visible(retailPeriodicDiscount.PeriodicDiscountType != RetailDiscountOfferTypeBase::Promotion);
        discountCode.visible(retailPeriodicDiscount.PeriodicDiscountType != RetailDiscountOfferTypeBase::Promotion);
        
        if (retailPeriodicDiscount is RetailDiscountOffer)
        {
            offerLineGroup.visible(true);
            discountOfferTabPage.visible(true);

            if (RetailPeriodicDiscount.PeriodicDiscountType == RetailDiscountOfferTypeBase::DiscountOffer
                || RetailPeriodicDiscount.PeriodicDiscountType == RetailDiscountOfferTypeBase::DiscountOfferLineQuantityLimit)
            {
                RetailPeriodicDiscountLine_RetailDiscountLineOffer_QuantityLimit.visible(true);
                RetailDiscountOffer_QuantityLimit.visible(true);
            }
        }
        else if (retailPeriodicDiscount is RetailDiscountMultibuy)
        {
            multibuyLineGroup.visible(true);
            MultibuyTabPage.visible(true);
            multibuyButtonGroup.visible(false);
        }
        else if (RetailPeriodicDiscount is RetailDiscountMixAndMatch)
        {
            mixAndMatchLineGroup.visible(true);
            mixAndMatchTabPage.visible(true);
            mixAndMatchButtonGroup.visible(true);
            element.updateMixAndMatchDiscountView();
        }
        else if (RetailPeriodicDiscount is RetailDiscountThreshold)
        {
            thresholdTabPage.visible(true);
            thresholdTiersTabPage.visible(true);
            element.updateThresholdTierView();
        }
        else if (RetailPeriodicDiscount is RetailShippingThresholdDiscounts)
        {
            thresholdTabPage.visible(true);
            thresholdTiersTabPage.visible(true);
        }

        element.updateDatePeriodView();
    }

]]></Source>
			</Method>
			<Method>
				<Name>setControlEditability</Name>
				<Source><![CDATA[
    internal void setControlEditability()
    {
        boolean isDiscountEditable = !RetailPeriodicDiscount.Status &&
            RetailPeriodicDiscount.ValidationStatus != RetailPricingValidationStatus::Validating;

        priorityGroup.allowEdit(isDiscountEditable);
    }

]]></Source>
			</Method>
			<Method>
				<Name>setDatasourceEditability</Name>
				<Source><![CDATA[
    public void setDatasourceEditability()
    {
        #Retail
        boolean isDiscountEditable = !RetailPeriodicDiscount.Status &&
            RetailPeriodicDiscount.ValidationStatus != RetailPricingValidationStatus::Validating;

        RetailPricingSharedParameters sharedParameters = RetailPricingSharedParameters::find();
        if (sharedParameters.DiscountApplicabilityRuleProcessStatus == RetailPricingPropertyProcessStatus::Processing)
        {
            isDiscountEditable = false; // When processing the discount applicability rules, discount is also not editable.
        }

        // Enable edit when discount is disabled
        // Only Status stays editable always.
        // The following code is copy from table RetailPeriodicDiscount method setTableFieldsEnabled
        DictTable dictTable = new DictTable(RetailPeriodicDiscount.TableId);
        int fieldCnt = dictTable.fieldCnt();
        int idx;
        FieldId fieldId;
        FormDataObject dataObject;

        for (idx = 1; idx <= fieldCnt; idx++)
        {
            fieldId = dictTable.fieldCnt2Id(idx);
            if (dictTable.fieldName(fieldId) != #StatusFieldName)
            {
                dataObject = retailPeriodicDiscount_ds.object(fieldId);
                if (dataObject != null)
                {
                    dataObject.allowEdit(isDiscountEditable);
                }
            }
            else
            {
                dataObject = retailPeriodicDiscount_ds.object(fieldId);
                boolean isStatusEditable = !CatalogManager::isSnapshottedPublishedCatalogRelated(RetailPeriodicDiscount) &&
                    RetailPeriodicDiscount.ValidationStatus != RetailPricingValidationStatus::Validating;
                dataObject.allowEdit(isStatusEditable);
            }
        }

        retailPeriodicDiscountLine_ds.allowEdit(isDiscountEditable);
        retailPeriodicDiscountLine_ds.allowCreate(isDiscountEditable);
        retailPeriodicDiscountLine_ds.allowDelete(isDiscountEditable);
        retailDiscountLineThresholdApplying_ds.allowEdit(isDiscountEditable);
        retailDiscountLineThresholdApplying_ds.allowCreate(isDiscountEditable);
        retailDiscountLineThresholdApplying_ds.allowDelete(isDiscountEditable);
        retailDiscountCode_ds.allowEdit(isDiscountEditable);
        retailDiscountThresholdTiers_ds.allowEdit(isDiscountEditable);
        retailDiscountThresholdTiers_ds.allowCreate(isDiscountEditable);
        retailDiscountThresholdTiers_ds.allowDelete(isDiscountEditable);
        retailMultibuyDiscountLine_ds.allowEdit(isDiscountEditable);
        RetailDiscountMixAndMatch_CountNonDiscountItems.enabled(isDiscountEditable);

        // set button 'Add products' according to discount status.
        AddProducts.enabled(isDiscountEditable);
        AddProductsThresholdApplying.enabled(isDiscountEditable);
        MultibuyTiersAddButton.enabled(isDiscountEditable);
        MultibuyTiersRemoveButton.enabled(isDiscountEditable);
        Attachements.enabled(isDiscountEditable);
        AttachementsThresholdApplying.enabled(isDiscountEditable);
        ExplodeItem.enabled(isDiscountEditable);
        ExplodeItemThresholdApplying.enabled(isDiscountEditable);
        RetailPeriodicDiscountLine_ds.object(fieldNum(RetailPeriodicDiscountLine, Description)).enabled(isDiscountEditable);
        RetailDiscountLineThresholdApplying_ds.object(fieldNum(RetailDiscountLineThresholdApplying, Description)).enabled(isDiscountEditable);
        RetailPeriodicDiscount_RetailDiscountOffer_ds.object(fieldNum(RetailDiscountOffer, QuantityLimit)).enabled(isDiscountEditable);
        RetailPeriodicDiscount_RetailShippingThresholdDiscounts_ds.object(fieldNum(RetailShippingThresholdDiscounts, DlvModeId)).enabled(isDiscountEditable);

        // Set Mix and match discounts according to discount status.
        DiscountType.allowEdit(isDiscountEditable);
        DiscountValuesGroup.allowEdit(isDiscountEditable);
        LeastExpensiveGroup.allowEdit(isDiscountEditable);
        RetailDiscountMixAndMatch_CountNonDiscountItems.allowEdit(isDiscountEditable);
        RetailPeriodicDiscount_RetailDiscountMixAndMatch_GeneratesBundleId.allowEdit(isDiscountEditable);
    }

]]></Source>
			</Method>
			<Method>
				<Name>task</Name>
				<Source><![CDATA[
    public int task(int _taskId)
    {
        int ret;
        #Task

        if (retailPeriodicDiscountLine && _taskId == #taskDeleteRecord)
        {
            retailGroupMemberLine_ds.write();
        }

        if (_taskId == #taskAttachments)
        {
            retailPeriodicDiscount_ds.allowEdit(!retailPeriodicDiscount.Status);
        }

        ret = super(_taskId);

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateDatePeriodView</Name>
				<Source><![CDATA[
    void updateDatePeriodView()
    {
        DiscountDates.enabled(retailPeriodicDiscount.DateValidationType == RetailDateValidationTypeBase::Standard
                                && retailPeriodicDiscount.IsDiscountCodeRequired == NoYes::No);
        ValidationPeriod.enabled(retailPeriodicDiscount.DateValidationType == RetailDateValidationTypeBase::Advanced);
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateDiscountLineName</Name>
				<Source><![CDATA[
    /// <summary>
    /// Update the discount line name if blank or if it was set from
    ///   the old category/product assignment
    /// </summary>
    public void updateDiscountLineName()
    {
        if (!retailPeriodicDiscountLine.Name ||
                retailPeriodicDiscountLine.Name == retailGroupMemberLine.orig().getDescription())
        {
            retailPeriodicDiscountLine.Name = retailGroupMemberLine.getDescription();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateThresholdApplyingDiscountLineName</Name>
				<Source><![CDATA[
    /// <summary>
    /// Update the discount line name if blank or if it was set from
    ///   the old category/product assignment
    /// </summary>
    public void updateThresholdApplyingDiscountLineName()
    {
        if (!retailDiscountLineThresholdApplying.Name ||
                retailDiscountLineThresholdApplying.Name == retailGroupMemberLineThresholdApplying.orig().getDescription())
        {
            retailDiscountLineThresholdApplying.Name = retailGroupMemberLineThresholdApplying.getDescription();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateDiscountOfferLineView</Name>
				<Source><![CDATA[
    void updateDiscountOfferLineView()
    {
        if (retailPeriodicDiscountLine is RetailDiscountLineOffer)
        {
            switch (retailPeriodicDiscountLine_retailDiscountLineOffer.discountMethod)
            {
                case RetailDiscountOfferLineDiscMethodBase::AmountOff:
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, DiscPct)).enabled(false);
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, DiscAmount)).enabled(true);
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, OfferPrice)).enabled(false);
                    break;
                case RetailDiscountOfferLineDiscMethodBase::PercentOff:
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, DiscPct)).enabled(true);
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, DiscAmount)).enabled(false);
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, OfferPrice)).enabled(false);
                    break;
                case RetailDiscountOfferLineDiscMethodBase::Price:
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, DiscPct)).enabled(false);
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, DiscAmount)).enabled(false);
                    retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, OfferPrice)).enabled(true);
                    break;
            }
        }

        element.updateDiscountOfferLineN1View();
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateDiscountOfferLineN1View</Name>
				<Source><![CDATA[
    private void updateDiscountOfferLineN1View()
    {
        if (isConfigurationkeyEnabled(ConfigurationKeyNum(RetailCDXBackwardCompatibility)))
        {
            if (retailPeriodicDiscountLine is RetailDiscountLineOffer)
            {
                switch (retailPeriodicDiscountLine_retailDiscountLineOffer.discountMethod)
                {
                    case RetailDiscountOfferLineDiscMethodBase::AmountOff:
                    case RetailDiscountOfferLineDiscMethodBase::PercentOff:
                        retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, discountMethodN1)).enabled(false);
                        break;
                    case RetailDiscountOfferLineDiscMethodBase::Price:
                        retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, discountMethodN1)).enabled(true);
                        break;
                }

                retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, OfferPriceN1)).enabled(false);
                retailPeriodicDiscountLine_RetailDiscountLineOffer_ds.object(fieldnum(RetailDiscountLineOffer, OfferPriceInclTaxN1)).enabled(false);
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateMixAndMatchDiscountView</Name>
				<Source><![CDATA[
    void updateMixAndMatchDiscountView()
    {
        boolean showDealPriceAndDiscountAmountForLeastExpensive = retailPeriodicDiscount_RetailDiscountMixAndMatch.NoOfLeastExpensiveLines <= 1;

        if (RetailPeriodicDiscount is RetailDiscountMixAndMatch)
        {
            switch (RetailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchDiscountType)
            {
                case RetailMixAndMatchDiscountType::DealPrice     :
                    if (RetailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchCountNonDiscountItems == NoYes::Yes)
                    {
                        warning("@Retail:MixAndMatchContainsDealPriceLinesWhenCountNonDiscountItemsIsTrue");
                    }

                    RBOMixAndMatchTable_DealPriceValue.enabled(true);
                    RBOMixAndMatchTable_DiscountPercentValue.enabled(false);
                    RBOMixAndMatchTable_DiscountAmountValue.enabled(false);
                    RBOMixAndMatchTable_NoOfLeastExpensiveLines.enabled(false);
                    RetailDiscountMixAndMatch_LeastExpensiveMode.enabled(false);
                    mixAndMatchDiscountLine_DiscountType.visible(false);
                    mixAndMatchDiscountLine_DiscountPercentOrValue.visible(false);
                    RetailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchCountNonDiscountItems = NoYes::No;
                    RetailDiscountMixAndMatch_CountNonDiscountItems.enabled(false);
                    break;

                case RetailMixAndMatchDiscountType::DiscountPct    :
                    RBOMixAndMatchTable_DealPriceValue.enabled(false);
                    RBOMixAndMatchTable_DiscountPercentValue.enabled(true);
                    RBOMixAndMatchTable_DiscountAmountValue.enabled(false);
                    RBOMixAndMatchTable_NoOfLeastExpensiveLines.enabled(false);
                    RetailDiscountMixAndMatch_LeastExpensiveMode.enabled(false);
                    mixAndMatchDiscountLine_DiscountType.visible(false);
                    mixAndMatchDiscountLine_DiscountPercentOrValue.visible(false);
                    RetailDiscountMixAndMatch_CountNonDiscountItems.enabled(true);
                    break;

                case RetailMixAndMatchDiscountType::DiscountAmount :
                    RBOMixAndMatchTable_DealPriceValue.enabled(false);
                    RBOMixAndMatchTable_DiscountPercentValue.enabled(false);
                    RBOMixAndMatchTable_DiscountAmountValue.enabled(true);
                    RBOMixAndMatchTable_NoOfLeastExpensiveLines.enabled(false);
                    RetailDiscountMixAndMatch_LeastExpensiveMode.enabled(false);
                    mixAndMatchDiscountLine_DiscountType.visible(false);
                    mixAndMatchDiscountLine_DiscountPercentOrValue.visible(false);
                    RetailDiscountMixAndMatch_CountNonDiscountItems.enabled(true);
                    break;

                case RetailMixAndMatchDiscountType::LeastExpensive :
                    RBOMixAndMatchTable_DealPriceValue.enabled(showDealPriceAndDiscountAmountForLeastExpensive);
                    RBOMixAndMatchTable_DiscountPercentValue.enabled(true);
                    RBOMixAndMatchTable_DiscountAmountValue.enabled(showDealPriceAndDiscountAmountForLeastExpensive);
                    RBOMixAndMatchTable_NoOfLeastExpensiveLines.enabled(true);
                    RetailDiscountMixAndMatch_LeastExpensiveMode.enabled(true);
                    mixAndMatchDiscountLine_DiscountType.visible(false);
                    mixAndMatchDiscountLine_DiscountPercentOrValue.visible(false);
                    RetailDiscountMixAndMatch_CountNonDiscountItems.enabled(true);
                    break;

                case RetailMixAndMatchDiscountType::LineSpec       :
                    RBOMixAndMatchTable_DealPriceValue.enabled(false);
                    RBOMixAndMatchTable_DiscountPercentValue.enabled(false);
                    RBOMixAndMatchTable_DiscountAmountValue.enabled(false);
                    RBOMixAndMatchTable_NoOfLeastExpensiveLines.enabled(false);
                    RetailDiscountMixAndMatch_LeastExpensiveMode.enabled(false);
                    mixAndMatchDiscountLine_DiscountType.visible(true);
                    mixAndMatchDiscountLine_DiscountPercentOrValue.visible(true);
                    RetailDiscountMixAndMatch_CountNonDiscountItems.enabled(true);
                    break;
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateThresholdTierView</Name>
				<Source><![CDATA[
    /// <summary>
    /// update the tier view.
    /// </summary>
    private void updateThresholdTierView()
    {
        if (RetailPeriodicDiscount is RetailDiscountThreshold)
        {
            boolean isDiscountSpeicfiedInLines = (retailDiscountThresholdTiers.discountMethod == RetailThresholdDiscountMethod::DiscountApplyingLines);

            retailDiscountThresholdTiers_DiscountValue.enabled(!isDiscountSpeicfiedInLines);
            discountApplyingLinesTabPage.visible(isDiscountSpeicfiedInLines);
        }

    }

]]></Source>
			</Method>
			<Method>
				<Name>registerDatasourceOnQueryingEvent</Name>
				<Source><![CDATA[
    /// <summary>
    /// Register the data source to which the filter should be applied.
    /// </summary>
    public void registerDatasourceOnQueryingEvent()
    {
        RetailPeriodicDiscount_DS.OnQueryExecuting += eventhandler(this.parmFilterFormQueryEventHandler().applyFilter);
    }

]]></Source>
			</Method>
			<Method>
				<Name>onFilterChanged</Name>
				<Source><![CDATA[
    /// <summary>
    /// Event handler to react on a filter change.
    /// </summary>
    public void onFilterChanged()
    {
        RetailPeriodicDiscount_DS.executeQuery();
    }

]]></Source>
			</Method>
			<Method>
				<Name>toggleCouponSpecificControls</Name>
				<Source><![CDATA[
    /// <summary>
    /// Event handler to react on a discount Code required control change.
    /// </summary>
    public void toggleCouponSpecificControls(boolean flag)
    {
        Status_Status.enabled(!flag);
        if (flag)
        {
            RetailPeriodicDiscount.ValidTo = DateTimeUtil::date(DateTimeUtil::maxValue());
        }
        DiscountDates.enabled(!flag);

        // if there is no coupon associated with discount
        boolean discountRequired = !RetailCoupon::findByOfferId(RetailPeriodicDiscount.OfferId);
        DiscountCode_IsDiscountCodeRequired.enabled(discountRequired);
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateDesignThresholdApplying</Name>
				<Source><![CDATA[
    internal void updateDesignThresholdApplying(InventDimFormDesignUpdate mode)
    {
        InventDimParm   inventDimParm;
        InventTable     localInventTable;

        switch (mode)
        {
            case InventDimFormDesignUpdate::Init:
                if (! inventDimFormSetupThresholdApplying)
                {
                    inventDimFormSetupThresholdApplying = InventDimCtrl::newFromForm(element);
                }
                
                inventDimParm.initRetailPeriodicDiscountGroup();

                inventDimFormSetupThresholdApplying.parmDimParmVisibleGrid(inventDimParm, true);
                inventDimFormSetupThresholdApplying.formSetControls(true);
                break;

                // Fall-thru and continue with logic in below for other cases
            case InventDimFormDesignUpdate::Active,
                 InventDimFormDesignUpdate::LinkActive,
                 InventDimFormDesignUpdate::FieldChange :

                if (retailGroupMemberLineThresholdApplying && retailGroupMemberLineThresholdApplying.Product)
                {
                    select firstonly localInventTable where localInventTable.Product == retailGroupMemberLineThresholdApplying.Product;
                    inventDimParm.initRetailPeriodicDiscountGroup(InventDimGroupSetup::newInventTable(localInventTable));
                    
                    inventDimFormSetupThresholdApplying.parmDimParmEnabled(inventDimParm);
                    inventDimFormSetupThresholdApplying.formSetControls(true);
                }
                break;

            default :
                throw error(strFmt("@SYS54195",funcName()));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateDesign</Name>
				<Source><![CDATA[
    internal void updateDesign(InventDimFormDesignUpdate mode)
    {
        InventDimParm   inventDimParm;
        InventTable     localInventTable;

        switch (mode)
        {
            case InventDimFormDesignUpdate::Init        :
                if (! inventDimFormSetupRetailPeriodicDiscount)
                {
                    inventDimFormSetupRetailPeriodicDiscount = InventDimCtrl::newFromForm(element);
                }
                
                inventDimParm.initRetailPeriodicDiscountGroup();

                inventDimFormSetupRetailPeriodicDiscount.parmDimParmVisibleGrid(inventDimParm, true);
                inventDimFormSetupRetailPeriodicDiscount.formSetControls(true);
                break;

            // Fall-thru and continue with logic in below for other cases
            case InventDimFormDesignUpdate::Active,
                 InventDimFormDesignUpdate::LinkActive,
                 InventDimFormDesignUpdate::FieldChange :

                if (retailGroupMemberLine && retailGroupMemberLine.Product)
                {
                    select localInventTable where localInventTable.Product == retailGroupMemberLine.Product;
                    inventDimParm.initRetailPeriodicDiscountGroup(InventDimGroupSetup::newInventTable(localInventTable));
                    
                    inventDimFormSetupRetailPeriodicDiscount.parmDimParmEnabled(inventDimParm);
                    inventDimFormSetupRetailPeriodicDiscount.formSetControls(true);
                }
                break;

            default :
                throw error(strFmt("@SYS54195",funcName()));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>customizeMenuOptions</Name>
				<Source><![CDATA[
    /// <summary>
    /// Adds custom menu options to the office integration list.
    /// </summary>
    /// <param name = "_menuOptions">The menu options.</param>
    public void customizeMenuOptions(OfficeMenuOptions _menuOptions)
    {
        if (element.args().menuItemName() == menuItemDisplayStr(RetailShippingThresholdDiscounts))
        {
            // Clear the menu option related to standard discount entity, which are driven by the root data source of an entity.
            ListIterator dataEntityIterator = new ListIterator(_menuOptions.dataEntityOptions());
            while (dataEntityIterator.more())
            {
                if (dataEntityIterator.value().dataEntityName() == dataentityviewstr(RetailDiscountEntity))
                {
                    dataEntityIterator.delete();
                    break;
                }

                dataEntityIterator.next();
            }

            var shippingDiscountsEntity = OfficeGeneratedExportMenuItem::construct(
                tableStr(RetailShippingThresholdDiscountsEntity),
                tableStr(RetailShippingThresholdDiscounts));
            shippingDiscountsEntity.displayName("@Retail:RetailShippingThresholdDiscount");
            _menuOptions.customMenuItems().addEnd(shippingDiscountsEntity);
        }

        var discountLineEntity = OfficeGeneratedExportMenuItem::construct(
            tableStr(RetailDiscountLineEntity),
            tableStr(RetailPeriodicDiscountLine));
        discountLineEntity.displayName("@RET2913");
        _menuOptions.customMenuItems().addEnd(discountLineEntity);
    }

]]></Source>
			</Method>
			<Method>
				<Name>getDataEntityContext</Name>
				<Source><![CDATA[
    public ExportToExcelDataEntityContext getDataEntityContext(OfficeGeneratedExportMenuItem _menuItem)
    {
        ExportToExcelDataEntityContext context = ExportToExcelDataEntityContext::constructDefault(_menuItem.dataEntityName());

        if (_menuItem.dataEntityName() == tableStr(RetailDiscountLineEntity))
        {
            ExportToExcelFilterTreeBuilder filterBuilder = new ExportToExcelFilterTreeBuilder(_menuItem.dataEntityName());

            context.findEntityByName(_menuItem.dataEntityName()).filter(filterBuilder.and(filterBuilder.companyFilter(),
                filterBuilder.areEqual(fieldStr(RetailDiscountLineEntity, OfferId), RetailPeriodicDiscount.OfferId)));
        }

        return context;
    }

]]></Source>
			</Method>
			<Method>
				<Name>throwErrorForUnknownMenuItem</Name>
				<Source><![CDATA[
    public boolean throwErrorForUnknownMenuItem()
    {
        return true;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updatePriorityControlsView</Name>
				<Source><![CDATA[
    public void updatePriorityControlsView()
    {
        boolean isPriorityOverriden = RetailPeriodicDiscount.PricingPriorityNumber != 0;

        OverridePriorityCheckBox.checked(isPriorityOverriden);
        OverridePriorityCheckBox.enabled(RetailPeriodicDiscount.ConcurrencyMode != RetailDiscountConcurrency::AlwaysApply);

        EffectivePriorityNumber.enabled((RetailPeriodicDiscount.ConcurrencyMode != RetailDiscountConcurrency::AlwaysApply)
            && isPriorityOverriden);
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateEmptyRetailGroupMemberLine</Name>
				<Source><![CDATA[
    /// <summary>
    /// Validates if an existing RetailGroupMemberLine record is updated to be an empty row. Throws error if the validation fails.
    /// </summary>
    internal void validateEmptyRetailGroupMemberLine(RetailGroupMemberLine _retailGroupMemberLine)
    {
        if (!disableEmptyRGMLCheck)
        {
            if (_retailGroupMemberLine && _retailGroupMemberLine.IsEmptyRow())
            {
                throw error("@RetailPricing:DoNotSaveEmptyProductLineInDiscount");
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshInventDimDatasource</Name>
				<Source><![CDATA[
    /// <summary>
    /// Refresh inventory dimension related datasources
    /// </summary>
    internal void refreshInventDimDatasource()
    {
        InventDim dimAllBlank = InventDim::findOrCreateBlank();
        RetailGroupmemberLine.InventDimId = dimAllBlank.inventDimId;
        InventDim.data(dimAllBlank);
        InventDim_DS.setCurrent();
    }

]]></Source>
			</Method>
			<Method>
				<Name>getRetailHierarchyIfExists</Name>
				<Source><![CDATA[
    private EcoResCategoryHierarchy getRetailHierarchyIfExists()
    {
        EcoResCategoryHierarchyRole retailHierarchyRole =
            EcoResCategoryHierarchyRole::getHierarchiesByRole(EcoResCategoryNamedHierarchyRole::Retail);

        if (!retailHierarchyRole)
        {
            retailHierarchyRole =
                EcoResCategoryHierarchyRole::getHierarchiesByRole(EcoResCategoryNamedHierarchyRole::RetailSpecialGroup);
        }

        if (!retailHierarchyRole)
        {
            throw(error(strFmt("@SYS135043", EcoResCategoryNamedHierarchyRole::Retail)));
        }

        return EcoResCategoryHierarchy::find(retailHierarchyRole.CategoryHierarchy);
    }

]]></Source>
			</Method>
			<Method>
				<Name>categoryLookup</Name>
				<Source><![CDATA[
    internal EcoResCategory categoryLookup(FormReferenceControl _formReferenceControl)
    {
        EcoResCategoryHierarchy retailHierarchy = this.getRetailHierarchyIfExists();

        return EcoResCategory::lookupCategoryHierarchy(
                    _formReferenceControl,
                    retailHierarchy,
                    false,
                    true,
                    true,
                    null,
                    0,
                    0,
                    ProcCategoryOrganizationOption::BuyingLegalEntity,
                    0,
                    [EcoResCategoryNamedHierarchyRole::Retail,
                     EcoResCategoryNamedHierarchyRole::RetailSpecialGroup]
          );
    }

]]></Source>
			</Method>
			<Method>
				<Name>productLookup</Name>
				<Source><![CDATA[
    internal EcoResProduct productLookup(FormReferenceControl _formReferenceControl)
    {
        EcoResProduct selectedProduct;
        SysReferenceTableLookup sysTableLookup = SysReferenceTableLookup::newParameters(tableNum(EcoResProduct), _formReferenceControl, true);

        sysTableLookup.addLookupfield(fieldNum(EcoResProduct, DisplayProductNumber));
        sysTableLookup.addLookupMethod(tableMethodStr(EcoResProduct, displayProductName));
        sysTableLookup.addLookupfield(fieldNum(EcoResProduct, SearchName));
        sysTableLookup.addLookupfield(fieldNum(EcoResProduct, ProductType));

        if (RetailDiscountApplicabilityRule.EcoResCategoryRefRecId)
        {
            sysTableLookup.parmQuery(RetailGroupMemberLineQueryProvider::containedProductsQuery(RetailDiscountApplicabilityRule.EcoResCategoryRefRecId));
        }
        else
        {
            sysTableLookup.parmQuery(RetailGroupMemberLineQueryProvider::distinctAndMasterProductQuery());
        }

        selectedProduct = sysTableLookup.performFormLookup();

        return selectedProduct;
    }

]]></Source>
			</Method>
			<Method>
				<Name>variantLookup</Name>
				<Source><![CDATA[
    internal EcoResDistinctProductVariant variantLookup(FormReferenceControl _formReferenceControl)
    {
        EcoResDistinctProductVariant selectedVariant;
        SysReferenceTableLookup sysTableLookup = SysReferenceTableLookup::newParameters(tableNum(EcoResDistinctProductVariant), _formReferenceControl, true);

        EcoResCategoryId category = RetailDiscountApplicabilityRule.EcoResCategoryRefRecId;
        EcoResProductRecId product = RetailDiscountApplicabilityRule.EcoResProductRefRecId;

        sysTableLookup.addLookupfield(fieldNum(EcoResDistinctProductVariant, DisplayProductNumber));
        sysTableLookup.addLookupfield(fieldNum(EcoResDistinctProductVariant, SearchName));

        sysTableLookup.parmQuery(RetailGroupMemberLineQueryProvider::availableVariantsQuery(category, product));

        selectedVariant = sysTableLookup.performFormLookup();

        return selectedVariant;
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>RetailPeriodicDiscount</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            // <GEERU>
            FormDataSource loyaltyDS;
            Common         record;
            // </GEERU>
            super();
            // <GEERU>

            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
            {
                record = element.args().record();
                if (FormDataUtil::isFormDataSource(record) && record.TableId == tableNum(RetailPeriodicDiscount))
                {
                    loyaltyDS = FormDataUtil::getFormDataSource(record);
                    this.query(loyaltyDS.query());
                }
            }
            // <GEERU>
        }

]]></Source>
					</Method>
					<Method>
						<Name>linkActive</Name>
						<Source><![CDATA[
        public void linkActive()
        {
            // <GEERU>
            Common record;
            // </GEERU>

            super();

            // <GEERU>
            record = element.args().record();
            if (record)
            {
                RetailPeriodicDiscount_DS.positionToRecord(record);
            }
            // </GEERU>
        }

]]></Source>
					</Method>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();

            // Promotions and discount offers are the same in AX, just applied differently on POS
            //  here the promotion type needs to be explicitly set if form is in promotion mode
            if (retailPeriodicDiscount is RetailDiscountOffer)
            {
                if (periodicDiscountType == RetailDiscountOfferTypeBase::Promotion)
                {
                    retailPeriodicDiscount.PeriodicDiscountType = RetailDiscountOfferTypeBase::Promotion;
                    retailPeriodicDiscount_RetailDiscountOffer.DiscOnPOS = NoYes::No;                    
                }
                else
                {
                    retailPeriodicDiscount_RetailDiscountOffer.DiscOnPOS = NoYes::Yes;
                }
            }

            RetailPeriodicDiscount.CurrencyCode = CompanyInfoHelper::standardCurrency();
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            RetailCampaignDiscountMedia retailCampaignDiscountMedia;
            ttsBegin;

            element.numberSeqOfferId().formMethodDataSourceWrite();

            if (retailDiscountCode.DiscountCode)
            {
                retailDiscountCode.DiscountOfferId = retailPeriodicDiscount.OfferId;
                retailDiscountCode.write();
                retailPeriodicDiscount.DiscountCode = retailDiscountCode.RecId;
            }
            else if (retailDiscountCode.RecId)
            {
                retailPeriodicDiscount.DiscountCode = 0;

                select firstonly RecId from retailCampaignDiscountMedia
                    where retailCampaignDiscountMedia.DiscountCode == retailDiscountCode.RecId;

                if (!retailCampaignDiscountMedia.RecId)
                {
                    retailDiscountCode.delete();
                }
            }

            super();

            ttsCommit;
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;

            ret = super();

            if (ret && !element.numberSeqOfferId().formMethodDataSourceValidateWrite())
            {
                return false;
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        public void create(boolean _append = false)
        {
            super(_append);
            element.numberSeqOfferId().formMethodDataSourceCreate();
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;
            element.hideAllDiscountSpecificControls();

            ret = super();

            periodicDiscountType = RetailPeriodicDiscount.PeriodicDiscountType;
            
            // only enable threshold tier join if threshold discount
            RetailDiscountThresholdTiers_ds.queryBuildDataSource()
                .enabled(retailPeriodicDiscount is RetailDiscountThreshold || retailPeriodicDiscount is RetailShippingThresholdDiscounts);

            element.refreshEffectivePriorityNumber();
            element.updatePriorityControlsView();

            element.setControlVisibility();
            element.setControlEditability();
            element.setDatasourceEditability();
            
            // Set include/exclude line type to invisible for promotions.
            RetailPeriodicDiscountLine_ds.object(fieldNum(RetailPeriodicDiscountLine, LineType)).visible(RetailPeriodicDiscount.PeriodicDiscountType != RetailDiscountOfferTypeBase::Promotion);

            element.toggleCouponSpecificControls(DiscountCode_IsDiscountCodeRequired.value());

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateDelete</Name>
						<Source><![CDATA[
        /// <summary>
        /// Validates before delete.
        /// </summary>
        /// <returns>Boolean value to allow delete or not.</returns>
        public boolean validateDelete()
        {
            boolean ret = false;

            RetailCoupon retailCoupon;

            // find active coupon
            retailCoupon = retailCoupon::findByOfferIdAndStatus(RetailPeriodicDiscount.OfferId, RetailCouponStatus::Active);

            // if active coupon found
            if (retailCoupon)
            {
                error('@Retail:RetailCannotDeleteAssociateActive');
                ret = false;
            }
            else if (RetailCoupon::findByOfferId(RetailPeriodicDiscount.OfferId)) // if there is existing any associated coupon
            {
                if (box::yesNo('@Retail:RetailUnlinkDiscountPrompt', DialogButton::No, '@Retail:RetailDiscounts') == DialogButton::Yes)
                {
                    ret = true;
                }
            }
            else if (RetailPricingDisallowDeletingEnabledDiscountsFlight::instance().isEnabled()
                && RetailPeriodicDiscount.Status == RetailDisabledEnabled::Enabled)
            {
                error('@RetailPricing:CannotDeleteEnabledDiscountMessage');
                ret = false;
            }
            else
            {
                ret = super();
            }
        
            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        /// <summary>
        /// Deletes <c>RetailPeriodicDiscount</c> record.
        /// </summary>
        public void delete()
        {
            super();

            element.numberSeqOfferId().formMethodDataSourceDelete();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>ConcurrencyMode</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();
                element.updatePriorityControlsView();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>DateValidationType</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();
                element.updateDatePeriodView();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>DiscountPercentValue</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                if (retailPeriodicDiscount is RetailDiscountMixAndMatch)
                {
                    if (retailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchDiscountType == RetailMixAndMatchDiscountType::LeastExpensive)
                    {
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue = 0;
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue = 0;
                    }
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Status</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                // When the feature is enabled, we scheduled a batch job when discount is enabled to publish discount to lookup tables.
                // That batch job in background changes the discount header's process status to indicate if the discount has been successfully processed.
                // If a user stays on the discount form, enable and disable the discount, because the discount has been changed by batch job, he/she will see a updateconflict error as the table buffer is outdated.
                // So the code here reread the table buffer if #1 discount is about to be changed to disabled and #2 the feature is enabled.
                // Because discount is readonly when it's enabled, reread the table buffer won't lose changes from the user.
                if (retailPeriodicDiscount.Status == RetailDisabledEnabled::Disabled &&
                    RetailPricingFeatureToggle::isRetailDiscountPerformanceImprovementFeatureEnabled() &&
                    RetailPricingKillSwitch::rereadOnRetailPeriodicDiscountForm())
                {
                    RetailPeriodicDiscount_DS.reread();
                    retailPeriodicDiscount.Status = RetailDisabledEnabled::Disabled;
                }

                super();

                element.setDatasourceEditability();
                element.setControlEditability();
                RetailPeriodicDiscount_ds.write();
            }

]]></Source>
							</Method>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            public boolean validate()
            {
                boolean ret;

                ret = super();

                if (ret && retailPeriodicDiscount.Status == RetailDisabledEnabled::Enabled)
                {
                    ret = RetailPeriodicDiscountEnableValidator::validateEnableDiscount(
                        retailPeriodicDiscount,
                        RetailPeriodicDiscount_ds);

                    if (ret && overridePriorityCheckBox.checked() && effectivePriorityNumber.value() == 0)
                    {
                        warning("@Retail:OverridePricingPriorityZeroWarning");
                        ret = false;
                    }
                }

                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailPeriodicDiscount_RetailDiscountMixAndMatch</Name>
				<Methods />
				<Fields>
					<Field>
						<DataField>DealPriceValue</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                if (retailPeriodicDiscount is RetailDiscountMixAndMatch)
                {
                    if (retailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchDiscountType == RetailMixAndMatchDiscountType::LeastExpensive)
                    {
                        retailPeriodicDiscount.DiscountPercentValue = 0;
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue = 0;
                    }
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>DiscountAmountValue</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                if (retailPeriodicDiscount is RetailDiscountMixAndMatch)
                {
                    if (retailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchDiscountType == RetailMixAndMatchDiscountType::LeastExpensive)
                    {
                        retailPeriodicDiscount.DiscountPercentValue = 0;
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue = 0;
                    }
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>MixAndMatchDiscountType</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();
                element.updateMixAndMatchDiscountView();

                if (retailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchDiscountType == RetailMixAndMatchDiscountType::LeastExpensive)
                {
                    // For least experience, make sure only one is non zero, in the descending order of % off, $ off and deal price.
                    if (retailPeriodicDiscount.DiscountPercentValue)
                    {
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue = 0;
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue = 0;
                    }

                    if (retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue)
                    {
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue = 0;
                    }

                    // Default 100% off, if all of them are zero.
                    if (!retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue &&
                        !retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue &&
                        !retailPeriodicDiscount.DiscountPercentValue)
                    {
                        retailPeriodicDiscount.DiscountPercentValue = 100.0;
                    }
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>NoOfLeastExpensiveLines</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                element.updateMixAndMatchDiscountView();

                // We support least experience deal price and $ off only when # least expensives = 1
                if (retailPeriodicDiscount_RetailDiscountMixAndMatch.NoOfLeastExpensiveLines > 1)
                {
                    if (retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue ||
                        retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue)
                    {
                        warning("@REX4520725");
                    }

                    retailPeriodicDiscount_RetailDiscountMixAndMatch.DealPriceValue = 0;
                    retailPeriodicDiscount_RetailDiscountMixAndMatch.DiscountAmountValue = 0;

                    if (retailPeriodicDiscount.DiscountPercentValue == 0)
                    {
                        retailPeriodicDiscount.DiscountPercentValue = 100;
                    }
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailPeriodicDiscountLine</Name>
				<Methods>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        public void create(boolean _append = false)
        {
            this.first();

            element.validateEmptyRetailGroupMemberLine(RetailGroupMemberLine);

            super(_append);

            element.control(element.controlId(formControlStr(RetailPeriodicDiscount, RetailGroupMemberLine_Category_Name))).setFocus(); // set the focus on the category as Category is always first field on the grid.
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;

            ret = super();

            // There's no RetailGroupMemberLine when <c>RetailPricingPropertyFeature</c> is enabled. We don't need to validate them.
            if (isPropertyBasedMode)
            {
                return ret;
            }

            if (ret)
            {
                element.validateEmptyRetailGroupMemberLine(RetailGroupMemberLine);
            }

            ret = ret
                // calls at the data source because RetailGroupMemberLine writes after discount line.
                && retailPeriodicDiscountLine.checkDiscountLine(RetailGroupMemberLine)
                && retailPeriodicDiscountLine.validateUnitOfMeasure();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;

            ret = super();

            element.updateDiscountOfferLineView();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();

            if (RetailGroupMemberLine::exists(retailPeriodicDiscountLine.RetailGroupMemberLine))
            {
                retailGroupMemberLine.data(RetailGroupMemberLine::find(retailPeriodicDiscountLine.RetailGroupMemberLine));
            }

            if (retailPeriodicDiscount is RetailDiscountOffer)
            {
                retailPeriodicDiscountLine_RetailDiscountLineOffer.discPct =
                    retailPeriodicDiscount_RetailDiscountOffer.DiscountPercentValue;
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>displayOption</Name>
						<Source><![CDATA[
        /// <summary>
        /// Display color on the retail discount line.
        /// </summary>
        /// <param name = "Retail discount line record."></param>
        /// <param name = "Form control display option."></param>
        public void displayOption(Common _record, FormRowDisplayOption _options)
        {
            RetailDiscountLineMixAndMatch discountLine;
            RetailDiscountLineColorId colorId;

            if (periodicDiscountType == RetailDiscountOfferTypeBase::MixAndMatch)
            {
                select firstOnly discountLine
                    where discountLine.RecId == _record.RecId;

                colorId = RetailMixAndMatchLineGroups::find(
                discountLine.OfferId, discountLine.lineGroup).discountLineColorId;

                if (colorId)
                {
                    _options.backColor(colorId);
                }
            }

            super(_record, _options);
        }

]]></Source>
					</Method>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        /// <summary>
        /// Exclude lines in RetailDiscountLineThresholdApplying, and shows only the lines corresponding to the mode (property based or not).
        /// </summary>
        public void executeQuery()
        {
            QueryBuildDataSource qbds = this.query().dataSourceName(formDataSourceStr(RetailPeriodicDiscount, RetailPeriodicDiscountLine));
            qbds.addRange(fieldNum(RetailPeriodicDiscountLine,IsDiscountApplyingLine)).value(queryValue(NoYes::No));
            qbds.addRange(fieldNum(RetailPeriodicDiscountLine,IsPropertyBased)).value(queryValue(isPropertyBasedMode ? NoYes::Yes : NoYes::No));

            super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            RetailPeriodicDiscountLine.IsPropertyBased = isPropertyBasedMode;
            super();

            if (isPropertyBasedMode)
            {
                RetailDiscountApplicabilityRule.RetailPeriodicDiscountLine = RetailPeriodicDiscountLine.RecId;
                RetailDiscountApplicabilityRule.write();
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch</Name>
				<Methods />
				<Fields>
					<Field>
						<DataField>lineGroup</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                RetailMixAndMatchLineGroups lineGroups;

                super();

                select firstonly numberOfItemsNeeded, RecId from lineGroups
                where lineGroups.mixAndMatchId == retailPeriodicDiscount.OfferId
                   && lineGroups.mixAndMatchLineGroup == retailPeriodicDiscountLine_RetailDiscountLineMixAndMatch.lineGroup;

                if (lineGroups.RecId)
                {
                    retailPeriodicDiscountLine_RetailDiscountLineMixAndMatch.numberOfItemsNeeded = lineGroups.numberOfItemsNeeded;
                    element.refreshMixAndMatch();
                }
            }

]]></Source>
							</Method>
							<Method>
								<Name>lookup</Name>
								<Source><![CDATA[
            public void lookup(FormControl _formControl, str _filterStr)
            {
                // we need to show only the mix and match groups which have already been assigned
                //   to the currently selected mix and match offer

                SysTableLookup sysTableLookup = SysTableLookup::newParameters(tableNum(RetailMixAndMatchLineGroups), _formControl);

                Query query = new Query();

                QueryBuildDataSource lineGroup_ds = query.addDataSource(tableNum(RetailMixAndMatchLineGroups));

                lineGroup_ds.addRange(fieldNum(RetailMixAndMatchLineGroups, mixAndMatchId))
                    .value(queryValue(RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch.OfferId));

                sysTableLookup.addLookupfield(fieldNum(RetailMixAndMatchLineGroups, mixAndMatchLineGroup));
                sysTableLookup.addLookupfield(fieldNum(RetailMixAndMatchLineGroups, numberOfItemsNeeded));

                sysTableLookup.parmQuery(query);

                sysTableLookup.performFormLookup();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer</Name>
				<Methods />
				<Fields>
					<Field>
						<DataField>discountMethod</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                element.updateDiscountOfferLineView();
                element.resetN1OfferLineMethod();

                switch (retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscountMethod)
                {
                    case RetailDiscountOfferLineDiscMethodBase::AmountOff:
                        // Zero-out all but Amount Off field
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscPct = 0;
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPrice = 0;
                        break;
                    case RetailDiscountOfferLineDiscMethodBase::PercentOff:
                        // Zero-out all but Percent Off field
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscAmount= 0;
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPrice = 0;
                        break;
                    case RetailDiscountOfferLineDiscMethodBase::Price:
                        // Zero-out all but Price field
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscPct = 0;
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscAmount= 0;
                        break;
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>discountMethodN1</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                switch (retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscountMethodN1)
                {
                    case RetailOfferLineDiscountMethodBaseN1::Price:
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPriceN1 = retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPrice;
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPriceInclTaxN1= 0;
                        break;
                    case RetailOfferLineDiscountMethodBaseN1::PriceInclTax:
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPriceInclTaxN1 = retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPrice;
                        retailPeriodicDiscountLine_RetailDiscountLineOffer.OfferPriceN1= 0;
                        break;
                }
            }

]]></Source>
							</Method>
							<Method>
								<Name>validate</Name>
								<Source><![CDATA[
            public boolean validate()
            {
                boolean ret;
            
                ret = super();
                switch (retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscountMethodN1)
                {
                    case RetailOfferLineDiscountMethodBaseN1::AmountOff:
                    case RetailOfferLineDiscountMethodBaseN1::PercentOff:
                        ret = false;
                        break;
                }
            
                return ret;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>offerPrice</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                if (isConfigurationkeyEnabled(ConfigurationKeyNum(RetailCDXBackwardCompatibility)))
                {
                    switch (retailPeriodicDiscountLine_RetailDiscountLineOffer.DiscountMethodN1)
                    {
                        case RetailOfferLineDiscountMethodBaseN1::Price:
                            retailPeriodicDiscountLine_RetailDiscountLineOffer.offerPriceN1 = retailPeriodicDiscountLine_RetailDiscountLineOffer.offerPrice;
                            break;
                        case RetailOfferLineDiscountMethodBaseN1::PriceInclTax:
                            retailPeriodicDiscountLine_RetailDiscountLineOffer.offerPriceInclTaxN1 = retailPeriodicDiscountLine_RetailDiscountLineOffer.offerPrice;
                            break;
                    }
                }
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailGroupMemberLine</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            InventDim   inventDimSelected;
            const str InventDimAllBlank = 'AllBlank';

            ttsbegin;

            inventDimSelected = InventDim::findOrCreate(inventDim);
            if (inventDimSelected)
            {
                if (retailGroupMemberLine.InventDimId == inventDimSelected.InventDimId && retailGroupMemberLine.Variant != 0)
                {
                    retailGroupMemberLine.InventDimId = InventDimAllBlank;
                }
                else 
                {
                    retailGroupMemberLine.InventDimId = inventDimSelected.InventDimId;
                    if (inventDimSelected.InventDimId != InventDimAllBlank && inventDimSelected.InventDimId != '')
                    {
                        retailGroupMemberLine.Variant = 0;
                    }
                }
            }
            
            // update the line name if blank or based on the old product selection
            element.updateDiscountLineName();

            super();

            ttscommit;
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;
        
            ret = super();
        
            if (ret)
            {
                // Validate only if there is a product on the line (Category discounts have no product).
                if (retailGroupMemberLine.Product != 0)
                {
                    // Validate that we are only creating lines with released products.
                    ret = retailGroupMemberLine.validateProductIsReleasedInActiveLegalEntity();
                }
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;
        
            ret = super();
        
            element.updateDesign(InventDimFormDesignUpdate::Active);
            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>editItemIdByRetailGroupMemberLine</Name>
						<Source><![CDATA[
        internal edit ItemId editItemIdByRetailGroupMemberLine(boolean _set, RetailGroupMemberLine _retailGroupMemberLine, ItemId _itemId)
        {
            if (_set)
            {
                // When set, populate product RecId from InventItemIdLookupSimpleView.
                InventItemIdLookupSimpleView inventItemIdLookupSimpleView;
                select firstonly Product from inventItemIdLookupSimpleView
                    where inventItemIdLookupSimpleView.ItemId == _itemId;

                if (_retailGroupMemberLine.Product != inventItemIdLookupSimpleView.Product)
                {
                    _retailGroupMemberLine.Product = inventItemIdLookupSimpleView.Product;

                    // Also update unit of measure and category accordingly.
                    UnitOfMeasureSymbol unitSymbol = InventTableModule::find(_itemId, ModuleInventPurchSales::Sales).UnitId;
                    RetailPeriodicDiscountLine.UnitOfMeasure = UnitOfMeasure::findBySymbol(unitSymbol).RecId;

                    _retailGroupMemberLine.Category = EcoResProductCategory::findByProductIdCategoryHierarchyRole(inventItemIdLookupSimpleView.Product, EcoResCategoryNamedHierarchyRole::Retail).Category;
                    _retailGroupMemberLine.CategoryHierarchy = EcoResCategory::find(_retailGroupMemberLine.Category).CategoryHierarchy;

                    element.refreshInventDimDatasource();
                    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
                }

                return _itemId;
            }
            else
            {
                // When display, get ItemId by product RecId from InventItemIdLookupSimpleView.
                if (_retailGroupMemberLine.RecId && _retailGroupMemberLine.Product)
                {
                    InventItemIdLookupSimpleView inventItemIdLookupSimpleView;
                    select firstonly ItemId from inventItemIdLookupSimpleView
                        where inventItemIdLookupSimpleView.Product == _retailGroupMemberLine.Product;

                    return inventItemIdLookupSimpleView.ItemId;
                }
                else
                {
                    return '';
                }
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>Category</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::categoryLookup(_formReferenceControl);
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                element.refreshInventDimDatasource();

                element.updateDesign(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>InventDimId</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                element.updateDesign(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Product</DataField>
						<Methods>
							<Method>
								<Name>jumpRef</Name>
								<Source><![CDATA[
            public void jumpRef()
            {
                RetailGroupMemberLine::jumpRefProduct(InventTable::findByProduct(retailGroupMemberLine.Product));
            }

]]></Source>
							</Method>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::productLookupByLE(_formReferenceControl, retailGroupMemberLine);
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                element.refreshInventDimDatasource();

                element.updateDesign(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Variant</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::variantLookupByLE(_formReferenceControl, retailGroupMemberLine);
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                element.updateDesign(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailDiscountCode</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            //super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            return true;
        }

]]></Source>
					</Method>
					<Method>
						<Name>discountCode</Name>
						<Source><![CDATA[
        /// <summary>
        /// Edit method of discount code.
        /// </summary>
        /// <param name="_set">
        /// Whether to set value of discount code.
        /// </param>
        /// <param name="_retailDiscountCode">
        /// A record in the <c>RetailDiscountCode</c> table.
        /// </param>
        /// <param name="_code">
        /// The coupon code string value of discount code.
        /// </param>
        /// <returns>
        /// The coupon code string value of discount code.
        /// </returns>
        public edit RetailDiscountCodeId discountCode(boolean _set, RetailDiscountCode _retailDiscountCode, RetailDiscountCodeId _code)
        {
            if (_set)
            {
                _retailDiscountCode.DiscountCode = _code;
            }
            return _retailDiscountCode.DiscountCode;
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            QueryBuildDataSource qbds;

            super();

            qbds = this.query().dataSourceTable(this.table());
            qbds.clearLinks();
            qbds.addLink(fieldNum(RetailPeriodicDiscount, DiscountCode), fieldNum(RetailDiscountCode, RecId));
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailDiscountThresholdTiers</Name>
				<Methods>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();

            if (RetailPeriodicDiscount is RetailShippingThresholdDiscounts)
            {
                RetailDiscountThresholdTiers.DiscountMethod = RetailThresholdDiscountMethod::PercentOff;
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;
        
            ret = super();
        
            element.updateThresholdTierView();

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>DiscountMethod</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                element.updateThresholdTierView();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>RetailMultibuyDiscountLine</Name>
				<Methods>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();

            if (multibuyDiscount)
            {
                retailMultibuyDiscountLine.multibuyId = multibuyDiscount.OfferId;
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>InventDim</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            // Never insert or update inventDim records
            //  super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        public void delete()
        {
            // Never delete inventDim records
            //  super();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailDiscountLineThresholdApplying</Name>
				<Methods>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();

            // Assign offer id of the tier to threshold discount applying lines.
            if (RetailPeriodicDiscount is RetailDiscountThreshold)
            {
                retailDiscountLineThresholdApplying.OfferId = retailDiscountThresholdTiers.OfferId;
                retailDiscountLineThresholdApplying.IsDiscountApplyingLine = NoYes::Yes;
                retailDiscountLineThresholdApplying.ThresholdLineDiscountMethod = RetailDiscountThresholdLineDiscountMethodBase::DiscountPercent;
            }

            if (RetailGroupMemberLine::exists(retailDiscountLineThresholdApplying.RetailGroupMemberLine))
            {
                retailGroupMemberLineThresholdApplying.data(RetailGroupMemberLine::find(retailDiscountLineThresholdApplying.RetailGroupMemberLine));
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>create</Name>
						<Source><![CDATA[
        public void create(boolean _append = false)
        {
            element.validateEmptyRetailGroupMemberLine(retailGroupMemberLineThresholdApplying);

            super(_append);

            // set the focus on the category as Category is always first field on the grid.
            element.control(element.controlId(formControlStr(RetailPeriodicDiscount, RetailGroupMemberLine_Category_ThresholdApplying))).setFocus();
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;

            ret = super();

            if (ret)
            {
                element.validateEmptyRetailGroupMemberLine(retailGroupMemberLineThresholdApplying);
            }

            // calls at the data source because RetailGroupMemberLine writes after discount line.
            if (ret)
            {
                ret = retailDiscountLineThresholdApplying.checkDiscountLine(retailGroupMemberLineThresholdApplying) ;
            }

            if (ret)
            {
                ret = retailDiscountLineThresholdApplying.validateUnitOfMeasure();
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailGroupMemberLineThresholdApplying</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            InventDim   inventDimSelected;
            const str InventDimAllBlank = 'AllBlank';

            inventDimSelected = InventDim::findOrCreate(inventDimThresholdApplying);
            if (inventDimSelected)
            {
                if (retailGroupMemberLineThresholdApplying.InventDimId == inventDimSelected.InventDimId && retailGroupMemberLineThresholdApplying.Variant != 0)
                {
                    retailGroupMemberLineThresholdApplying.InventDimId = InventDimAllBlank;
                }
                else
                {
                    retailGroupMemberLineThresholdApplying.InventDimId = inventDimSelected.InventDimId;
                    if (inventDimSelected.InventDimId != InventDimAllBlank && inventDimSelected.InventDimId != '')
                    {
                        retailGroupMemberLineThresholdApplying.Variant = 0;
                    }
                }
            }
            
            // update the line name if blank or based on the old product selection
            element.updateThresholdApplyingDiscountLineName();

            super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret;
        
            ret = super();
        
            if (ret)
            {
                // Validate only if there is a product on the line (Category discounts have no product).
                if (retailGroupMemberLineThresholdApplying.Product != 0)
                {
                    // Validate that we are only creating lines with released products.
                    ret = retailGroupMemberLineThresholdApplying.validateProductIsReleasedInActiveLegalEntity();
                }
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret = super();

            element.updateDesignThresholdApplying(InventDimFormDesignUpdate::Active);

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>Category</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::categoryLookup(_formReferenceControl);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>InventDimId</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                super();

                element.updateDesignThresholdApplying(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Product</DataField>
						<Methods>
							<Method>
								<Name>jumpRef</Name>
								<Source><![CDATA[
            public void jumpRef()
            {
                RetailGroupMemberLine::jumpRefProduct(InventTable::findByProduct(retailGroupMemberLineThresholdApplying.Product));
            }

]]></Source>
							</Method>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::productLookupByLE(_formReferenceControl, retailGroupMemberLineThresholdApplying);
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                element.updateDesignThresholdApplying(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>Variant</DataField>
						<Methods>
							<Method>
								<Name>lookupReference</Name>
								<Source><![CDATA[
            public Common lookupReference(FormReferenceControl _formReferenceControl)
            {
                return RetailGroupMemberLine::variantLookupByLE(_formReferenceControl, retailGroupMemberLineThresholdApplying);
            }

]]></Source>
							</Method>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            void modified()
            {
                super();

                element.updateDesignThresholdApplying(InventDimFormDesignUpdate::FieldChange);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
			<DataSource>
				<Name>InventDimThresholdApplying</Name>
				<Methods>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            // Never insert or update inventDim records
            //  super();
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        public void delete()
        {
            // Never delete inventDim records
            //  super();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>RetailDiscountApplicabilityRule</Name>
				<Methods>
					<Method>
						<Name>validateWrite</Name>
						<Source><![CDATA[
        public boolean validateWrite()
        {
            boolean ret = true;

            // We skip this validation as it's an outer-joined table so RetailPeriodicDiscountLine is not filled in the first place.
            // ret = super();

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            // Form writes RetailDiscountApplicabilityRule before RetailPeriodicDiscountLine.
            // So we fill the RetailDiscountApplicabilityRule.RetailPeriodicDiscountLine in the <c>write</c> of RetailPeriodicDiscountLine.
            if (RetailDiscountApplicabilityRule.RetailPeriodicDiscountLine)
            {
                super();
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>EcoResDistinctProductVariantRefRecId</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            public void modified()
            {
                
                InventDimCombination inventDimCombination = InventDimCombination::findByDistinctProductVariant(RetailDiscountApplicabilityRule.EcoResDistinctProductVariantRefRecId);
                InventDim inventDimLocal = InventDim::find(inventDimCombination.InventDimId);

                RetailDiscountApplicabilityRule.EcoResColorName = inventDimLocal.InventColorId;
                RetailDiscountApplicabilityRule.EcoResSizeName = inventDimLocal.InventSizeId;
                RetailDiscountApplicabilityRule.EcoResStyleName = inventDimLocal.InventStyleId;
                RetailDiscountApplicabilityRule.EcoResConfigurationName = inventDimLocal.configId;

                super();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>SwitchToLegacyViewButton</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            isPropertyBasedMode = false;

            Args args = element.args();

            MenuFunction thisMenu = new MenuFunction(element.args().menuItemName(), MenuItemType::Display);
            if (!args.parmEnum() && thisMenu.query())
            {
                args.initialQuery(InitialQueryParameter::createByModeledQueryName(thisMenu.query()));
            }

            args.menuItemName(menuItemDisplayStr(RetailDiscountsAll));

            MenuFunction menuFunction = new MenuFunction(menuItemDisplayStr(RetailDiscountsAll), MenuItemType::Display);
            menuFunction.query('');
            menuFunction.run(args);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>SwitchToPropertyBasedViewButton</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            isPropertyBasedMode = true;

            Args args = element.args();

            MenuFunction thisMenu = new MenuFunction(element.args().menuItemName(), MenuItemType::Display);
            if (!args.parmEnum() && thisMenu.query())
            {
                args.initialQuery(InitialQueryParameter::createByModeledQueryName(thisMenu.query()));
            }

            args.menuItemName(menuItemDisplayStr(RetailDiscountApplicabilityRule));

            MenuFunction menuFunction = new MenuFunction(menuItemDisplayStr(RetailDiscountApplicabilityRule), MenuItemType::Display);
            menuFunction.query(''); // When jumping, the Menu Item's query shall not be respected. While the initial query will be passed through args.initialQuery();
            menuFunction.run(args);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailDiscountPriceGroupMenuItemButton</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            //super();

            Args args = new Args();
            args.record(RetailPeriodicDiscount);
            args.caller(element);

            if (isPropertyBasedMode)
            {
                args.name(formStr(RetailDiscountPriceGroupSlim));
                MenuFunction menuFunction = new MenuFunction(menuItemDisplayStr(RetailDiscountPriceGroupSlim), MenuItemType::Display);
                menuFunction.run(args);
            }
            else
            {
                args.name(formStr(RetailDiscountPriceGroup));
                MenuFunction menuFunction = new MenuFunction(menuItemDisplayStr(RetailDiscountPriceGroup), MenuItemType::Display);
                menuFunction.run(args);
            }
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>DiscountCode_IsDiscountCodeRequired</Name>
				<Type>CheckBox</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            RetailParameters parameters;
            RetailCampaignDiscount retailCampaignDiscount;
            int i = 0;

            super();

            if (this.checked())
            {
                // check if barcode is set up
                select firstonly CouponBarcodeSetupId from parameters
                    where parameters.CouponBarcodeSetupId;

                // if we have no setup for barcode, throw a warning with the link to barcode setup form
                if (!parameters.CouponBarcodeSetupId)
                {
                    warning("@Retail:CouponBarcodeNotSetUp", '', SysInfoAction_MenuFunction::newMenuItem(menuitemDisplayStr(RetailBarcodeMaskSetup), MenuItemType::Display));
                }
            }

            while select Campaign from retailCampaignDiscount
                where retailCampaignDiscount.DiscountOffer == retailPeriodicDiscount.OfferId
            {
                if (i == 0)
                {
                    if (this.checked())
                    {
                        warning("@RET260947");
                    }
                    else
                    {
                        warning("@RET260948");
                    }
                }

                warning(retailCampaignDiscount.Campaign);
                i++;
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
        
            ret = super();

            element.toggleCouponSpecificControls(this.checked() == NoYes::Yes);
        
            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>OverridePriorityCheckBox</Name>
				<Type>CheckBox</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;

            ret = super();

            if (this.checked())
            {
                effectivePriorityNumber.enabled(true);
            }
            else
            {
                retailPeriodicDiscount.PricingPriorityNumber = 0;
                effectivePriorityNumber.enabled(false);
            }

            element.refreshEffectivePriorityNumber();

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>EffectivePriorityNumber</Name>
				<Type>Integer</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;

            ret = super();

            if (overridePriorityCheckBox.checked())
            {
                RetailPeriodicDiscount.PricingPriorityNumber = this.value();
            }

            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>lookup</Name>
						<Source><![CDATA[
        public void lookup()
        {
            SysTableLookup lookup;
            Query                   query;

            query       = new Query();
            query.addDataSource(tablenum(RetailPricingPriorityTable), tablestr(RetailPricingPriorityTable));

            lookup = SysTableLookup::newParameters(tablenum(RetailPricingPriorityTable), this);
            lookup.parmQuery(query);
            lookup.addLookupfield(fieldnum(RetailPricingPriorityTable, PriorityNumber));
            lookup.addLookupfield(fieldnum(RetailPricingPriorityTable, Name));

            lookup.performFormLookup();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailDiscountMixAndMatch_CountNonDiscountItems</Name>
				<Type>CheckBox</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;

            ret = super();

            if (RetailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchDiscountType == RetailMixAndMatchDiscountType::LineSpec && RetailPeriodicDiscount_RetailDiscountMixAndMatch.MixAndMatchCountNonDiscountItems == 1)
            {
                warning("@Retail:IncludeNonDiscountableProductsWarning");
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddProducts</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            element.validateEmptyRetailGroupMemberLine(RetailGroupMemberLine);

            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>ExplodeItem</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            element.validateEmptyRetailGroupMemberLine(RetailGroupMemberLine);

            RetailPeriodicDiscountLine tDiscountOfferLine;

            tDiscountOfferLine = RetailPeriodicDiscountLine.data();
            retailPeriodicDiscountLine.explodeItem();
            retailPeriodicDiscountLine_ds.research();
            retailPeriodicDiscountLine_ds.positionToRecord(tDiscountOfferLine);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailGroupMemberLine_Product</Name>
				<Type>ReferenceGroup</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
            ItemId                  itemId;
            UnitOfMeasureSymbol     unitSymbol;

            ret = super();

            // Set the unit default to the product unit
            if (retailGroupMemberLine.Product)
            {
                itemId = EcoResProduct::find(retailGroupMemberLine.Product).releasedItemId();
                unitSymbol = InventTableModule::find(ItemId, ModuleInventPurchSales::Sales).UnitId;
                RetailPeriodicDiscountLine.UnitOfMeasure = UnitOfMeasure::findBySymbol(unitSymbol).RecId;
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailGroupMemberLine_ItemId</Name>
				<Type>String</Type>
				<Methods>
					<Method>
						<Name>lookup</Name>
						<Source><![CDATA[
        public void lookup()
        {
            InventTable::lookupItem(this);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailGroupMemberLine_Variant</Name>
				<Type>ReferenceGroup</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
    
            ItemId                  itemId;
            UnitOfMeasureSymbol     unitSymbol;

            ret = super();

            // Set the unit default to the product unit
            if (retailGroupMemberLine.Variant && retailGroupMemberLine.Product)
            {
                itemId = EcoResProduct::find(retailGroupMemberLine.Product).releasedItemId();
                unitSymbol = InventTableModule::find(ItemId, ModuleInventPurchSales::Sales).UnitId;
                RetailPeriodicDiscountLine.UnitOfMeasure = UnitOfMeasure::findBySymbol(unitSymbol).RecId;
            }
    
            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AddProductsThresholdApplying</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            element.validateEmptyRetailGroupMemberLine(RetailGroupMemberLineThresholdApplying);
            super();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>ExplodeItemThresholdApplying</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        public void clicked()
        {
            RetailDiscountLineThresholdApplying.checkDiscountLine(RetailGroupMemberLineThresholdApplying);

            RetailPeriodicDiscountLine tDiscountOfferLine;

            tDiscountOfferLine = RetailDiscountLineThresholdApplying.data();
            RetailDiscountLineThresholdApplying.explodeItem();
            RetailDiscountLineThresholdApplying_ds.research();
            RetailDiscountLineThresholdApplying_ds.positionToRecord(tDiscountOfferLine);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailGroupMemberLine_Product_ThresholdApplying</Name>
				<Type>ReferenceGroup</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
            ItemId                  itemId;
            UnitOfMeasureSymbol     unitSymbol;

            ret = super();

            // Set the unit default to the product unit
            if (retailGroupMemberLineThresholdApplying.Product)
            {
                itemId = EcoResProduct::find(retailGroupMemberLineThresholdApplying.Product).releasedItemId();
                unitSymbol = InventTableModule::find(ItemId, ModuleInventPurchSales::Sales).UnitId;
                RetailDiscountLineThresholdApplying.UnitOfMeasure = UnitOfMeasure::findBySymbol(unitSymbol).RecId;
            }

            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RetailGroupMemberLine_Variant_ThresholdApplying</Name>
				<Type>ReferenceGroup</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
    
            ItemId                  itemId;
            UnitOfMeasureSymbol     unitSymbol;

            ret = super();

            // Set the unit default to the product unit
            if (retailGroupMemberLineThresholdApplying.Variant && retailGroupMemberLineThresholdApplying.Product)
            {
                itemId = EcoResProduct::find(retailGroupMemberLineThresholdApplying.Product).releasedItemId();
                unitSymbol = InventTableModule::find(ItemId, ModuleInventPurchSales::Sales).UnitId;
                RetailDiscountLineThresholdApplying.UnitOfMeasure = UnitOfMeasure::findBySymbol(unitSymbol).RecId;
            }
    
            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>RetailPeriodicDiscount</Name>
			<Table>RetailPeriodicDiscount</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>ConcurrencyMode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CurrencyCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DateValidationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DisabledSince</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Disclaimer</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountLedgerDimension</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountPercentValue</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsDiscountCodeRequired</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>MatchAllAssociatedPriceGroups</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OfferId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PeriodicDiscountType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PriceDiscGroup</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PricingPriorityNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrintDescriptionOnFiscalReceipt</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProcessingStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidationPeriodId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidFrom</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ValidTo</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscount_RetailDiscountMixAndMatch</Name>
					<Table>RetailDiscountMixAndMatch</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DealPriceValue</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DiscountAmountValue</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>GeneratesBundleId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>LeastExpensiveMode</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>MixAndMatchCountNonDiscountItems</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>MixAndMatchDiscountType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>NoOfLeastExpensiveLines</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>numberOfTimesApplicable</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscount_RetailDiscountMultibuy</Name>
					<Table>RetailDiscountMultibuy</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>MultibuyDiscountType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscount_RetailDiscountOffer</Name>
					<Table>RetailDiscountOffer</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DiscOnPOS</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>QuantityLimit</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscount_RetailDiscountThreshold</Name>
					<Table>RetailDiscountThreshold</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>CountNonDiscountItems</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscount_RetailShippingThresholdDiscounts</Name>
					<Table>RetailShippingThresholdDiscounts</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>DlvModeId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailPeriodicDiscountLine</Name>
			<Table>RetailPeriodicDiscountLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountPercentOrValue</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsDiscountApplyingLine</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsDiscountCodeRequired</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsPropertyBased</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LineNum</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LineType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OfferId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RetailGroupMemberLine</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>UnitOfMeasure</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailPeriodicDiscount</JoinSource>
			<CounterField>LineNum</CounterField>
			<Index>OfferLineIdx</Index>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch</Name>
					<Table>RetailDiscountLineMixAndMatch</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>discountType</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>lineGroup</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>numberOfItemsNeeded</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscountLine_RetailDiscountLineMultibuy</Name>
					<Table>RetailDiscountLineMultibuy</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer</Name>
					<Table>RetailDiscountLineOffer</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>discAmount</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>discountMethod</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>discountMethodN1</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>discPct</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>offerPrice</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>offerPriceInclTax</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>offerPriceInclTaxN1</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>offerPriceN1</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
				<AxFormDataSourceDerived>
					<Name>RetailPeriodicDiscountLine_RetailDiscountLineThresholdApplying</Name>
					<Table>RetailDiscountLineThresholdApplying</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>DataAreaId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>QuantityLimit</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ThresholdLineDiscountMethod</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Tier</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<DerivedDataSources />
				</AxFormDataSourceDerived>
			</DerivedDataSources>
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailGroupMemberLine</Name>
			<Table>RetailGroupMemberLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>Category</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CategoryHierarchy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Variant</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailPeriodicDiscountLine</JoinSource>
			<LinkType>InnerJoin</LinkType>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailDiscountCode</Name>
			<Table>RetailDiscountCode</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>BarCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountOfferId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailPeriodicDiscount</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailDiscountThresholdTiers</Name>
			<Table>RetailDiscountThresholdTiers</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AmountThreshold</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountMethod</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountValue</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OfferId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailPeriodicDiscount</JoinSource>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailMultibuyDiscountLine</Name>
			<Table>RetailMultibuyDiscountLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>dataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>modifiedTransactionId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>multibuyId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>priceDiscPct</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>qtyLowest</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailPeriodicDiscount_RetailDiscountMultibuy</JoinSource>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>InventDim</Name>
			<Table>InventDim</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>configId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>inventBatchId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventColorId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension1</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension10</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension11</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension12</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension2</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension3</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension4</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension5</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension6</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension7</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension8</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension9</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>inventDimId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventGtdId_RU</DataField>
					<Visible>No</Visible>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventLocationId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventOwnerId_RU</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventProfileId_RU</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>inventSerialId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventSiteId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventSizeId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventStatusId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventStyleId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventVersionId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LicensePlateId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SHA1HashHex</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SHA3HashHex</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>wMSLocationId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>wMSPalletId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<DelayActive>No</DelayActive>
			<JoinSource>RetailGroupMemberLine</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailDiscountLineThresholdApplying</Name>
			<Table>RetailDiscountLineThresholdApplying</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiscountPercentOrValue</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InstanceRelationType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsDiscountApplyingLine</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsDiscountCodeRequired</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LineNum</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LineType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Name</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OfferId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>QuantityLimit</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RetailGroupMemberLine</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ThresholdLineDiscountMethod</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Tier</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>UnitOfMeasure</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailDiscountThresholdTiers</JoinSource>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailGroupMemberLineThresholdApplying</Name>
			<Table>RetailGroupMemberLine</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>Category</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CategoryHierarchy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Product</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Variant</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailDiscountLineThresholdApplying</JoinSource>
			<LinkType>InnerJoin</LinkType>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>InventDimThresholdApplying</Name>
			<Table>InventDim</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>configId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>inventBatchId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventColorId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension1</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension10</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension11</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension12</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension2</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension3</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension4</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension5</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension6</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension7</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension8</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventDimension9</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>inventDimId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventGtdId_RU</DataField>
					<Visible>No</Visible>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventLocationId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventOwnerId_RU</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventProfileId_RU</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>inventSerialId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventSiteId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventSizeId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventStatusId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventStyleId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventVersionId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LicensePlateId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SHA1HashHex</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SHA3HashHex</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>wMSLocationId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>wMSPalletId</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<DelayActive>No</DelayActive>
			<JoinSource>RetailGroupMemberLineThresholdApplying</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>RetailDiscountApplicabilityRule</Name>
			<Table>RetailDiscountApplicabilityRule</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>CatalogRefRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DlvModeCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResCategoryRefRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResColorName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResConfigurationName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResDistinctProductVariantRefRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResProductRefRecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResSizeName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EcoResStyleName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventLocationId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InventSiteId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue0</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue1</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue2</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue3</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue4</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue5</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue6</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue7</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue8</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PropValue9</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RetailPeriodicDiscountLine</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SHA3HashHex</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>UnitOfMeasureSymbol</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>RetailPeriodicDiscountLine</JoinSource>
			<LinkType>OuterJoin</LinkType>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@RET4922</Caption>
		<DataSource xmlns="">RetailPeriodicDiscount</DataSource>
		<Pattern xmlns="">SimpleListDetails</Pattern>
		<PatternVersion xmlns="">1.3</PatternVersion>
		<ShowNewButton xmlns="">No</ShowNewButton>
		<Style xmlns="">SimpleListDetails</Style>
		<UseCaptionFromMenuItem xmlns="">Yes</UseCaptionFromMenuItem>
		<ViewEditMode xmlns="">Edit</ViewEditMode>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>ActionPane</Name>
				<ElementPosition>429496729</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>0</Width>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>NewAllDiscountsButtonGroup</Name>
						<Type>ButtonGroup</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuButtonControl">
								<Name>NewAllDiscountsButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>MenuButton</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>DiscountOffer</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>MenuFunctionButton</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<FormViewOption>Details</FormViewOption>
										<MenuItemName>RetailDiscountOffer</MenuItemName>
										<OpenMode>New</OpenMode>
										<Text>@RetailPricing:SimpleDiscount</Text>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>MixAndMatchDiscount</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>MenuFunctionButton</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<FormViewOption>Details</FormViewOption>
										<MenuItemName>RetailDiscountMixAndMatch</MenuItemName>
										<OpenMode>New</OpenMode>
										<Text>@RetailPricing:MixAndMatchDiscount</Text>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>QuatityDiscount</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ConfigurationKey>Retail</ConfigurationKey>
										<Type>MenuFunctionButton</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<FormViewOption>Details</FormViewOption>
										<MenuItemName>RetailDiscountMultibuy</MenuItemName>
										<OpenMode>New</OpenMode>
										<Text>@RetailPricing:QuantityDiscount</Text>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>ThresholdDiscount</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>MenuFunctionButton</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<FormViewOption>Details</FormViewOption>
										<MenuItemName>RetailDiscountThreshold</MenuItemName>
										<OpenMode>New</OpenMode>
										<Text>@RetailPricing:ThresholdDiscount</Text>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>PriceAdjustments</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>MenuFunctionButton</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<FormViewOption>Details</FormViewOption>
										<MenuItemName>RetailDiscountPromotion</MenuItemName>
										<OpenMode>New</OpenMode>
										<Text>@RetailPricing:PriceAdjustment</Text>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormMenuFunctionButtonControl">
										<Name>ShippingThresholdDiscounts</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>MenuFunctionButton</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<FormViewOption>Details</FormViewOption>
										<MenuItemName>RetailShippingThresholdDiscounts</MenuItemName>
										<OpenMode>New</OpenMode>
									</AxFormControl>
								</Controls>
								<Text>@REX:New</Text>
							</AxFormControl>
						</Controls>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>OfferFunctions</Name>
						<ElementPosition>1610612734</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>RetailPeriodicDiscountCopyList</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<MenuItemName>RetailPeriodicDiscountCopyList</MenuItemName>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>SwitchToLegacyViewButtonGroup</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<Type>ButtonGroup</Type>
						<Visible>No</Visible>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>SwitchToLegacyViewButton</Name>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>RetailDiscountsAll</MenuItemName>
								<Text>@ApplicationFoundation:SwitchToLegacy</Text>
							</AxFormControl>
						</Controls>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>SwitchToPropertyBasedVeiwButtonGroup</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<Type>ButtonGroup</Type>
						<Visible>No</Visible>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>SwitchToPropertyBasedViewButton</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>RetailDiscountApplicabilityRule</MenuItemName>
								<Text>@ApplicationFoundation:SwitchToEnhanced</Text>
							</AxFormControl>
						</Controls>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>PriceGroupsButtonGroup</Name>
						<ElementPosition>1700091219</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>RetailDiscountPriceGroupMenuItemButton</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<NeedsRecord>Yes</NeedsRecord>
								<Text>@SYS4707</Text>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>MultibuyButtonGroup</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1789569704</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>RetailMultibuyDiscountLine</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<MenuItemName>RetailMultibuyDiscountLine</MenuItemName>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>MixAndMatchButtonGroup</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1968526674</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Left>0</Left>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>RetailMixAndMatchLineGroupsMenuButton</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<ButtonDisplay>TextOnly</ButtonDisplay>
								<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
								<MenuItemName>RetailMixAndMatchLineGroups</MenuItemName>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>FormButtonGroupControl1</Name>
						<Type>ButtonGroup</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ViewSharedProductsButton</Name>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<DataSource>RetailPeriodicDiscount</DataSource>
								<MenuItemName>RetailOverlapDiscount</MenuItemName>
								<NeedsRecord>Yes</NeedsRecord>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>ValidationLog</Name>
								<Type>MenuFunctionButton</Type>
								<FormControlExtension
									i:nil="true" />
								<MenuItemName>RetailDiscountValidationLog</MenuItemName>
							</AxFormControl>
						</Controls>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<DataSource>RetailPeriodicDiscount</DataSource>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>GridContainer</Name>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>858993458</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>SizeToAvailable</HeightMode>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl>
						<Name>QuickFilterControl</Name>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension>
							<Name>QuickFilterControl</Name>
							<ExtensionComponents />
							<ExtensionProperties>
								<AxFormControlExtensionProperty>
									<Name>targetControlName</Name>
									<Type>String</Type>
									<Value>Grid</Value>
								</AxFormControlExtensionProperty>
								<AxFormControlExtensionProperty>
									<Name>defaultColumnName</Name>
									<Type>String</Type>
								</AxFormControlExtensionProperty>
								<AxFormControlExtensionProperty>
									<Name>placeholderText</Name>
									<Type>String</Type>
								</AxFormControlExtensionProperty>
							</ExtensionProperties>
						</FormControlExtension>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormGridControl">
						<Name>Grid</Name>
						<AllowEdit>No</AllowEdit>
						<ElementPosition>1431655764</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<Type>Grid</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToContent</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>RetailPeriodicDiscount_OfferId</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<DataField>OfferId</DataField>
								<DataSource>RetailPeriodicDiscount</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>RetailPeriodicDiscount_Name</Name>
								<ElementPosition>1610612734</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<DataField>Name</DataField>
								<DataSource>RetailPeriodicDiscount</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormComboBoxControl">
								<Name>RetailPeriodicDiscount_PeriodicDiscountType</Name>
								<Type>ComboBox</Type>
								<FormControlExtension
									i:nil="true" />
								<DataField>PeriodicDiscountType</DataField>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<Items />
							</AxFormControl>
						</Controls>
						<AlternateRowShading>No</AlternateRowShading>
						<DataSource>RetailPeriodicDiscount</DataSource>
						<GridLinesStyle>Vertical</GridLinesStyle>
						<MultiSelect>No</MultiSelect>
						<ShowRowLabels>No</ShowRowLabels>
						<Style>List</Style>
					</AxFormControl>
				</Controls>
				<RightMargin>0</RightMargin>
				<RightMarginMode>Fixed</RightMarginMode>
				<FrameType>None</FrameType>
				<Style>SidePanel</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>DetailsHeader</Name>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>1073741822</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Pattern>FieldsFieldGroups</Pattern>
				<PatternVersion>1.1</PatternVersion>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<WidthMode>SizeToAvailable</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormStringControl">
						<Name>RetailPeriodicDiscount_OfferId1</Name>
						<ElementPosition>1073741822</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<Type>String</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<FormControlExtension
							i:nil="true" />
						<DataField>OfferId</DataField>
						<DataSource>RetailPeriodicDiscount</DataSource>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormStringControl">
						<Name>RetailPeriodicDiscount_Name1</Name>
						<ElementPosition>1610612734</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<Type>String</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<FormControlExtension
							i:nil="true" />
						<DataField>Name</DataField>
						<DataSource>RetailPeriodicDiscount</DataSource>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormComboBoxControl">
						<Name>RetailPeriodicDiscount_PeriodicDiscountType1</Name>
						<AllowEdit>No</AllowEdit>
						<Type>ComboBox</Type>
						<FormControlExtension
							i:nil="true" />
						<DataField>PeriodicDiscountType</DataField>
						<DataSource>RetailPeriodicDiscount</DataSource>
						<Items />
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormComboBoxControl">
						<Name>RetailPeriodicDiscount_ProcessingStatus</Name>
						<AllowEdit>No</AllowEdit>
						<AutoDeclaration>Yes</AutoDeclaration>
						<Type>ComboBox</Type>
						<FormControlExtension
							i:nil="true" />
						<DataField>ProcessingStatus</DataField>
						<DataSource>RetailPeriodicDiscount</DataSource>
						<Items />
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormComboBoxControl">
						<Name>RetailPeriodicDiscount_ValidationStatus</Name>
						<Type>ComboBox</Type>
						<FormControlExtension
							i:nil="true" />
						<DataField>ValidationStatus</DataField>
						<DataSource>RetailPeriodicDiscount</DataSource>
						<Items />
					</AxFormControl>
				</Controls>
				<ColumnsMode>Fill</ColumnsMode>
				<FrameType>None</FrameType>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>DetailsTab</Name>
				<AlignControl>No</AlignControl>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>1610612734</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>GeneralTabPage</Name>
						<ElementPosition>447392424</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Status</Name>
								<ElementPosition>920350134</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>Status_Status</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Status</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<FastTabSummary>Yes</FastTabSummary>
										<Items />
									</AxFormControl>
								</Controls>
								<DataGroup>Status</DataGroup>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Currency</Name>
								<ElementPosition>1227133512</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Currency_CurrencyCode</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>CurrencyCode</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>Currency</DataGroup>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Concurrency</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1533916890</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>Concurrency_ConcurrencyMode</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ConcurrencyMode</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<FastTabSummary>Yes</FastTabSummary>
										<Items />
									</AxFormControl>
								</Controls>
								<DataGroup>Concurrency</DataGroup>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Account</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1840700268</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormSegmentedEntryControl">
										<Name>PeriodicDiscount_OfferLedgerDimension</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>SegmentedEntry</Type>
										<FormControlExtension>
											<Name>SegmentedEntryControl</Name>
											<ExtensionComponents />
											<ExtensionProperties>
												<AxFormControlExtensionProperty>
													<Name>parmControllerClassName</Name>
													<Type>String</Type>
													<Value>LedgerDimensionDefaultAccountController</Value>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmAccountTypeEnumName</Name>
													<Type>String</Type>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmIsDefaultAccount</Name>
													<Type>Enum</Type>
													<TypeName>boolean</TypeName>
													<Value>False</Value>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmValidateBlockedForManualEntry</Name>
													<Type>Enum</Type>
													<TypeName>NoYes</TypeName>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmLockMainAccountSegment</Name>
													<Type>Enum</Type>
													<TypeName>NoYes</TypeName>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmPostingType</Name>
													<Type>Enum</Type>
													<TypeName>LedgerPostingType</TypeName>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmIncludeTotalAccounts</Name>
													<Type>Enum</Type>
													<TypeName>NoYes</TypeName>
												</AxFormControlExtensionProperty>
												<AxFormControlExtensionProperty>
													<Name>parmIncludeFinancialAccounts</Name>
													<Type>Enum</Type>
													<TypeName>NoYes</TypeName>
												</AxFormControlExtensionProperty>
											</ExtensionProperties>
										</FormControlExtension>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<ReferenceField>DiscountLedgerDimension</ReferenceField>
									</AxFormControl>
								</Controls>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>DiscountCode</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1994091957</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>DiscountCode_DiscountCode</Name>
										<ElementPosition>715827882</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>discountCode</DataMethod>
										<DataSource>RetailDiscountCode</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>DiscountCode_BarCode</Name>
										<AllowEdit>No</AllowEdit>
										<ElementPosition>1073741823</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<DataField>BarCode</DataField>
										<DataSource>RetailDiscountCode</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>DiscountCode_IsDiscountCodeRequired</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>CheckBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>IsDiscountCodeRequired</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
								</Controls>
								<Caption>@RET6316</Caption>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>PriorityGroup</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>OverridePriorityCheckBox</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>CheckBox</Type>
										<FormControlExtension
											i:nil="true" />
										<Label>@Retail:OverridePricingPriority</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormIntegerControl">
										<Name>EffectivePriorityNumber</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>Integer</Type>
										<FormControlExtension
											i:nil="true" />
										<ExtendedDataType>RetailPricingPriorityNumber</ExtendedDataType>
									</AxFormControl>
								</Controls>
								<Caption>@Retail:PricingPriorityNumber</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>ModeOfDelivery</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>DeliveryModeId</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>String</Type>
										<Visible>No</Visible>
										<FormControlExtension
											i:nil="true" />
										<DataField>DlvModeId</DataField>
										<DataSource>RetailPeriodicDiscount_RetailShippingThresholdDiscounts</DataSource>
									</AxFormControl>
								</Controls>
								<Caption>@SYS210</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>MatchAllAssociatedPriceGroups</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>RetailPeriodicDiscount_MatchAllAssociatedPriceGroups</Name>
										<Type>CheckBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>MatchAllAssociatedPriceGroups</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
								</Controls>
								<DataSource>RetailPeriodicDiscount</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS114913</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>HeaderDetailsTabPage</Name>
						<ElementPosition>671088637</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>HeaderDetailsGroup</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>RetailPeriodicDiscount_Description</Name>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>RetailPeriodicDiscount_Disclaimer</Name>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HelpText>@FieldDescriptions_RetailMain:RetailPeriodicDiscount_RetailPeriodicDiscount_Disclaimer</HelpText>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Disclaimer</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>RetailPeriodicDiscount_PrintDescriptionOnFiscalReceipt</Name>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>PrintDescriptionOnFiscalReceipt</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
								</Controls>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@RET3813</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>MultibuyTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<Pattern>Custom</Pattern>
						<Type>TabPage</Type>
						<Visible>No</Visible>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormActionPaneControl">
								<Name>MultibuyTiersActionPane</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>ActionPane</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneTabControl">
										<Name>MultibuyTiersActionPaneTab</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPaneTab</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormButtonGroupControl">
												<Name>MultibuyTiersBasicButtonGroup</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Left>0</Left>
												<Type>ButtonGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>MultibuyTiersAddButton</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1073741822</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>New</Command>
														<MultiSelect>Yes</MultiSelect>
														<NormalImage>New</NormalImage>
														<Text>@SYS124603</Text>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>MultibuyTiersRemoveButton</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1610612733</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>DeleteRecord</Command>
														<MultiSelect>Yes</MultiSelect>
														<NormalImage>Delete</NormalImage>
														<ShowShortCut>No</ShowShortCut>
														<Text>@SYS309739</Text>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailMultibuyDiscountLine</DataSource>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<DataSource>RetailMultibuyDiscountLine</DataSource>
									</AxFormControl>
								</Controls>
								<AlignChild>No</AlignChild>
								<AlignChildren>No</AlignChildren>
								<ArrangeMethod>Vertical</ArrangeMethod>
								<DataSource>RetailMultibuyDiscountLine</DataSource>
								<Style>Strip</Style>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>MultibuyTierDetails</Name>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>MultibuyDiscountTypeGroup</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>Discount_discountType</Name>
												<Type>ComboBox</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>MultibuyDiscountType</DataField>
												<DataSource>RetailPeriodicDiscount_RetailDiscountMultibuy</DataSource>
												<Items />
											</AxFormControl>
										</Controls>
										<ArrangeMethod>Auto</ArrangeMethod>
										<FrameType>None</FrameType>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>MultibuyDiscountTierGroup</Name>
										<Type>Group</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormGridControl">
												<Name>GridMultibuy</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<Type>Grid</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormRealControl">
														<Name>RBOMultibuyDiscountLine_qtyLowest</Name>
														<ElementPosition>1288490187</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>Real</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<AllowNegative>No</AllowNegative>
														<DataField>qtyLowest</DataField>
														<DataSource>RetailMultibuyDiscountLine</DataSource>
														<NoOfDecimals>-1</NoOfDecimals>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormRealControl">
														<Name>RBOMultibuyDiscountLine_priceDiscPct</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1717986916</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>Real</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<AllowNegative>No</AllowNegative>
														<DataField>priceDiscPct</DataField>
														<DataSource>RetailMultibuyDiscountLine</DataSource>
														<NoOfDecimals>-1</NoOfDecimals>
													</AxFormControl>
												</Controls>
												<AlternateRowShading>No</AlternateRowShading>
												<DataSource>RetailMultibuyDiscountLine</DataSource>
												<MultiSelect>No</MultiSelect>
												<ShowRowLabels>No</ShowRowLabels>
												<Style>Tabular</Style>
											</AxFormControl>
										</Controls>
									</AxFormControl>
								</Controls>
							</AxFormControl>
						</Controls>
						<Caption>@RET3905</Caption>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>DiscountOfferTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1073741820</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Discount</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>RetailPeriodicDiscount_DiscountPercentValue</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HelpText>@RetailPricing:RetailDiscountHeaderPercentageOffHelpText</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>DiscountPercentValue</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormIntegerControl">
										<Name>RetailDiscountOffer_QuantityLimit</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<HelpText>@RetailPricing:RetailDiscountHeaderQuantityLimitHelpText</HelpText>
										<Type>Integer</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>QuantityLimit</DataField>
										<DataSource>RetailPeriodicDiscount_RetailDiscountOffer</DataSource>
									</AxFormControl>
								</Controls>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@RET4267</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>MixAndMatchTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1342177275</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormRadioButtonControl">
								<Name>DiscountType</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>RadioButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<DataField>MixAndMatchDiscountType</DataField>
								<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
								<Items />
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>DiscountValuesGroup</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1610612734</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>RBOMixAndMatchTable_DealPriceValue</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>715827882</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<AllowNegative>No</AllowNegative>
										<DataField>DealPriceValue</DataField>
										<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
										<LabelAlignment>Right</LabelAlignment>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>RBOMixAndMatchTable_DiscountPercentValue</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741823</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<AllowNegative>No</AllowNegative>
										<DataField>DiscountPercentValue</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<Label>@RetailPricing:DiscountCalcValuePercentageOff</Label>
										<LabelAlignment>Right</LabelAlignment>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>RBOMixAndMatchTable_DiscountAmountValue</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<AllowNegative>No</AllowNegative>
										<DataField>DiscountAmountValue</DataField>
										<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
										<LabelAlignment>Right</LabelAlignment>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>LeastExpensiveGroup</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>Group</Type>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormIntegerControl">
										<Name>RBOMixAndMatchTable_NoOfLeastExpensiveLines</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1789569705</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Integer</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<AllowNegative>No</AllowNegative>
										<DataField>NoOfLeastExpensiveLines</DataField>
										<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
										<LabelAlignment>Right</LabelAlignment>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>RetailDiscountMixAndMatch_LeastExpensiveMode</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<Type>ComboBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>LeastExpensiveMode</DataField>
										<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
										<Items />
									</AxFormControl>
								</Controls>
								<Caption>@Retail:LeastExpensive</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormCheckBoxControl">
								<Name>RetailDiscountMixAndMatch_CountNonDiscountItems</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HelpText>@Retail:MixAndMatchIncludeNonDiscountableProductsHelpText</HelpText>
								<Type>CheckBox</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<DataField>MixAndMatchCountNonDiscountItems</DataField>
								<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormCheckBoxControl">
								<Name>RetailPeriodicDiscount_RetailDiscountMixAndMatch_GeneratesBundleId</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<Type>CheckBox</Type>
								<FormControlExtension
									i:nil="true" />
								<DataField>GeneratesBundleId</DataField>
								<DataSource>RetailPeriodicDiscount_RetailDiscountMixAndMatch</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@RET4267</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>ThresholdTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1431655760</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormCheckBoxControl">
								<Name>RetailDiscountThreshold_CountNonDiscountItems</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>CheckBox</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<DataField>CountNonDiscountItems</DataField>
								<DataSource>RetailPeriodicDiscount_RetailDiscountThreshold</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@RET4267</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>ThresholdTiersTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1521134245</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>ToolbarList</Pattern>
						<PatternVersion>1.2</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormActionPaneControl">
								<Name>ThresholdTiersActionPane</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>ActionPane</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneTabControl">
										<Name>ThresholdTiersActionPaneTab</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPaneTab</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormButtonGroupControl">
												<Name>TiersBasicButtonGroup</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Left>0</Left>
												<Type>ButtonGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>TiersAddButton</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1073741822</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>New</Command>
														<MultiSelect>Yes</MultiSelect>
														<NormalImage>New</NormalImage>
														<Text>@SYS124603</Text>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>TiersRemoveButton</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1610612733</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>DeleteRecord</Command>
														<MultiSelect>Yes</MultiSelect>
														<NeedsRecord>Yes</NeedsRecord>
														<NormalImage>Delete</NormalImage>
														<SaveRecord>No</SaveRecord>
														<ShowShortCut>No</ShowShortCut>
														<Text>@SYS309739</Text>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailDiscountThresholdTiers</DataSource>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<DataSource>RetailDiscountThresholdTiers</DataSource>
									</AxFormControl>
								</Controls>
								<AlignChild>No</AlignChild>
								<AlignChildren>No</AlignChildren>
								<ArrangeMethod>Vertical</ArrangeMethod>
								<DataSource>RetailDiscountThresholdTiers</DataSource>
								<Style>Strip</Style>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGridControl">
								<Name>ThresholdTiersGrid</Name>
								<ElementPosition>1610612733</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Grid</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>RetailDiscountThresholdTiers_AmountThreshold</Name>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<AllowNegative>No</AllowNegative>
										<DataField>AmountThreshold</DataField>
										<DataSource>RetailDiscountThresholdTiers</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>RetailDiscountThresholdTiers_DiscountMethod</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ComboBox</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>DiscountMethod</DataField>
										<DataSource>RetailDiscountThresholdTiers</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>RetailDiscountThresholdTiers_DiscountValue</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<AllowNegative>No</AllowNegative>
										<DataField>DiscountValue</DataField>
										<DataSource>RetailDiscountThresholdTiers</DataSource>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
								</Controls>
								<DataSource>RetailDiscountThresholdTiers</DataSource>
								<Style>Tabular</Style>
							</AxFormControl>
						</Controls>
						<Caption>@REX1163</Caption>
						<DataSource>RetailDiscountThresholdTiers</DataSource>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>ValidationPeriodTabPage</Name>
						<ElementPosition>1610612730</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormRadioButtonControl">
								<Name>RBODiscountOfferTable_DateValidationType</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>RadioButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<BackgroundColor>DynBackgroundWhite</BackgroundColor>
								<DataField>DateValidationType</DataField>
								<DataSource>RetailPeriodicDiscount</DataSource>
								<FrameType>None</FrameType>
								<Items />
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>DiscountDates</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>DiscountDates_M_StartingDate</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ValidFrom</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<Label>@RET260626</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>DiscountDates_M_EndingDate</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ValidTo</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<Label>@RET4369</Label>
									</AxFormControl>
								</Controls>
								<DataSource>RetailPeriodicDiscount</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>ValidationPeriod</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1610612734</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ValidationPeriod_ValidationPeriodId</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>ValidationPeriodId</DataField>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>ValidationPeriod_M_discountValidationPeriodName</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>discountValidationPeriodName</DataMethod>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>ValidationPeriod_M_discountValidationPeriodStartDate</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>discountValidationPeriodStartDate</DataMethod>
										<DataSource>RetailPeriodicDiscount</DataSource>
										<Label>@RET129</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>ValidationPeriod_M_discountValidationPeriodEndingDate</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<FilterExpression>%1</FilterExpression>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>discountValidationPeriodEndingDate</DataMethod>
										<DataSource>RetailPeriodicDiscount</DataSource>
									</AxFormControl>
								</Controls>
								<DataGroup>ValidationPeriod</DataGroup>
								<DataSource>RetailPeriodicDiscount</DataSource>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@RET3074</Caption>
						<DataSource>RetailPeriodicDiscount</DataSource>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>DiscountOfferLinesTabPage</Name>
						<ElementPosition>1879048188</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>ToolbarList</Pattern>
						<PatternVersion>1.2</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Width>0</Width>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormActionPaneControl">
								<Name>DiscountLinesActionPane</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>ActionPane</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneTabControl">
										<Name>DiscountLinesActionPaneTab</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPaneTab</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormButtonGroupControl">
												<Name>BasicButtonGroup</Name>
												<ElementPosition>572662304</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Left>0</Left>
												<Type>ButtonGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>AddButton</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1073741822</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>New</Command>
														<MultiSelect>Yes</MultiSelect>
														<NormalImage>New</NormalImage>
														<Text>@SYS124603</Text>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormMenuFunctionButtonControl">
														<Name>AddProducts</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1342177277</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>MenuFunctionButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataSource>RetailPeriodicDiscount</DataSource>
														<MenuItemName>RetailAddProductsVariants</MenuItemName>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>RemoveButton</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1610612733</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>DeleteRecord</Command>
														<MultiSelect>Yes</MultiSelect>
														<NeedsRecord>Yes</NeedsRecord>
														<NormalImage>Delete</NormalImage>
														<SaveRecord>No</SaveRecord>
														<ShowShortCut>No</ShowShortCut>
														<Text>@SYS309739</Text>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailPeriodicDiscountLine</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormButtonGroupControl">
												<Name>AllDiscountsLineButtonGroup</Name>
												<ElementPosition>858993456</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Left>0</Left>
												<Type>ButtonGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>Attachements</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1033973606</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextOnly</ButtonDisplay>
														<Command>DocumentHandling</Command>
														<NeedsRecord>Yes</NeedsRecord>
														<Text>@RET260921</Text>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormButtonControl">
														<Name>ExplodeItem</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1550960411</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>Button</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextOnly</ButtonDisplay>
														<Text>@RET490337</Text>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<DataSource>RetailPeriodicDiscountLine</DataSource>
									</AxFormControl>
								</Controls>
								<AlignChild>No</AlignChild>
								<AlignChildren>No</AlignChildren>
								<ArrangeMethod>Vertical</ArrangeMethod>
								<DataSource>RetailPeriodicDiscountLine</DataSource>
								<Style>Strip</Style>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGridControl">
								<Name>DiscountLineGrid</Name>
								<ElementPosition>1610612734</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Grid</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>RetailGroupMemberLineGroup</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>613566756</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailGroupMemberLine_Category</Name>
												<ElementPosition>858993458</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailGroupMemberLine_Category_Name</Name>
														<DataRelationPath>EcoResCategory</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailGroupMemberLine</DataSource>
												<ReferenceField>Category</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailGroupMemberLine_Product</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1288490187</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailGroupMemberLine_Product_DisplayProductNumber</Name>
														<DataRelationPath>EcoResProduct</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailGroupMemberLine</DataSource>
												<ReferenceField>Product</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>RetailGroupMemberLine_ItemId</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataMethod>editItemIdByRetailGroupMemberLine</DataMethod>
												<DataSource>RetailGroupMemberLine</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailGroupMemberLine_Variant</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1717986916</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailGroupMemberLine_Variant_DisplayProductNumber</Name>
														<DataRelationPath>EcoResDistinctProductVariant</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailGroupMemberLine</DataSource>
												<ReferenceField>Variant</ReferenceField>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailGroupMemberLine</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>InventoryDimension</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1499624996</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_configId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<HelpText>@FieldDescriptions_AccountsReceivable:PriceDiscAdm_InventoryDimension_configId</HelpText>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>configId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventSizeId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventSizeId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventColorId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventColorId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventStyleId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventStyleId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventVersionId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventVersionId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension1</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension1</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension2</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension2</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension3</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension3</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension4</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension4</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension5</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension5</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension6</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension6</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension7</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension7</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension8</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension8</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormDateTimeControl">
												<Name>InventoryDimension_InventDimension9</Name>
												<Type>DateTime</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension9</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>InventoryDimension_InventDimension10</Name>
												<Type>Real</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension10</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension11</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension11</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventDimension12</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension12</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventSiteId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventSiteId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventLocationId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventLocationId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_wMSLocationId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>wMSLocationId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventStatusId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventStatusId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_LicensePlateId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>LicensePlateId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_inventBatchId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>inventBatchId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_inventSerialId</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>inventSerialId</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventOwnerId_RU</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventOwnerId_RU</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventProfileId_RU</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventProfileId_RU</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>InventoryDimension_InventGtdId_RU</Name>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventGtdId_RU</DataField>
												<DataSource>InventDim</DataSource>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataGroup>InventoryDimensions</DataGroup>
										<DataSource>InventDim</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>StandardLineGroup</Name>
										<ElementPosition>920350134</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>RetailPeriodicDiscountLine_Name</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>Name</DataField>
												<DataSource>RetailPeriodicDiscountLine</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailPeriodicDiscountLine_UnitOfMeasure</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1610612734</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailPeriodicDiscountLine_UnitOfMeasure_Symbol</Name>
														<DataRelationPath>UnitOfMeasure</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailPeriodicDiscountLine</DataSource>
												<ReferenceField>UnitOfMeasure</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>RetailPeriodicDiscountLine_LineType</Name>
												<Type>ComboBox</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>LineType</DataField>
												<DataSource>RetailPeriodicDiscountLine</DataSource>
												<Items />
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailPeriodicDiscountLine</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>OfferLineGroup</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1227133512</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_discountMethod</Name>
												<ElementPosition>536870910</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ComboBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>discountMethod</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
												<Items />
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_discPct</Name>
												<ElementPosition>805306365</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>discPct</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_discAmount</Name>
												<ElementPosition>1133394144</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>discAmount</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_offerPrice</Name>
												<ElementPosition>1461481923</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>offerPrice</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormIntegerControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_QuantityLimit</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<Type>Integer</Type>
												<FormControlExtension
													i:nil="true" />
												<DataMethod>discountLineOfferQuantityLimit</DataMethod>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
												<ViewEditMode>View</ViewEditMode>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_discountMethodN1</Name>
												<Type>ComboBox</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>discountMethodN1</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
												<Items />
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_offerPriceN1</Name>
												<Type>Real</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>offerPriceN1</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineOffer_offerPriceInclTaxN1</Name>
												<Type>Real</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>offerPriceInclTaxN1</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineOffer</DataSource>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailPeriodicDiscountLine</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>MixAndMatchLineGroup</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1533916890</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormIntegerControl">
												<Name>RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch_numberOfItemsNeeded</Name>
												<ElementPosition>715827882</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<HelpText>@FieldDescriptions_RetailMain:RetailPeriodicDiscount_RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch_numberOfItemsNeeded</HelpText>
												<Type>Integer</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<AllowNegative>No</AllowNegative>
												<DataField>numberOfItemsNeeded</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch</DataSource>
												<ViewEditMode>View</ViewEditMode>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>MixAndMatchDiscountLine_DiscountPercentOrValue</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741823</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<AllowNegative>No</AllowNegative>
												<DataField>DiscountPercentOrValue</DataField>
												<DataSource>RetailPeriodicDiscountLine</DataSource>
												<Label>@RET3399</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>MixAndMatchDiscountLine_discountType</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ComboBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>discountType</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch</DataSource>
												<Items />
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>RetailDiscountLineMixAndMatch_LineGroup</Name>
												<ElementPosition>1789569705</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>lineGroup</DataField>
												<DataSource>RetailPeriodicDiscountLine_RetailDiscountLineMixAndMatch</DataSource>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailPeriodicDiscountLine</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>MultibuyLineGroup</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1840700268</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls />
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailPeriodicDiscountLine</DataSource>
									</AxFormControl>
								</Controls>
								<DataSource>RetailPeriodicDiscountLine</DataSource>
								<Style>Tabular</Style>
							</AxFormControl>
						</Controls>
						<Caption>@RET817</Caption>
						<DataSource>RetailPeriodicDiscountLine</DataSource>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>LineDetailsTabPage</Name>
						<ElementPosition>2013265917</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>FieldsFieldGroups</Pattern>
						<PatternVersion>1.1</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>LineDetailsGroup</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>RetailPeriodicDiscountLine_Description</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>RetailPeriodicDiscountLine</DataSource>
									</AxFormControl>
								</Controls>
								<FrameType>None</FrameType>
							</AxFormControl>
						</Controls>
						<ColumnsMode>Fill</ColumnsMode>
						<Caption>@SYS23823</Caption>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>DiscountApplyingLinesTabPage</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>1879048188</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Pattern>ToolbarList</Pattern>
						<PatternVersion>1.2</PatternVersion>
						<Type>TabPage</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<Width>0</Width>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormActionPaneControl">
								<Name>DiscountApplyingLinesActionPane</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>ActionPane</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneTabControl">
										<Name>DiscountLinesActionPaneTabThresholdApplying</Name>
										<ElementPosition>1431655764</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPaneTab</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormButtonGroupControl">
												<Name>BasicButtonGroupThresholdApplying</Name>
												<ElementPosition>572662304</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Left>0</Left>
												<Type>ButtonGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>AddButtonThresholdApplying</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1073741822</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>New</Command>
														<MultiSelect>Yes</MultiSelect>
														<NormalImage>New</NormalImage>
														<Text>@SYS124603</Text>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormMenuFunctionButtonControl">
														<Name>AddProductsThresholdApplying</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1342177277</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>MenuFunctionButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<DataSource>RetailDiscountThresholdTiers</DataSource>
														<MenuItemName>RetailAddProductsVariants</MenuItemName>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>RemoveButtonThresholdApplying</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1610612733</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
														<Command>DeleteRecord</Command>
														<MultiSelect>Yes</MultiSelect>
														<NeedsRecord>Yes</NeedsRecord>
														<NormalImage>Delete</NormalImage>
														<SaveRecord>No</SaveRecord>
														<ShowShortCut>No</ShowShortCut>
														<Text>@SYS309739</Text>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormButtonGroupControl">
												<Name>AllDiscountsLineButtonGroupThresholdApplying</Name>
												<ElementPosition>858993456</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Left>0</Left>
												<Type>ButtonGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormCommandButtonControl">
														<Name>AttachementsThresholdApplying</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1033973606</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>CommandButton</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextOnly</ButtonDisplay>
														<Command>DocumentHandling</Command>
														<NeedsRecord>Yes</NeedsRecord>
														<Text>@RET260921</Text>
													</AxFormControl>
													<AxFormControl xmlns=""
														i:type="AxFormButtonControl">
														<Name>ExplodeItemThresholdApplying</Name>
														<AutoDeclaration>Yes</AutoDeclaration>
														<ElementPosition>1550960411</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>Button</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<ButtonDisplay>TextOnly</ButtonDisplay>
														<Text>@RET490337</Text>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<DataSource>RetailDiscountLineThresholdApplying</DataSource>
									</AxFormControl>
								</Controls>
								<AlignChild>No</AlignChild>
								<AlignChildren>No</AlignChildren>
								<ArrangeMethod>Vertical</ArrangeMethod>
								<DataSource>RetailDiscountLineThresholdApplying</DataSource>
								<Style>Strip</Style>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGridControl">
								<Name>ThresholdApplyingLinesGrid</Name>
								<ElementPosition>1610612734</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Grid</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>ThresholdApplyingLines_RetailGroupMemberLineGroup</Name>
										<ElementPosition>613566756</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailGroupMemberLine_Category_ThresholdApplying</Name>
												<ElementPosition>858993458</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailGroupMemberLine_Category_NameCopy1</Name>
														<DataRelationPath>EcoResCategory</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailGroupMemberLineThresholdApplying</DataSource>
												<ReferenceField>Category</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailGroupMemberLine_Product_ThresholdApplying</Name>
												<ElementPosition>1288490187</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailGroupMemberLine_Product_DisplayProductNumberCopy1</Name>
														<DataRelationPath>EcoResProduct</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailGroupMemberLineThresholdApplying</DataSource>
												<ReferenceField>Product</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailGroupMemberLine_Variant_ThresholdApplying</Name>
												<ElementPosition>1717986916</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailGroupMemberLine_Variant_DisplayProductNumberCopy1</Name>
														<DataRelationPath>EcoResDistinctProductVariant</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailGroupMemberLineThresholdApplying</DataSource>
												<ReferenceField>Variant</ReferenceField>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailGroupMemberLineThresholdApplying</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>ThresholdApplyingLines_InventoryDimension</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1499624996</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_configId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>configId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventSizeId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventSizeId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventColorId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventColorId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventStyleId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventStyleId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventVersionId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventVersionId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension1</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension1</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension2</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension2</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension3</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension3</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension4</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension4</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension5</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension5</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension6</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension6</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension7</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension7</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension8</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension8</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormDateTimeControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension9</Name>
												<Type>DateTime</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension9</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension10</Name>
												<Type>Real</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension10</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension11</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension11</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventDimension12</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventDimension12</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventSiteId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventSiteId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventLocationId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventLocationId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_wMSLocationId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>wMSLocationId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventStatusId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventStatusId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_LicensePlateId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>LicensePlateId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_inventBatchId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>inventBatchId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_inventSerialId</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>inventSerialId</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventOwnerId_RU</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventOwnerId_RU</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventProfileId_RU</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventProfileId_RU</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>ThresholdApplyingLines_InventoryDimension_InventGtdId_RU</Name>
												<Type>String</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>InventGtdId_RU</DataField>
												<DataSource>InventDimThresholdApplying</DataSource>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataGroup>InventoryDimensions</DataGroup>
										<DataSource>InventDimThresholdApplying</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>ThresholdApplyingLines_StandardLineGroup</Name>
										<ElementPosition>920350134</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>RetailPeriodicDiscountLine_Name_ThresholdApplying</Name>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>Name</DataField>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>RetailPeriodicDiscountLine_UnitOfMeasure_ThresholdApplying</Name>
												<ElementPosition>1610612734</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormStringControl">
														<Name>RetailPeriodicDiscountLine_UnitOfMeasure_SymbolCopy1</Name>
														<DataRelationPath>UnitOfMeasure</DataRelationPath>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>String</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
													</AxFormControl>
												</Controls>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
												<ReferenceField>UnitOfMeasure</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>RetailPeriodicDiscountLine_LineType_ThresholdApplying</Name>
												<Type>ComboBox</Type>
												<FormControlExtension
													i:nil="true" />
												<DataField>LineType</DataField>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
												<Items />
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailDiscountLineThresholdApplying</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>ThresholdDiscountLineGroup</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1533916890</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>RetailDiscountLineThresholdApplying_DiscountType</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ComboBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>ThresholdLineDiscountMethod</DataField>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
												<Items />
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailDiscountLineThresholdApplying_DiscountPercentOrValue</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741823</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<AllowNegative>No</AllowNegative>
												<DataField>DiscountPercentOrValue</DataField>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
												<Label>@RET3399</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>RetailDiscountLineThresholdApplying_QuantityLimit</Name>
												<Type>Real</Type>
												<FormControlExtension
													i:nil="true" />
												<AllowNegative>No</AllowNegative>
												<DataField>QuantityLimit</DataField>
												<DataSource>RetailDiscountLineThresholdApplying</DataSource>
											</AxFormControl>
										</Controls>
										<BackgroundColor>WindowBackground</BackgroundColor>
										<DataSource>RetailDiscountLineThresholdApplying</DataSource>
									</AxFormControl>
								</Controls>
								<DataSource>RetailDiscountLineThresholdApplying</DataSource>
								<Style>Tabular</Style>
							</AxFormControl>
						</Controls>
						<Caption>@RetailDiscount:DiscountApplyingLinesSettingTab</Caption>
						<DataSource>RetailDiscountLineThresholdApplying</DataSource>
						<Scrollbars>Auto</Scrollbars>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<Style>FastTabs</Style>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>