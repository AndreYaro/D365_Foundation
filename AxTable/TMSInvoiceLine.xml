<?xml version="1.0" encoding="utf-8"?>
<AxTable xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>TMSInvoiceLine</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class TMSInvoiceLine extends common
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>amountApproved</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the approved amount in the invoice line.
    /// </summary>
    /// <returns>
    /// The approved amount in the invoice line.
    /// </returns>
    display Amount amountApproved()
    {
        TMSFBInvMatch           invMatch;
        TMSInvoiceLineReconcile lineReconcile;

        select sum(RateCur) from invMatch
            where invMatch.InvoiceLineRecId      == this.RecId   &&
                  invMatch.WorkflowStatus        == TMSWorkflowStatus::Approved;

        select sum(Amount) from lineReconcile
            where lineReconcile.InvoiceLineRecId     == this.RecId   &&
                  lineReconcile.WorkflowStatus       == TMSWorkflowStatus::Approved;

        return lineReconcile.Amount + invMatch.RateCur;
    }

]]></Source>
			</Method>
			<Method>
				<Name>amountMatched</Name>
				<Source><![CDATA[
    /// <summary>
    /// Calculates the amount matched in the invoice line.
    /// </summary>
    /// <returns>
    /// The amount matched in the invoice line.
    /// </returns>
    Amount amountMatched()
    {
        return (select sum(RateCur)
                    from tmsfbInvMatch
                    where tmsfbInvMatch.InvoiceLineRecId == this.RecId).RateCur;
    }

]]></Source>
			</Method>
			<Method>
				<Name>amountReadyToSubmit</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the amount in the invoice line ready to submit
    /// </summary>
    /// <returns>
    /// Ready to submit amount in the invoice line.
    /// </returns>
    display Amount amountReadyToSubmit()
    {
        TMSFBInvMatch           invMatch;
        TMSInvoiceLineReconcile lineReconcile;

        select sum(RateCur) from invMatch
            where invMatch.InvoiceLineRecId     == this.RecId   &&
                  invMatch.WorkflowStatus       < TMSWorkflowStatus::Submitted;

        select sum(Amount) from lineReconcile
            where lineReconcile.InvoiceLineRecId    == this.RecId   &&
                  lineReconcile.WorkflowStatus      < TMSWorkflowStatus::Submitted;

        return lineReconcile.Amount + invMatch.RateCur;
    }

]]></Source>
			</Method>
			<Method>
				<Name>amountReconciled</Name>
				<Source><![CDATA[
    /// <summary>
    /// Calculates the amount reconciled in the invoice line.
    /// </summary>
    /// <returns>
    /// The reconciled amount in the invoice line.
    /// </returns>
    Amount amountReconciled()
    {
        return (select sum(Amount) from tmsInvoiceLineReconcile
                    where tmsInvoiceLineReconcile.InvoiceLineRecId   == this.RecId).Amount;
    }

]]></Source>
			</Method>
			<Method>
				<Name>amountReconciledPaid</Name>
				<Source><![CDATA[
    /// <summary>
    /// Calculates the paid amount of reconciled invoice line to the vendor.
    /// </summary>
    /// <returns>
    /// The paid amount to the vendor from the reconciled invoice line.
    /// </returns>
    Amount amountReconciledPaid()
    {
        TMSInvoiceLineReconcile invRec;
        TMSFreightMatchReason   matchReason;

        select sum(Amount) from invRec
            join FreightReasonCode, PayAmount from matchReason
            where invRec.InvoiceLineRecId        == this.RecId                &&
                  matchReason.FreightReasonCode  == invRec.FreightReasonCode  &&
                  matchReason.PayAmount          == true;

        return invRec.Amount;
    }

]]></Source>
			</Method>
			<Method>
				<Name>amountRemaining</Name>
				<Source><![CDATA[
    /// <summary>
    /// Calculates the remaining amount to be matched and reconciled.
    /// </summary>
    /// <returns>
    /// The remaining amount to be matched and reconciled.
    /// </returns>
    Amount amountRemaining()
    {
        Amount  ret;
        Amount  amtRemain;

        if (this.NetAmount < 0)
        {
            amtRemain = this.NetAmount + abs((this.amountMatched() + this.amountReconciled()));
            ret = amtRemain <= 0 ? amtRemain : 0;
        }

        else
        {
            amtRemain = this.NetAmount - (this.amountMatched() + this.amountReconciled());
            ret = amtRemain >= 0 ? amtRemain : 0;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>amountSubmitted</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the submitted amount in the invoice line.
    /// </summary>
    /// <returns>
    /// The submitted amount in the invoice line.
    /// </returns>
    display Amount amountSubmitted()
    {
        TMSFBInvMatch           invMatch;
        TMSInvoiceLineReconcile lineReconcile;

        select sum(RateCur) from invMatch
            where invMatch.InvoiceLineRecId      == this.RecId   &&
                  invMatch.WorkflowStatus        == TMSWorkflowStatus::Submitted;

        select sum(Amount) from lineReconcile
            where lineReconcile.InvoiceLineRecId     == this.RecId   &&
                  lineReconcile.WorkflowStatus       == TMSWorkflowStatus::Submitted;

        return lineReconcile.Amount + invMatch.RateCur;
    }

]]></Source>
			</Method>
			<Method>
				<Name>checkMatchedPrice</Name>
				<Source><![CDATA[
    /// <summary>
    /// Checks if the matched amount is less than the net amount.
    /// </summary>
    /// <returns>
    /// True if the matched amount is less than the net amount.
    /// </returns>
    boolean checkMatchedPrice()
    {
        return this.amountMatched() < this.NetAmount;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayAmountMatched</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the matched amount in the invoice line.
    /// </summary>
    /// <returns>
    /// The matched amount in the invoice line.
    /// </returns>
    display Amount displayAmountMatched()
    {
        return this.amountMatched();
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayAmountRemaining</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the remaining amount in the invoice line.
    /// </summary>
    /// <returns>
    /// The remaining amount in the invoice line.
    /// </returns>
    display Amount displayAmountRemaining()
    {
        return this.amountRemaining();
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayCashDiscdate</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the datetime used to calculate the cash discount.
    /// </summary>
    /// <returns>
    /// The datetime used to calculate the cash discount.
    /// </returns>
    display CashDiscUTCDateTime displayCashDiscdate()
    {
        return this.tmsInvoiceTable().CashDiscUTCDateTime;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayDueDate</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display due date from the invoice header.
    /// </summary>
    /// <returns>
    /// The due date of the invoice.
    /// </returns>
    display DueUTCDateTime displayDueDate()
    {
        return this.tmsInvoiceTable().DueUTCDateTime;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayWorkflowStatus</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the workflow status.
    /// </summary>
    /// <param name="_invoiceLine">
    /// Invoice line to be used to search workflow status.
    /// </param>
    /// <returns>
    /// A symbol for the workflow status.
    /// </returns>
    display String30 displayWorkflowStatus(TMSInvoiceLine _invoiceLine)
    {
        TMSWorkflowStatus ret = TMSWorkflowStatus::None;

        for (TMSWorkflowStatus i = TMSWorkflowStatus::None; i <= TMSWorkflowStatus::Approved; i++)
        {
            if (this.findWorkflowStatus(i))
            {
                if (i == TMSWorkflowStatus::Approved && this.amountRemaining())
                {
                    continue;
                }
                ret = i;
                break;
            }
        }

        return enum2Symbol(enumNum(TMSWorkflowStatus), ret);
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayInternalInvNum</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display internal invoice number of the invoice line.
    /// </summary>
    /// <returns>
    /// The internal invoice number of the invoice line.
    /// </returns>
    display TMSInternalInvNumber displayInternalInvNum()
    {
        return this.InternalInvNumber;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayInvoiceStatus</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display invoice status of the invoice line.
    /// </summary>
    /// <returns>
    /// The invoice status of the invoice line.
    /// </returns>
    display TMSInvoiceStatus displayInvoiceStatus()
    {
        return this.tmsInvoiceTable().InvoiceStatus;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayTotalNotReconciled</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the not reconciled amount in the invoice line.
    /// </summary>
    /// <returns>
    /// The not reconciled amount in the invoice line.
    /// </returns>
    display Amount displayTotalNotReconciled()
    {
        Amount  ret;
        Amount  amtRemain;

        if (this.NetAmount < 0)
        {
            amtRemain = this.NetAmount + abs((this.amountMatched() + this.amountReconciled()));
            ret = amtRemain <= 0 ? amtRemain : 0;
        }

        else
        {
            amtRemain = this.NetAmount - (this.amountMatched() + this.amountReconciled());
            ret = amtRemain >= 0 ? amtRemain : 0;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayTotalReconciled</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the total reconciled amount in the invoice line.
    /// </summary>
    /// <returns>
    /// The total reconciled amount in the invoice line.
    /// </returns>
    display Amount displayTotalReconciled()
    {
        return this.amountReconciled();
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayVendAccount</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display vendor account of the invoice.
    /// </summary>
    /// <returns>
    /// The vendor account of the invoice.
    /// </returns>
    display VendAccount displayVendAccount()
    {
        return this.tmsInvoiceTable().VendAccount;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayVendInvoiceAccount</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display the vendor invoice account.
    /// </summary>
    /// <returns>
    /// The vendor invoice account from invoice header.
    /// </returns>
    display VendInvoiceAccount displayVendInvoiceAccount()
    {
        return this.tmsInvoiceTable().VendInvoiceAccount;
    }

]]></Source>
			</Method>
			<Method>
				<Name>displayVendInvoiceId</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to display vendor invoice id.
    /// </summary>
    /// <returns>
    /// The vendor invoice id from the invoice header.
    /// </returns>
    display VendInvoiceId displayVendInvoiceId()
    {
        return this.tmsInvoiceTable().VendInvoiceId;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findWorkflowStatus</Name>
				<Source><![CDATA[
    boolean findWorkflowStatus(TMSWorkflowStatus _status)
    {
        TMSFBInvMatch invMatch;

        select firstonly RecId from invMatch
            where invMatch.InvoiceLineRecId  == this.RecId &&
                  invMatch.WorkflowStatus    == _status;

        if (invMatch.RecId != 0)
        {
            return true;
        }

        TMSInvoiceLineReconcile invReconcile;

        select firstonly RecId from invReconcile
            where invReconcile.InvoiceLineRecId  == this.RecId &&
                  invReconcile.WorkflowStatus   == _status;

        return invReconcile.RecId != 0;
    }

]]></Source>
			</Method>
			<Method>
				<Name>initFromInvoiceTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the record from an invoice header.
    /// </summary>
    void initFromInvoiceTable()
    {
        TMSInvoiceTable     invoiceTable;

        invoiceTable = TMSInvoiceTable::find(this.InternalInvNumber);
        this.initNonEditableFieldsFromInvoiceTable(invoiceTable);

        this.VendAccount            = invoiceTable.VendAccount;
        this.VendInvoiceAccount     = invoiceTable.VendInvoiceAccount;
        this.InvoiceDate            = invoiceTable.InvoiceDate;
        this.RouteCode              = invoiceTable.RouteCode;
        this.LoadId                 = invoiceTable.LoadId;
        this.ShipmentId             = invoiceTable.ShipmentId;
        this.ShipUTCDateTime        = invoiceTable.ShipUTCDateTime;
        this.BillOfLadingId         = invoiceTable.BillOfLadingId;
        this.DeliveryUTCDateTime    = invoiceTable.DeliveryUTCDateTime;
        this.DueUTCDateTime         = invoiceTable.DueUTCDateTime;
        this.BookingNum             = invoiceTable.BookingNum;
        this.CarrierCode            = invoiceTable.CarrierCode;
        this.CarrierServiceCode     = invoiceTable.CarrierServiceCode;
        this.Cosignee               = invoiceTable.Cosignee;
        this.VesselName             = invoiceTable.VesselName;
        this.VoyageNum              = invoiceTable.VoyageNum;
        this.TrailerNumber          = invoiceTable.TrailerNumber;
        this.RelatedAccountNum      = invoiceTable.RelatedAccountNum;
        this.RelatedOrderNum        = invoiceTable.RelatedOrderNum;
    }

]]></Source>
			</Method>
			<Method>
				<Name>initNonEditableFieldsFromInvoiceTable</Name>
				<Source><![CDATA[
    private void initNonEditableFieldsFromInvoiceTable(TMSInvoiceTable _invoiceTable)
    {
        this.CurrencyCode           = _invoiceTable.CurrencyCode;
        this.VendInvoiceId          = _invoiceTable.VendInvoiceId;
        this.CashDiscUTCDateTime    = _invoiceTable.CashDiscUTCDateTime;
        this.DueUTCDateTime         = _invoiceTable.DueUTCDateTime;
        this.InvoiceStatus          = _invoiceTable.InvoiceStatus;
    }

]]></Source>
			</Method>
			<Method>
				<Name>defaultEmptyFieldsFromInvoiceTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the record from an invoice header.
    /// </summary>
    /// <param name="_invoiceTable">
    /// Invoice header to initialize line from.
    /// </param>
    public void defaultEmptyFieldsFromInvoiceTable(TMSInvoiceTable _invoiceTable)
    {
        this.initNonEditableFieldsFromInvoiceTable(_invoiceTable);

        if (!this.VendAccount)
        {
            this.VendAccount = _invoiceTable.VendAccount;
        }
        if (!this.VendInvoiceAccount)
        {
            this.VendInvoiceAccount = _invoiceTable.VendInvoiceAccount;
        }
        if (!this.InvoiceDate)
        {
            this.InvoiceDate = _invoiceTable.InvoiceDate;
        }
        if (!this.RouteCode)
        {
            this.RouteCode = _invoiceTable.RouteCode;
        }
        if (!this.LoadId)
        {
            this.LoadId = _invoiceTable.LoadId;
        }
        if (!this.ShipmentId)
        {
            this.ShipmentId = _invoiceTable.ShipmentId;
        }
        if (!this.ShipUTCDateTime)
        {
            this.ShipUTCDateTime = _invoiceTable.ShipUTCDateTime;
        }
        if (!this.BillOfLadingId)
        {
            this.BillOfLadingId = _invoiceTable.BillOfLadingId;
        }
        if (!this.DeliveryUTCDateTime)
        {
            this.DeliveryUTCDateTime = _invoiceTable.DeliveryUTCDateTime;
        }
        if (!this.DueUTCDateTime)
        {
            this.DueUTCDateTime = _invoiceTable.DueUTCDateTime;
        }
        if (!this.BookingNum)
        {
            this.BookingNum = _invoiceTable.BookingNum;
        }
        if (!this.CarrierCode)
        {
            this.CarrierCode = _invoiceTable.CarrierCode;
        }
        if (!this.CarrierServiceCode)
        {
            this.CarrierServiceCode = _invoiceTable.CarrierServiceCode;
        }
        if (!this.Cosignee)
        {
            this.Cosignee = _invoiceTable.Cosignee;
        }
        if (!this.VesselName)
        {
            this.VesselName = _invoiceTable.VesselName;
        }
        if (!this.VoyageNum)
        {
            this.VoyageNum = _invoiceTable.VoyageNum;
        }
        if (!this.TrailerNumber)
        {
            this.TrailerNumber = _invoiceTable.TrailerNumber;
        }
        if (!this.RelatedAccountNum)
        {
            this.RelatedAccountNum = _invoiceTable.RelatedAccountNum;
        }
        if (!this.RelatedOrderNum)
        {
            this.RelatedOrderNum = _invoiceTable.RelatedOrderNum;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>initValue</Name>
				<Source><![CDATA[
    // WHS - If any fields on this table are changed, be sure to change any matching fields on TMSFreightBillDetail and TMSTmpFreightBillFilter
    public void initValue()
    {
        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>insert</Name>
				<Source><![CDATA[
    public void insert()
    {
        if (!this.LineNum)
        {
            this.setNextLine();
        }

        ttsbegin;

        super();

        if (!TMSSkipRecalculationOfInvoiceTableInvoiceAccountWhenLineIsModifiedContext::current())
        {
            this.updateTableInvoiceAmount(this, null);
        }

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>modifiedField</Name>
				<Source><![CDATA[
    public void modifiedField(FieldId _fieldId)
    {
        super(_fieldId);

        switch (_fieldId)
        {
            case fieldNum(TMSInvoiceLine, NetAmount):
                if (!this.checkMatchedPrice())
                {
                    throw error("@TRX1194");
                }
                break;

            case fieldNum(TMSInvoiceLine, Qty), fieldNum(TMSInvoiceLine, UnitPrice):
                this.NetAmount = this.Qty * this.UnitPrice;
                break;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>modifiedFieldValue</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method to be executed when a field value is modified.
    /// </summary>
    /// <param name="_fieldName">
    /// Name of the modified field.
    /// </param>
    /// <param name="_arrayIndex">
    /// Array index of the modified field.
    /// </param>
    public void modifiedFieldValue(FieldName _fieldName, int _arrayIndex = 1)
    {
        super(_fieldName, _arrayIndex);

        switch (_fieldName)
        {
            case fieldStr(TMSInvoiceLine, InventLocationId):
                this.InventStorageDimMap::modifiedField(fieldNum(InventStorageDimMap, InventLocationId));
                break;
            case fieldStr(TMSInvoiceLine, InventSiteId):
                this.InventStorageDimMap::modifiedField(fieldNum(InventStorageDimMap, InventSiteId));
                break;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>setNextLine</Name>
				<Source><![CDATA[
    /// <summary>
    /// Sets line number as the next line number of the last invoice line.
    /// </summary>
    void setNextLine()
    {
        this.LineNum = (select firstonly LineNum from tmsInvoiceLine
                            order by LineNum desc
                            where tmsInvoiceLine.InternalInvNumber == this.InternalInvNumber).LineNum + 1;
    }

]]></Source>
			</Method>
			<Method>
				<Name>tmsInvoiceTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds the header invoice record.
    /// </summary>
    /// <returns>
    /// The header invoice record.
    /// </returns>
    TMSInvoiceTable tmsInvoiceTable()
    {
        return TMSInvoiceTable::find(this.InternalInvNumber);
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateVendInvoiceId</Name>
				<Source><![CDATA[
    /// <summary>
    /// Updates vendor invoice id.
    /// </summary>
    /// <param name="_vendInvoiceId">
    /// The new vendor invoice id.
    /// </param>
    void updateVendInvoiceId(VendInvoiceId _vendInvoiceId)
    {
        ttsbegin;

        this.VendInvoiceId = _vendInvoiceId;
        this.update();

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateField</Name>
				<Source><![CDATA[
    public boolean validateField(FieldId _fieldIdToCheck)
    {
        boolean ret;

        ret = super(_fieldIdToCheck);

        switch (_fieldIdToCheck)
        {
            case fieldNum(TMSInvoiceLine, InventLocationId):
                ret = this.InventStorageDimMap::validateField(fieldNum(InventStorageDimMap, InventLocationId));
                break;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateWrite</Name>
				<Source><![CDATA[
    public boolean validateWrite()
    {
        boolean ret;

        if (!this.LineNum)
        {
            this.setNextLine();
        }

        ret = super();

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>exist</Name>
				<Source><![CDATA[
    /// <summary>
    /// Checks if a specific <c>tmsInvoiceLine</c> record exists.
    /// </summary>
    /// <param name="_tmsInternalInvNumber">
    /// Internal invoice number of the record.
    /// </param>
    /// <param name="_lineNum">
    /// Line number of the record.
    /// </param>
    /// <returns>
    /// True if the record exists.
    /// </returns>
    public static boolean exist(TMSInternalInvNumber _tmsInternalInvNumber,
                                LineNum              _lineNum)
    {
        return (_tmsInternalInvNumber && _lineNum) &&
               (select firstonly tmsInvoiceLine
                    where tmsInvoiceLine.InternalInvNumber == _tmsInternalInvNumber &&
                      tmsInvoiceLine.LineNum ==              _lineNum).RecId != 0;
    }

]]></Source>
			</Method>
			<Method>
				<Name>find</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds a specific <c>TMSInvoiceLine</c> record with given parameters.
    /// </summary>
    /// <param name="_tmsInternalInvNumber">
    /// Internal invoice number of the record.
    /// </param>
    /// <param name="_lineNum">
    /// Line number of the record.
    /// </param>
    /// <param name="_forupdate">
    /// Determines whether the record is selected for update.
    /// </param>
    /// <returns>
    /// The record that is searched for.
    /// </returns>
    public static TMSInvoiceLine find(TMSInternalInvNumber _tmsInternalInvNumber,
                                      LineNum              _lineNum,
                                      boolean              _forupdate = false)
    {
        TMSInvoiceLine    tmsInvoiceLine;

        if (_tmsInternalInvNumber &&
            _lineNum)
        {
            tmsInvoiceLine.selectForUpdate(_forupdate);

            select firstonly tmsInvoiceLine
                where tmsInvoiceLine.InternalInvNumber == _tmsInternalInvNumber &&
                      tmsInvoiceLine.LineNum ==              _lineNum;
        }

        return tmsInvoiceLine;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findByRecId</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds a specific <c>TMSInvoiceLine</c> record by id.
    /// </summary>
    /// <param name="_recId">
    /// Id of the record.
    /// </param>
    /// <param name="_forupdate">
    /// Determines whether the record is selected for update.
    /// </param>
    /// <returns>
    /// The record that is searched for.
    /// </returns>
    public static TMSInvoiceLine findByRecId(RecId     _recId,
                                              boolean   _forupdate = false)
    {
        TMSInvoiceLine    tmsInvoiceLine;

        if (_recId)
        {
            tmsInvoiceLine.selectForUpdate(_forupdate);

            select firstonly tmsInvoiceLine
                where tmsInvoiceLine.RecId == _recId;
        }

        return tmsInvoiceLine;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findRelatedFreightBill</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds the first matched freight bill with the invoice line.
    /// </summary>
    /// <param name="_recId">
    /// Id of an invoice line record.
    /// </param>
    /// <returns>
    /// The first matched <c>TMSFreightBillDetail</c> record.
    /// </returns>
    public static TMSFreightBillDetail findRelatedFreightBill(RecId _recId)
    {
        TMSFBInvMatch               invMatch;
        TMSFreightBillDetail        fbDetail;

        select firstonly fbDetail
            join FreightBillDetailRecId, InvoiceLineRecId from invMatch
            where invMatch.FreightBillDetailRecId    == fbDetail.RecId &&
                  invMatch.InvoiceLineRecId          == _recId;

        return fbDetail;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findRelatedPurchLine</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Returns first PO line found related to the invoice line.
    /// </summary>
    /// <param name="_recId">
    ///     The invoice line record ID
    /// </param>
    /// <returns>
    ///     A record in the <c>PurchLine</c> table; otherwise, an empty record.
    /// </returns>
    public static PurchLine findRelatedPurchLine(RecId _recId)
    {
        TMSFBInvMatch               invMatch;
        TMSFreightBillMarkupTrans   fbMarkup;
        PurchLine                   purchLine;
        MarkupTrans                 markupTrans;

        select firstonly purchLine
            join FreightBillDetailRecId, InvoiceLineRecId from invMatch
            join fbMarkup
                where invMatch.InvoiceLineRecId          == _recId &&
                      invMatch.FreightBillDetailRecId    == fbMarkup.FreightBillDetailRecId
                join markupTrans
                    where markupTrans.RecId         == fbMarkup.MarkupTransRecId &&
                          markupTrans.TransRecId    == purchLine.RecId              &&
                          markupTrans.TransTableId  == purchLine.TableId;

        return purchLine;
    }

]]></Source>
			</Method>
			<Method>
				<Name>lookupCarrierServiceCode</Name>
				<Source><![CDATA[
    /// <summary>
    /// Performs form lookup for carrier service code using carrier code.
    /// </summary>
    /// <param name="_ctrl">
    /// Form control that lookup belongs to.
    /// </param>
    /// <param name="_carrierCode">
    /// Carrier code to be used to find carrier service codes.
    /// </param>
    static void lookupCarrierServiceCode(FormStringControl _ctrl, TMSCarrierCode _carrierCode)
    {
        SysTableLookup          sysTableLookup;
        Query                   query;
        QueryBuildDataSource    queryBuildDataSource;

        if (_carrierCode)
        {
            sysTableLookup          = SysTableLookup::newParameters(tableNum(TMSCarrierService), _ctrl);
            query                   = new Query();
            queryBuildDataSource    = query.addDataSource(tableNum(TMSCarrierService));

            sysTableLookup.addLookupfield(fieldNum(TMSCarrierService, CarrierServiceCode));
            sysTableLookup.addLookupfield(fieldNum(TMSCarrierService, Name));
            sysTableLookup.addLookupfield(fieldNum(TMSCarrierService, CarrierCode));
            queryBuildDataSource.addRange(fieldNum(TMSCarrierService, CarrierCode)).value(queryValue(_carrierCode));

            sysTableLookup.parmQuery(query);
            sysTableLookup.performFormLookup();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateDelete</Name>
				<Source><![CDATA[
    public boolean validateDelete()
    {
        return super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateTableInvoiceAmount</Name>
				<Source><![CDATA[
    private void updateTableInvoiceAmount(TMSInvoiceLine _invoiceLine, TMSInvoiceLine _origInvoiceLine)
    {
        TMSInvoiceAmount invoiceAmount = _invoiceLine.NetAmount - _origInvoiceLine.NetAmount;
        Weight           weight        = _invoiceLine.Weight    - _origInvoiceLine.Weight;
        Qty              qty           = _invoiceLine.Qty       - _origInvoiceLine.Qty;

        if (!invoiceAmount && !weight && !qty)
        {
            return;
        }

        TMSInvoiceTable invoiceTable = TMSInvoiceTable::find(this.InternalInvNumber, true);

        if (invoiceTable.RecId)
        {
            invoiceTable.InvoiceAmount += invoiceAmount;
            invoiceTable.Weight        += weight;
            invoiceTable.Qty           += qty;

            invoiceTable.update();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateTableInvoiceStatus</Name>
				<Source><![CDATA[
    /// <summary>
    /// Approves the invoice if all invoice lines are approved.
    /// </summary>
    private void updateTableInvoiceStatus()
    {
        if (this.InvoiceLineStatus == TMSInvoiceLineStatus::Approved)
        {
            return;
        }

        TMSInvoiceTable invoiceTable;
        TMSInvoiceLine  invoiceLine;
        TMSInvoiceLine  nonApprovedInvoiceLine;

        select firstonly forupdate invoiceTable
            where invoiceTable.InternalInvNumber == this.InternalInvNumber
                && invoiceTable.InvoiceStatus != TMSInvoiceStatus::Approved
            exists join invoiceLine
                where invoiceLine.InternalInvNumber == this.InternalInvNumber
            notexists join nonApprovedInvoiceLine
                where nonApprovedInvoiceLine.InternalInvNumber == this.InternalInvNumber
                    && nonApprovedInvoiceLine.InvoiceLineStatus != TMSInvoiceLineStatus::Approved;

        if (invoiceTable.RecId)
        {
            invoiceTable.InvoiceStatus = TMSInvoiceStatus::Approved;
            invoiceTable.update();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>update</Name>
				<Source><![CDATA[
    public void update()
    {
        TMSInvoiceLine thisOrig = this.orig();

        ttsbegin;

        super();

        if (!TMSSkipRecalculationOfInvoiceTableInvoiceAccountWhenLineIsModifiedContext::current())
        {
            this.updateTableInvoiceAmount(this, thisOrig);
        }

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>delete</Name>
				<Source><![CDATA[
    public void delete()
    {
        ttsbegin;

        super();

        if (!TMSSkipRecalculationOfInvoiceTableInvoiceAccountWhenLineIsModifiedContext::current())
        {
            this.updateTableInvoiceAmount(null, this);
        }

        this.updateTableInvoiceStatus();

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>shouldThrowExceptionOnZeroDelete</Name>
				<Source><![CDATA[
    /// <summary>
    /// Determines if concurrent deletes should throw exception.
    /// </summary>
    /// <returns>true if exception should be thrown; otherwise false.</returns>
    [Hookable(false)]
    public boolean shouldThrowExceptionOnZeroDelete()
    {
        return true;
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<ConfigurationKey>WHSandTMS</ConfigurationKey>
	<DeveloperDocumentation>@TRX1922</DeveloperDocumentation>
	<Label>@TRX1368</Label>
	<TableGroup>WorksheetLine</TableGroup>
	<TitleField1>InternalInvNumber</TitleField1>
	<TitleField2>LineNum</TitleField2>
	<AllowRowVersionChangeTracking>Yes</AllowRowVersionChangeTracking>
	<CacheLookup>NotInTTS</CacheLookup>
	<ClusteredIndex>RecId</ClusteredIndex>
	<CreatedBy>Yes</CreatedBy>
	<CreatedDateTime>Yes</CreatedDateTime>
	<ModifiedBy>Yes</ModifiedBy>
	<ModifiedDateTime>Yes</ModifiedDateTime>
	<Modules>Transportation</Modules>
	<PrimaryIndex>RecId</PrimaryIndex>
	<ReplacementKey>InternalInvNumberLineNumIdx</ReplacementKey>
	<TableContents>BaseData</TableContents>
	<DeleteActions />
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>CurrencyCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ProNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CarrierServiceCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Direction</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ModeCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InventSiteId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InventLocationId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>BillingGroupId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>FreightBillTypeId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AddressCountryRegionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Description</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InvoiceDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ItemId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Qty</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RefRecId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShipCarrierTrackingNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>BookingNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CarrierCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Cosignee</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension1</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension10</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension2</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension3</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension4</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension5</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension6</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension7</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension8</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension9</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ExternalCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>HeaderCharge</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InternalInvNumber</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InvoiceLineStatus</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InvoiceStatus</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>NetAmount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RouteCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>UnitPrice</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VesselName</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VoyageNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VendAccount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VendInvoiceAccount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VendInvoiceId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>BillOfLadingId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Desc2</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Distance</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LoadId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShipmentId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TrailerNumber</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>UOM</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Weight</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RelatedOrderNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RelatedAccountNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AutoMatchReady</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CountryRegionISOCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>DueUTCDateTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CashDiscUTCDateTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>DeliveryUTCDateTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShipUTCDateTime</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>InternalInvNumber</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>All</Name>
			<Label>@WAX2277</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>CurrencyCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ProNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CarrierServiceCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Direction</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ModeCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InventSiteId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InventLocationId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>BillingGroupId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>FreightBillTypeId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AddressCountryRegionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Description</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InvoiceDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ItemId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Qty</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RefRecId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShipCarrierTrackingNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>BookingNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CarrierCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Cosignee</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension1</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension10</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension2</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension3</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension4</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension5</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension6</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension7</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension8</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Dimension9</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ExternalCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>HeaderCharge</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InternalInvNumber</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InvoiceLineStatus</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>InvoiceStatus</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>NetAmount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RouteCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>UnitPrice</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VesselName</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VoyageNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VendAccount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VendInvoiceAccount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>VendInvoiceId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>BillOfLadingId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Desc2</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Distance</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LoadId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShipmentId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TrailerNumber</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>UOM</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Weight</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RelatedOrderNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RelatedAccountNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AutoMatchReady</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CountryRegionISOCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>DueUTCDateTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CashDiscUTCDateTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>DeliveryUTCDateTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShipUTCDateTime</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>AddressCountryRegionId</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>AddressCountryRegionId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>AutoMatchReady</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSAutoMatchReady</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>BillingGroupId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSBillingGroupId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>BillOfLadingId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSBillOfLadingId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>BookingNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSBookingNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>CarrierCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSCarrierCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>CarrierServiceCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSCarrierServiceCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldUtcDateTime">
			<Name>CashDiscUTCDateTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>CashDiscUTCDateTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Cosignee</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>TMSCosignee</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>CountryRegionISOCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSCountryRegionISOCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>CurrencyCode</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>CurrencyCode</ExtendedDataType>
			<Mandatory>Yes</Mandatory>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldUtcDateTime">
			<Name>DeliveryUTCDateTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSDeliveryUTCDateTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Desc2</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSDesc2</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Description</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>Description</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension1</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension10</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension2</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension3</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension4</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension5</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension6</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension7</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension8</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Dimension9</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSDimension</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>Direction</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>TMSDirection</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>Distance</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSDistance</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldUtcDateTime">
			<Name>DueUTCDateTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>DueUTCDateTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ExternalCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSExternalCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>FreightBillTypeId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSFreightBillTypeId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>HeaderCharge</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSHeaderCharge</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>InternalInvNumber</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSInternalInvNumber</ExtendedDataType>
			<Mandatory>Yes</Mandatory>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>InventLocationId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>InventLocationId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>InventSiteId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>InventSiteId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>InvoiceDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>InvoiceDate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>InvoiceLineStatus</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>TMSInvoiceLineStatus</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>InvoiceStatus</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>TMSInvoiceStatus</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ItemId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ItemId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>LineNum</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>LineNum</ExtendedDataType>
			<Mandatory>Yes</Mandatory>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>LineType</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>TMSLineType</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>LoadId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSLoadId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ModeCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSModeCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>NetAmount</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSNetAmount</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ProNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSProNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>Qty</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>Qty</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>RefRecId</Name>
			<AssetClassification>System Metadata</AssetClassification>
			<ExtendedDataType>RefRecId</ExtendedDataType>
			<Mandatory>Yes</Mandatory>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>RelatedAccountNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSRelatedAccountNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>RelatedOrderNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSRelatedOrderNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>RouteCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSRouteCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ShipCarrierTrackingNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ShipCarrierTrackingNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ShipmentId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSShipmentId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldUtcDateTime">
			<Name>ShipUTCDateTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSShipUTCDateTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>TrailerNumber</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSTrailerNumber</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>UnitPrice</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSUnitPrice</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>UOM</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WHSUOM</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>VendAccount</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>VendAccount</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>VendInvoiceAccount</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>VendInvoiceAccount</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>VendInvoiceId</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>VendInvoiceId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>VesselName</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSVesselName</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>VoyageNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>TMSVoyageNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>Weight</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>Weight</ExtendedDataType>
		</AxTableField>
	</Fields>
	<FullTextIndexes />
	<Indexes>
		<AxTableIndex>
			<Name>InternalInvNumberLineNumIdx</Name>
			<AlternateKey>Yes</AlternateKey>
			<Fields>
				<AxTableIndexField>
					<DataField>InternalInvNumber</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>LineNum</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>CurrencyIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>CurrencyCode</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>InventSiteIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>InventSiteId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>InventLocationIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>InventLocationId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>LoadIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>LoadId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
	</Indexes>
	<Mappings>
		<AxTableMapping>
			<MappingTable>InventStorageDimMap</MappingTable>
			<Connections>
				<AxTableMappingConnection>
					<MapField>InventSiteId</MapField>
					<MapFieldTo>InventSiteId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventLocationId</MapField>
					<MapFieldTo>InventLocationId</MapFieldTo>
				</AxTableMappingConnection>
			</Connections>
		</AxTableMapping>
	</Mappings>
	<Relations>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>Currency</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>Currency</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>CurrencyCode</Name>
					<SourceEDT>CurrencyCode</SourceEDT>
					<Field>CurrencyCode</Field>
					<RelatedField>CurrencyCode</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>CurrencyCodeIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>InventLocation</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>InventLocation</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>InventLocationId</Name>
					<SourceEDT>InventLocationId</SourceEDT>
					<Field>InventLocationId</Field>
					<RelatedField>InventLocationId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>InventLocationIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>InventSite</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>InventSite</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>InventSiteId</Name>
					<SourceEDT>InventSiteId</SourceEDT>
					<Field>InventSiteId</Field>
					<RelatedField>SiteId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>SiteIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>InventTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Cascade</OnDelete>
			<RelatedTable>InventTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ItemId</Name>
					<SourceEDT>ItemId</SourceEDT>
					<Field>ItemId</Field>
					<RelatedField>ItemId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>ItemIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>LogisticsAddressCountryRegion</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>LogisticsAddressCountryRegion</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AddressCountryRegionId</Name>
					<SourceEDT>AddressCountryRegionId</SourceEDT>
					<Field>AddressCountryRegionId</Field>
					<RelatedField>CountryRegionId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>CountryRegionIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>TMSBillingGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>TMSBillingGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>BillingGroupId</Name>
					<SourceEDT>TMSBillingGroupId</SourceEDT>
					<Field>BillingGroupId</Field>
					<RelatedField>BillingGroupId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>TMSCarrier</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>TMSCarrier</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>CarrierCode</Name>
					<SourceEDT>TMSCarrierCode</SourceEDT>
					<Field>CarrierCode</Field>
					<RelatedField>CarrierCode</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>TMSFreightBillType</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>TMSFreightBillType</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>FreightBillTypeId</Name>
					<SourceEDT>TMSFreightBillTypeId</SourceEDT>
					<Field>FreightBillTypeId</Field>
					<RelatedField>FreightBillTypeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>TMSInvoiceTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Cascade</OnDelete>
			<RelatedTable>TMSInvoiceTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>InternalInvNumber</Name>
					<SourceEDT>TMSInternalInvNumber</SourceEDT>
					<Field>InternalInvNumber</Field>
					<RelatedField>InternalInvNumber</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>TMSInvoiceTableRecId</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Cascade</OnDelete>
			<RelatedTable>TMSInvoiceTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>TMSInvoiceLineRecId</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefRecId</Name>
					<Field>RefRecId</Field>
					<RelatedField>RecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>RecId</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>TMSMode</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>TMSMode</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ModeCode</Name>
					<SourceEDT>TMSModeCode</SourceEDT>
					<Field>ModeCode</Field>
					<RelatedField>ModeCode</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>TMSRoute</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>TMSRoute</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RouteCode</Name>
					<SourceEDT>TMSRouteCode</SourceEDT>
					<Field>RouteCode</Field>
					<RelatedField>RouteCode</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>UnitOfMeasure</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>UnitOfMeasure</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>UOM</Name>
					<Field>UOM</Field>
					<RelatedField>Symbol</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>VendTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>VendTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>VendAccount</Name>
					<SourceEDT>VendAccount</SourceEDT>
					<Field>VendAccount</Field>
					<RelatedField>AccountNum</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>AccountIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>VendTableInvoice</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>VendTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>VendTableInvoice</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>VendInvoiceAccount</Name>
					<SourceEDT>VendInvoiceAccount</SourceEDT>
					<Field>VendInvoiceAccount</Field>
					<RelatedField>AccountNum</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>AccountIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>WHSLoadTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>WHSLoadTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>LoadId</Name>
					<SourceEDT>WHSLoadId</SourceEDT>
					<Field>LoadId</Field>
					<RelatedField>LoadId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>WHSShipmentTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>WHSShipmentTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ShipmentId</Name>
					<SourceEDT>WHSShipmentId</SourceEDT>
					<Field>ShipmentId</Field>
					<RelatedField>ShipmentId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
	</Relations>
	<StateMachines />
</AxTable>