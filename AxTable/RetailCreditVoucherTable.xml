<?xml version="1.0" encoding="utf-8"?>
<AxTable xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>RetailCreditVoucherTable</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class RetailCreditVoucherTable extends common
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>appliedStaffName</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the name of the applied staff from the <c>HCMWorker</c> table.
    /// </summary>
    /// <returns>
    /// The name of the applied staff from the <c>HCMWorker</c> table.
    /// </returns>
    display RetailCreditVoucherStaffName appliedStaffName()// GV.10.7.06
    {
        return HcmWorker::findByPersonnelNumber(this.appliedByStaffId).name();
    }

]]></Source>
			</Method>
			<Method>
				<Name>appliedStoreId</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the number of the applied store from the <c>RetailStoreTable</c> table.
    /// </summary>
    /// <returns>
    /// The name of the applied store from the <c>RetailStoreTable</c> table.
    /// </returns>
    display RetailStoreId appliedStoreId()
    {
        if (this.appliedInStoreId)
        {
            return RetailStoreTable::find(this.appliedInStoreId).StoreNumber;
        }

        return "";
    }

]]></Source>
			</Method>
			<Method>
				<Name>appliedStore</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the name of the applied store from the <c>RetailStoreTable</c> table.
    /// </summary>
    /// <returns>
    /// The name of the applied store from the <c>RetailStoreTable</c> table.
    /// </returns>
    display RetailStoreName appliedStore()
    {
        if (this.appliedInStoreId)
        {
            return RetailStoreTable::find(this.appliedInStoreId).Name();
        }

        return "";
    }

]]></Source>
			</Method>
			<Method>
				<Name>appliedTerminal</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the name of the created terminal from the <c>RetailTerminalTable</c> table.
    /// </summary>
    /// <returns>
    /// The name of the created terminal from the <c>RetailTerminalTable</c> table.
    /// </returns>
    display RetailCreditVoucherTerminalName appliedTerminal()
    {
        if (this.appliedbyterminalId)
        {
            return RetailTerminalTable::find(this.appliedbyterminalId).name;
        }

        return "";
    }

]]></Source>
			</Method>
			<Method>
				<Name>appliedTerminalId</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the Id of the created Terminal from the <c>RetailTerminalTable</c> table.
    /// </summary>
    /// <returns>
    /// The id of the created terminal from the <c>RetailTerminalTable</c> table.
    /// </returns>
    display RetailTerminalId appliedTerminalId()
    {
        if (this.appliedbyterminalId)
        {
            return RetailTerminalTable::find(this.appliedbyterminalId).terminalId;
        }

        return "";
    }

]]></Source>
			</Method>
			<Method>
				<Name>createdStaffName</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the name of the created staff from the <c>HcmWorker</c> table.
    /// </summary>
    /// <returns>
    /// The name of the created staff from the <c>HcmWorker</c> table.
    /// </returns>
    display RetailCreditVoucherStaffName createdStaffName()// GV.10.7.06
    {
        return HcmWorker::findByPersonnelNumber(this.createdByStaffId).name();
    }

]]></Source>
			</Method>
			<Method>
				<Name>createdStore</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the name of the created store from the <c>RetailStoreTable</c> table.
    /// </summary>
    /// <returns>
    /// The name of the created store from the <c>RetailStoreTable</c> table.
    /// </returns>
    display RetailStoreName createdStore()
    {
        return RetailStoreTable::find(this.createdInStoreId).Name();
    }

]]></Source>
			</Method>
			<Method>
				<Name>createdTerminal</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the name of the created terminal from the <c>RetailTerminalTable</c> table.
    /// </summary>
    /// <returns>
    /// The name of the created terminal from the <c>RetailTerminalTable</c> table.
    /// </returns>
    display RetailCreditVoucherTerminalName createdTerminal()
    {
        return RetailTerminalTable::find(this.createdByTerminalId).name;
    }

]]></Source>
			</Method>
			<Method>
				<Name>description</Name>
				<Source><![CDATA[
    /// <summary>
    /// Displays the description of the form.
    /// </summary>
    /// <returns>
    /// The description of the form.
    /// </returns>
    display Name description()
    {
        return "@RET4774";
    }

]]></Source>
			</Method>
			<Method>
				<Name>insert</Name>
				<Source><![CDATA[
    /// <summary>
    /// Inserts a record in <c>RetailCreditVoucherTable</c> table.
    /// </summary>
    /// <remarks>
    /// If replication of the record is allowed for the table, action is inserted into the <c>RetailConnPreactionTable</c> table.
    /// </remarks>
    public void insert()
    {
        this.setReplicationCounter();

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>renamePrimaryKey</Name>
				<Source><![CDATA[
    /// <summary>
    /// Throws the error while renaming the record if the distribution type is other than Ã¢â‚¬ËœNoDistributionÃ¢â‚¬â„¢.
    /// </summary>
    /// <remarks>
    /// The <c>errorOnRename</c> method of <c>RetailConnActionManagement</c> is called.
    /// </remarks>
    public void renamePrimaryKey()
    {
        ;
        RetailConnActionManagement::errorOnRename(this);

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>setReplicationCounter</Name>
				<Source><![CDATA[
    /// <summary>
    /// Sets the value for the <c>ReplicationCounter</c> field by selecting the maximum of the replication
    /// counter from the <c>RetailConnPreactionTable</c> table.
    /// </summary>
    void setReplicationCounter()
    {
        if (!this.replicationCounter)
        {
            this.replicationCounter = (select maxof(replicationCounter) from RetailCreditVoucherTable).replicationCounter + 1;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>update</Name>
				<Source><![CDATA[
    /// <summary>
    /// Updates a record in <c>RetailCreditVoucherTable</c> table.
    /// </summary>
    /// <remarks>
    /// If replication of the record is allowed for the table, action is updates into the <c>RetailConnPreactionTable</c> table.
    /// </remarks>
    public void update()
    {
        this.setReplicationCounter();

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>createRBOCreditVoucherTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Creates new record in the <c>RetailCreditVoucherTable</c> table.
    /// </summary>
    /// <param name="_entryId">
    /// The data entry ID of the new record.
    /// </param>
    /// <param name="_storeId">
    /// The store ID number of the new record.
    /// </param>
    /// <param name="_terminalId">
    /// The terminal ID number of the new record.
    /// </param>
    /// <param name="_staffId">
    /// The staff ID number of the new record.
    /// </param>
    /// <param name="_transactionId">
    /// The transaction ID number of the new record.
    /// </param>
    /// <param name="_receiptId">
    /// The receipt ID number of the new record.
    /// </param>
    /// <param name="_lineNum">
    /// The line number of the new record.
    /// </param>
    /// <param name="_currencyCode">
    /// The currency code of the new record.
    /// </param>
    /// <param name="_amountMST">
    /// The amount MST of the new record.
    /// </param>
    /// <param name="_transDate">
    /// The transaction date of the new record.
    /// </param>
    /// <param name="_transTime">
    /// The transaction time of the new record.
    /// </param>
    /// <returns>
    /// A container with a Boolean value and a message to indicate if the record is created successfully.
    /// </returns>
    public static container createRBOCreditVoucherTable(RetailCreditVoucherId   _entryId,
                                                        RetailStoreId           _storeId,
                                                        RetailTerminalId        _terminalId,
                                                        RetailStaffId           _staffId,
                                                        RetailTransactionId     _transactionId,
                                                        RetailReceiptId         _receiptId,
                                                        RetailLineNum           _lineNum,
                                                        CurrencyCode            _currencyCode,
                                                        AmountMST               _amountMST,
                                                        RetailtransDate         _transDate,
                                                        RetailTransTime         _transTime)
    {
        RetailCreditVoucherTable   tCreditVoucherTable;
        container               ret = [true,"",_entryId];

        ;
        if (RetailCreditVoucherTable::find(_entryId) || !_entryId)
        {
            ret = [false,"@RET2418",""];
        }
        else
        {
            select forUpdate tCreditVoucherTable;

            tCreditVoucherTable.clear();
            tCreditVoucherTable.entryId                  = _entryId;
            tCreditVoucherTable.createdInStoreId         = _storeId;
            tCreditVoucherTable.createdByTerminalId      = _terminalId;
            tCreditVoucherTable.createdByStaffId         = _staffId;
            tCreditVoucherTable.createdByTransactionId   = _transactionId;
            tCreditVoucherTable.createdByReceipId        = _receiptId;
            tCreditVoucherTable.createdByLineNum         = _lineNum;
            tCreditVoucherTable.currencyCode             = _currencyCode;
            tCreditVoucherTable.amount                   = _amountMST;
            tCreditVoucherTable.transDate                = _transDate;
            tCreditVoucherTable.transTime                = _transTime;

            tCreditVoucherTable.doInsert();
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>exist</Name>
				<Source><![CDATA[
    /// <summary>
    /// Indicates whether the specified record in the <c>RetailCreditVoucherTable</c> table exists.
    /// </summary>
    /// <param name="_dataEntryId">
    /// The data entry ID of the <c>RetailCreditVoucherTable</c> table to check for existence.
    /// </param>
    /// <returns>
    /// true if the specified record exists; otherwise, false.
    /// </returns>
    public static boolean exist(RetailCreditVoucherId _dataEntryId)
    {
        if (_dataEntryId)
        {
            return (select firstonly recId from RetailCreditVoucherTable
                        where RetailCreditVoucherTable.entryId == _dataEntryId
                       ).recId != 0;
        }

        return false;
    }

]]></Source>
			</Method>
			<Method>
				<Name>find</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds the specified record in the <c>RetailCreditVoucherTable</c> table.
    /// </summary>
    /// <param name="_dataEntryId">
    /// The data entry ID of the <c>RetailCreditVoucherTable</c> table to check for existence.
    /// </param>
    /// <param name="_forUpdate">
    /// A Boolean value that indicates whether to read the record for update; optional.
    /// </param>
    /// <returns>
    /// A record in the <c>RetailCreditVoucherTable</c> table; otherwise, an empty record.
    /// </returns>
    public static RetailCreditVoucherTable find(RetailCreditVoucherId   _dataEntryId,
                                                boolean                 _forUpdate = false)
    {
        RetailCreditVoucherTable tCreditVoucherTable;

        if (_dataEntryId)
        {
            tCreditVoucherTable.selectForUpdate(_forUpdate);

            select firstonly tCreditVoucherTable
                where tCreditVoucherTable.entryId == _dataEntryId;
        }

        return tCreditVoucherTable;
    }

]]></Source>
			</Method>
			<Method>
				<Name>reserveRBOCreditVoucherTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Reserves the credit voucher with store ID and terminal ID.
    /// </summary>
    /// <param name="_dataEntryId">
    /// The record in credit voucher with specified data entry ID.
    /// </param>
    /// <param name="_storeId">
    /// The credit voucher with specified store ID.
    /// </param>
    /// <param name="_terminalId">
    /// The credit voucher with specified terminal ID.
    /// </param>
    /// <returns>
    /// A Boolean value that indicates whether the credit voucher is reserved.
    /// </returns>
    public static boolean reserveRBOCreditVoucherTable( RetailCreditVoucherId   _dataEntryId,
                                                        RetailStoreId           _storeId,
                                                        RetailTerminalId        _terminalId)
    {
        RetailCreditVoucherTable   tCreditVoucherTable;
        boolean                 ret = true;
        ;

        tCreditVoucherTable = RetailCreditVoucherTable::find(_dataEntryId,true);

        if (tCreditVoucherTable)
        {
            tCreditVoucherTable.reserved             = NoYes::Yes;
            tCreditVoucherTable.reservedByStoreId    = _storeId;
            tCreditVoucherTable.reservedByTerminalId = _terminalId;

            tCreditVoucherTable.doUpdate();
        }
        else
        {
            ret = false;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateRBOCreditVoucherTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Updates a record in the <c>RetailCreditVoucherTable</c> table.
    /// </summary>
    /// <param name="_dataEntryId">
    /// The data entry ID of the record.
    /// </param>
    /// <param name="_storeId">
    /// The store ID of the record.
    /// </param>
    /// <param name="_terminalId">
    /// The terminal ID of the record.
    /// </param>
    /// <param name="_staffId">
    /// The staff ID to of the record.
    /// </param>
    /// <param name="_transactionId">
    /// The transaction ID of the record.
    /// </param>
    /// <param name="_receiptId">
    /// The receipt ID of the record.
    /// </param>
    /// <param name="_lineNum">
    /// The line number of the record.
    /// </param>
    /// <param name="_amountMST">
    /// The amount MST of the record.
    /// </param>
    /// <param name="_transDate">
    /// The transaction date of the record.
    /// </param>
    /// <param name="_transTime">
    /// The transaction time of the record.
    /// </param>
    /// <returns>
    /// A Boolean to indicate if the record is updated successfully.
    /// </returns>
    public static boolean updateRBOCreditVoucherTable(  RetailCreditVoucherId   _dataEntryId,
                                                        RetailStoreId           _storeId,
                                                        RetailTerminalId        _terminalId,
                                                        RetailStaffId           _staffId,
                                                        RetailTransactionId     _transactionId,
                                                        RetailReceiptId         _receiptId,
                                                        RetailLineNum           _lineNum,
                                                        AmountMST               _amountMST,
                                                        RetailtransDate         _transDate,
                                                        RetailTransTime         _transTime)
    {
        RetailCreditVoucherTable   tCreditVoucherTable;
        boolean                 ret = true;
        ;

        tCreditVoucherTable = RetailCreditVoucherTable::find(_dataEntryId,true);

        if (tCreditVoucherTable)
        {
            tCreditVoucherTable.appliedInStoreId         = _storeId;
            tCreditVoucherTable.appliedByTerminalId      = _terminalId;
            tCreditVoucherTable.appliedByStaffId         = _staffId;
            tCreditVoucherTable.appliedByTransactionId   = _transactionId;
            tCreditVoucherTable.appliedByReceiptId       = _receiptId;
            tCreditVoucherTable.appliedByLineNum         = _lineNum;
            tCreditVoucherTable.appliedAmount            = _amountMST;
            tCreditVoucherTable.appliedDate              = _transDate;
            tCreditVoucherTable.appliedTime              = _transTime;
            tCreditVoucherTable.applied                  = NoYes::Yes;

            tCreditVoucherTable.doUpdate();
        }
        else
        {
            ret = false;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>voidCreditVoucher</Name>
				<Source><![CDATA[
    /// <summary>
    /// Changes the status of the <c>RetailCreditVoucherTable</c> table.
    /// </summary>
    /// <param name="_dataEntryId">
    /// A data entry ID of a record.
    /// </param>
    /// <returns>
    /// A Boolean value to indicate if the credit voucher is voided.
    /// </returns>
    public static boolean voidCreditVoucher(RetailCreditVoucherId _dataEntryId)
    {
        RetailCreditVoucherTable   tCreditVoucherTable;
        boolean                 ret = true;
        ;

        tCreditVoucherTable = RetailCreditVoucherTable::find(_dataEntryId,true);

        if (tCreditVoucherTable)
        {
            if (!tCreditVoucherTable.voided)
            {
                tCreditVoucherTable.voided  = NoYes::Yes;

                tCreditVoucherTable.doUpdate();
            }
        }
        else
        {
            ret = false;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>voidPayementRBOCreditVoucherTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Voids the payment for the credit voucher.
    /// </summary>
    /// <param name="_dataEntryId">
    /// A data entry ID of a record.
    /// </param>
    /// <returns>
    /// A Boolean value that indicates if the credit voucher payment is voided.
    /// </returns>
    public static boolean voidPayementRBOCreditVoucherTable(RetailCreditVoucherId _dataEntryId)
    {
        RetailCreditVoucherTable   tCreditVoucherTable;
        boolean                 ret = true;
        ;

        tCreditVoucherTable = RetailCreditVoucherTable::find(_dataEntryId,true);

        if (tCreditVoucherTable)
        {
            tCreditVoucherTable.reserved             = NoYes::No;
            tCreditVoucherTable.reservedByStoreId    = "";
            tCreditVoucherTable.reservedByTerminalId = "";

            tCreditVoucherTable.doUpdate();
        }
        else
        {
            ret = false;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>processChannelTransactions</Name>
				<Source><![CDATA[
    /// <summary>
    /// Tries to update the credit voucher details by searching for offline transactional data.
    /// </summary>
    internal static void processChannelTransactions()
    {
        RetailCreditVoucherTable        retailCreditVoucherTable;
        RetailCreditVoucherChannelTable creditVoucherChannelTable;
        
        ttsbegin;

        while select forupdate creditVoucherChannelTable
        {
            switch (creditVoucherChannelTable.operation)
            {
                // To redeem the credit voucher, when the transaction is in locked state.
                case RetailCreditVoucherOperation::Redeem:
                    RetailCreditVoucherTable::updateRBOCreditVoucherTable(creditVoucherChannelTable.entryId,
                                                                        creditVoucherChannelTable.appliedInStoreId,
                                                                        creditVoucherChannelTable.appliedByTerminalId,
                                                                        creditVoucherChannelTable.appliedByStaffId,
                                                                        creditVoucherChannelTable.appliedByTransactionId,
                                                                        creditVoucherChannelTable.appliedByReceiptId,
                                                                        creditVoucherChannelTable.appliedByLineNum,
                                                                        creditVoucherChannelTable.appliedAmount,
                                                                        creditVoucherChannelTable.appliedDate,
                                                                        creditVoucherChannelTable.appliedTime);

                    retailCreditVoucherTable = RetailCreditVoucherTable::find(creditVoucherChannelTable.entryId, true);
                    retailCreditVoucherTable.unlockCreditVoucher();
                    break;

                // To unlock the credit voucher, when the transaction is in locked state.
                case RetailCreditVoucherOperation::Unlock:
                    retailCreditVoucherTable = RetailCreditVoucherTable::find(creditVoucherChannelTable.entryId, true);
                    retailCreditVoucherTable.unlockCreditVoucher();
                    break;
            }

            // We do not require offline transactional data anymore and should clear them.
            creditVoucherChannelTable.delete();
        }

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>unlockCreditVoucher</Name>
				<Source><![CDATA[
    /// <summary>
    /// Unlocks a credit voucher.
    /// </summary>
    private void unlockCreditVoucher()
    {
        // If the credit voucher has not been reserved, we have nothing to do.
        if (this.reserved == NoYes::No)
        {
            return;
        }

        this.reserved = NoYes::No;
        this.reservedByTerminalId = '';
        this.reservedByStoreId = '';

        this.doUpdate();
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<ConfigurationKey>Retail</ConfigurationKey>
	<DeveloperDocumentation>@RET4040251</DeveloperDocumentation>
	<FormRef>RetailCreditVoucherTable</FormRef>
	<Label>@RET4436</Label>
	<TableGroup>Transaction</TableGroup>
	<TitleField1>entryId</TitleField1>
	<TitleField2>entryTypeId</TitleField2>
	<AllowRowVersionChangeTracking>Yes</AllowRowVersionChangeTracking>
	<CacheLookup>NotInTTS</CacheLookup>
	<ClusteredIndex>typeEntryIdx</ClusteredIndex>
	<CreateRecIdIndex>No</CreateRecIdIndex>
	<Modules>Payments</Modules>
	<PrimaryIndex>typeEntryIdx</PrimaryIndex>
	<DeleteActions />
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>entryId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>entryTypeId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>currencyCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>amount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>transDate</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>All</Name>
			<Label>@SYS80094</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>entryTypeId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>currencyCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>replicationCounter</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedByTransactionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>reserved</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>reservedByTerminalId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>reservedByStoreId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdByTransactionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdByReceipId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedByReceiptId</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Amount</Name>
			<Label>@RET3221</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>amount</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AmountApplied</Name>
			<Label>@RET3221</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>appliedAmount</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>DateAndTimeApplied</Name>
			<Label>@RET3299</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>appliedDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedTime</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>DateAndTimeTrans</Name>
			<Label>@RET3299</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>transDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>transTime</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Description</Name>
			<Label>@RET3039</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>description</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Identification</Name>
			<Label>@RET3040</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>entryId</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>main</Name>
			<Label>@RET4772</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>entryId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>transDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>transTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>amount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>applied</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedAmount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>voided</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>TransactionApplied</Name>
			<Label>@RET4315</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>appliedStoreId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedStore</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedByTerminalId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedTerminal</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedByStaffId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedStaffName</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>appliedByLineNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>applied</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>TransactionOrigin</Name>
			<Label>@RET3293</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>createdInStoreId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdStore</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdByTerminalId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdTerminal</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdByStaffId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdStaffName</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>createdByLineNum</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>reservedByTerminalId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTerminalId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>createdByTransactionId</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailTransactionId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>createdInStoreId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailStoreId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>amount</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>Amount</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>applied</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<Label>@RET4308</Label>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>appliedAmount</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailappliedAmount</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>appliedByLineNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>LineNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>appliedByReceiptId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailReceiptId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>appliedByStaffId</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailStaffId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>appliedByTerminalId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTerminalId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>appliedByTransactionId</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailTransactionId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>appliedDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailappliedDate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>appliedInStoreId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailStoreId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldTime">
			<Name>appliedTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailappliedTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>createdByLineNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>LineNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>createdByReceipId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailReceiptId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>createdByStaffId</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailStaffId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>createdByTerminalId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTerminalId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>currencyCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>CurrencyCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>entryId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailCreditVoucherId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>entryTypeId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailDataEntryTypeId</ExtendedDataType>
			<Label>@RET3670</Label>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>replicationCounter</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailReplicationCounter</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>reserved</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<Label>@RET4773</Label>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>reservedByStoreId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailStoreId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>transDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailtransDate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldTime">
			<Name>transTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTransTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>voided</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailVoided</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
	</Fields>
	<FullTextIndexes />
	<Indexes>
		<AxTableIndex>
			<Name>typeEntryIdx</Name>
			<AlternateKey>Yes</AlternateKey>
			<Fields>
				<AxTableIndexField>
					<DataField>entryId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>typeAppliedIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>applied</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>replicationIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>replicationCounter</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
	</Indexes>
	<Mappings />
	<Relations>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>AppliedRetailTransactionTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTransactionTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>AppliedRetailTransactionTable</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>appliedByTransactionId</Name>
					<SourceEDT>RetailTransactionId</SourceEDT>
					<Field>appliedByTransactionId</Field>
					<RelatedField>transactionId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>appliedByTerminalId</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>appliedByTerminalId</Field>
					<RelatedField>terminal</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>appliedInStoreId</Name>
					<SourceEDT>RetailStoreId</SourceEDT>
					<Field>appliedInStoreId</Field>
					<RelatedField>store</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>transactionIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>CreatedRetailTransactionTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTransactionTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>CreatedRetailTransactionTable</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>createdByTransactionId</Name>
					<SourceEDT>RetailTransactionId</SourceEDT>
					<Field>createdByTransactionId</Field>
					<RelatedField>transactionId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>createdByTerminalId</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>createdByTerminalId</Field>
					<RelatedField>terminal</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>createdInStoreId</Name>
					<SourceEDT>RetailStoreId</SourceEDT>
					<Field>createdInStoreId</Field>
					<RelatedField>store</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>transactionIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>Currency</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>Currency</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>currencyCode</Name>
					<SourceEDT>CurrencyCode</SourceEDT>
					<Field>currencyCode</Field>
					<RelatedField>CurrencyCode</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>CurrencyCodeIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailDataEntryTypeTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailDataEntryTypeTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>entryTypeId</Name>
					<SourceEDT>RetailDataEntryTypeId</SourceEDT>
					<Field>entryTypeId</Field>
					<RelatedField>entryTypeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>entryTypeIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailStoreTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailStoreTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>ReservedByStore</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>reservedByStoreId</Name>
					<SourceEDT>RetailStoreId</SourceEDT>
					<Field>reservedByStoreId</Field>
					<RelatedField>StoreNumber</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>StoreNumIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailStoreTable1</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailStoreTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>AppliedInStore</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>appliedInStoreId</Name>
					<SourceEDT>RecId</SourceEDT>
					<Field>appliedInStoreId</Field>
					<RelatedField>StoreNumber</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>StoreNumIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailStoreTable2</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailStoreTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>CreatedInStore</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>createdInStoreId</Name>
					<SourceEDT>RetailStoreId</SourceEDT>
					<Field>createdInStoreId</Field>
					<RelatedField>StoreNumber</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>StoreNumIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailTerminalTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTerminalTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>AppliedByTerminal</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>appliedByTerminalId</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>appliedByTerminalId</Field>
					<RelatedField>terminalId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>terminalIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailTerminalTable1</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTerminalTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>CreatedByTerminal</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>createdByTerminalId</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>createdByTerminalId</Field>
					<RelatedField>terminalId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>terminalIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailTerminalTable2</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTerminalTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>ReservedByTerminal</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>reservedByTerminalId</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>reservedByTerminalId</Field>
					<RelatedField>terminalId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>terminalIdx</Index>
		</AxTableRelation>
	</Relations>
	<StateMachines />
</AxTable>