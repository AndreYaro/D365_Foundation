<?xml version="1.0" encoding="utf-8"?>
<AxTable xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>WrkCtrCapRes</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class WrkCtrCapRes extends common
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>initIntvFields</Name>
				<Source><![CDATA[
    public void initIntvFields()
    {
        this.IntvQr     = intvno(this.TransDate, WrkCtrCapRes::intvRefDate(), IntvScale::YearQuarter) +1;
        this.IntvMth    = intvno(this.TransDate, WrkCtrCapRes::intvRefDate(), IntvScale::YearMonth)   +1;
        this.IntvWk     = intvno(this.TransDate, WrkCtrCapRes::intvRefDate(), IntvScale::YearWeek)    +1;
    }

]]></Source>
			</Method>
			<Method>
				<Name>insert</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Inserts the current <c>WrkCtrCapRes</c> record into the database.
    /// </summary>
    /// <exception cref="Exception::Error">
    ///     An attempt is made to insert the committed reservation with the relation to the master plan version
    ///     or the planned reservation without the relation to the master plan version.
    /// </exception>
    public void insert()
    {
        this.initIntvFields();

        if (!this.validate())
        {
            throw error("@SYS18447");
        }

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>insertUsingInsertList</Name>
				<Source><![CDATA[
    public void insertUsingInsertList(RecordInsertList _list)
    {
        this.initIntvFields();

        _list.add(this);
    }

]]></Source>
			</Method>
			<Method>
				<Name>intvMthName</Name>
				<Source><![CDATA[
    public display ReqPeriodStr intvMthName()
    {
        return intvname(WrkCtrCapRes::intvRefDate(),this.IntvMth-1,IntvScale::YearMonth);
    }

]]></Source>
			</Method>
			<Method>
				<Name>intvQrName</Name>
				<Source><![CDATA[
    public display ReqPeriodStr intvQrName()
    {
        return intvname(WrkCtrCapRes::intvRefDate(),this.IntvQr-1,IntvScale::YearQuarter);
    }

]]></Source>
			</Method>
			<Method>
				<Name>intvWkName</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Retrieves a string representation of the year and week number for the date of this capacity reservation.
    /// </summary>
    /// <returns>
    ///     A string that represents year and week number.
    /// </returns>

    public display ReqPeriodStr intvWkName()
    {
        #TimeConstants
        int       referenceWeekNumber = (this.IntvWk-1);
        TransDate reqDate             = WrkCtrCapRes::intvRefDate() + referenceWeekNumber * #daysPerWeek;
        TransDate intvRefDate;

        if (    wkOfYr(reqDate)  == 1               //first week of the year
            &&  mthOfYr(reqDate) == #monthsPerYear) //last month of the year
        {
            intvRefDate = WrkCtrCapRes::intvRefDateEndOfYearAdjustment();
        }
        else
        {
            intvRefDate = WrkCtrCapRes::intvRefDate();
        }

        return intvname(intvRefDate, referenceWeekNumber, IntvScale::YearWeek);
    }

]]></Source>
			</Method>
			<Method>
				<Name>update</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Updates the current <c>WrkCtrCapRes</c> record.
    /// </summary>
    /// <exception cref="Exception::Error">
    ///     An attempt is made to update the committed reservation with the relation to the master plan version
    ///     or the planned reservation without the relation to the master plan version.
    /// </exception>
    public void update()
    {
        if (!this.validate())
        {
            throw error("@SYS18447");
        }

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>validate</Name>
				<Source><![CDATA[
    /// <summary>
    /// Validates the fields of the current <c>WrkCtrCapRes</c> record.
    /// </summary>
    /// <returns>
    /// true if the current <c>WrkCtrCapRes</c> record is valid; otherwise, false.
    /// </returns>
    public boolean validate()
    {
        boolean ok = true;

        if (this.RefType == WrkCtrCapRefType::PlannedOrder && !this.PlanVersion)
        {
            ok = checkFailed("@SYS136585");
        }
        else if (this.RefType != WrkCtrCapRefType::PlannedOrder && this.PlanVersion)
        {
            ok = checkFailed("@SYS136733");
        }
        else if (this.StartTime > this.EndTime && this.EndTime != 0)
        {
            ok = checkFailed("@SCM:WrkCtrCapResStartTimeEarlierEndTime");
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>wrkCtrHours</Name>
				<Source><![CDATA[
    display WrkCtrHour wrkCtrHours()
    {
        return this.WrkCtrSec / 3600;
    }

]]></Source>
			</Method>
			<Method>
				<Name>copyRef</Name>
				<Source><![CDATA[
    /// <summary>
    /// Inserts new <c>WrkCtrCapRes</c> records by copying existing records.
    /// </summary>
    /// <param name="_reqPlanVersionRefRecIdSource">
    /// A string that holds the master plan version ID that is used to find the source records.
    /// </param>
    /// <param name="_refTypeSource">
    /// An enumeration value that holds the reference type that is used to find the source records.
    /// </param>
    /// <param name="_refIdSource">
    /// A string that holds the reference number that is used to find the source records.
    /// </param>
    /// <param name="_reqPlanVersionRefRecIdNew">
    /// A string that holds the master plan version ID for the newly inserted records.
    /// </param>
    /// <param name="_refTypeNew">
    /// An enumeration value that holds the reference type for the newly inserted records.
    /// </param>
    /// <param name="_refIdNew">
    /// A string that holds the reference number for the newly inserted records.
    /// </param>
    /// <remarks>
    /// A copy of the <c>WrkCtrCapRes</c> records can be used in order to skip the scheduling engine for
    /// performance reasons.
    /// </remarks>
    public static void copyRef(
        RefRecId                        _reqPlanVersionRefRecIdSource,
        WrkCtrCapRefType                _refTypeSource,
        WrkCtrRefId                     _refIdSource,
        RefRecId                        _reqPlanVersionRefRecIdNew,
        WrkCtrCapRefType                _refTypeNew,
        WrkCtrRefId                     _refIdNew)
    {
        WrkCtrCapRes            wrkCtrCapRes;
        WrkCtrCapRes            wrkCtrCapResSource;

        wrkCtrCapRes.skipDataMethods(true);

        insert_recordset wrkCtrCapRes (
            loadType,
            TransDate,
            PlanVersion,
            ProperTyId,
            JobId,
            JobType,
            Locked,
            OprNum,
            RefId,
            RefType,
            WrkCtrLoadPct,
            WrkCtrId,
            WrkCtrSec,
            OprPriority,
            EndTime,
            StartTime,
            IntvQr,
            IntvMth,
            IntvWk,
            Timestamp,
            RecordState,
            RecordStateSessionId,
            RecordStateSessionLoginDateTime)
            select
                LoadType,
                TransDate,
                _reqPlanVersionRefRecIdNew,
                PropertyId,
                JobId,
                JobType,
                Locked,
                OprNum,
                _refIdNew,
                _refTypeNew,
                WrkCtrLoadPct,
                WrkCtrId,
                WrkCtrSec,
                OprPriority,
                EndTime,
                StartTime,
                IntvQr,
                IntvMth,
                IntvWk,
                Timestamp,
                RecordState,
                RecordStateSessionId,
                RecordStateSessionLoginDateTime
                    from wrkCtrCapResSource
                    where   (
                                wrkCtrCapResSource.PlanVersion           == _reqPlanVersionRefRecIdSource
                                || (!_reqPlanVersionRefRecIdSource       && _refTypeSource != WrkCtrCapRefType::PlannedOrder)
                            )
                            && wrkCtrCapResSource.RefType                == _refTypeSource
                            && wrkCtrCapResSource.RefId                  == _refIdSource;
    }

]]></Source>
			</Method>
			<Method>
				<Name>createRefIdDeleted</Name>
				<Source><![CDATA[
    public static void createRefIdDeleted(
        WrkCtrCapRefType        _refType,
        InventRefId             _refNum,
        WrkCtrCapacityType      _capType,
        RefRecId                _reqPlanVersionRefRecId = 0)
    {
        if (_refType != WrkCtrCapRefType::PlannedOrder)
        {
            _reqPlanVersionRefRecId = 0;
        }
        
        WrkCtrCapRes wrkCtrCapResRange;
        wrkCtrCapResRange.RefType = _refType;
        wrkCtrCapResRange.RefId = _refNum;
        wrkCtrCapResRange.PlanVersion = _reqPlanVersionRefRecId;
        
        ttsbegin;

        WrkCtrMarkedAsDeletedCapacityReservationsLoadTypeUpdater updater = WrkCtrMarkedAsDeletedCapacityReservationsLoadTypeUpdater::construct();
        updater.withWrkCtrCapResRange(wrkCtrCapResRange)
               .withTargetLoadType(_capType)
               .execute();

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>deleteCapJobId</Name>
				<Source><![CDATA[
    /// <summary>
    /// Deletes capacity reservations for the specified job.
    /// </summary>
    /// <param name="_jobId">
    /// The job ID.
    /// </param>
    /// <param name="_jobType">
    /// The job type.
    /// </param>
    /// <param name="_refId">
    /// The order ID.
    /// </param>
    /// <param name="_refType">
    /// The reservation type.
    /// </param>
    /// <param name="_loadType">
    /// The load type; optional.
    /// </param>
    /// <param name="_reqPlanVersionRefRecId">
    /// The master plan version ID; optional.
    /// </param>
    public static void deleteCapJobId(
        ProdJobId           _jobId,
        RouteJobType        _jobType,
        WrkCtrRefId         _refId,
        WrkCtrCapRefType    _refType,
        WrkCtrCapacityType  _loadType                   = WrkCtrCapacityType::JobSched,
        RefRecId            _reqPlanVersionRefRecId     = 0)
    {
        WrkCtrCapRes wrkCtrCapRes;

        wrkCtrCapRes.skipDataMethods(true);

        if (_refType != WrkCtrCapRefType::PlannedOrder)
        {
            _reqPlanVersionRefRecId = 0;
        }

        delete_from wrkCtrCapRes
            where   wrkCtrCapRes.JobId                   == _jobId                           &&
                    wrkCtrCapRes.JobType                 == _jobType                         &&
                    wrkCtrCapRes.RefId                   == _refId                           &&
                    wrkCtrCapRes.RefType                 == _refType                         &&
                    wrkCtrCapRes.PlanVersion             == _reqPlanVersionRefRecId          &&
                    wrkCtrCapRes.LoadType                == _loadType;
    }

]]></Source>
			</Method>
			<Method>
				<Name>deleteRefIdDeleted</Name>
				<Source><![CDATA[
    public static void deleteRefIdDeleted(
        WrkCtrCapRefType    _refType,
        WrkCtrRefId         _refNum,
        RefRecId            _reqPlanVersionRefRecId = 0
        )
    {
        WrkCtrCapRes            wrkCtrCapRes;

        wrkCtrCapRes.skipDataMethods(true);

        if (_refType != WrkCtrCapRefType::PlannedOrder)
        {
            _reqPlanVersionRefRecId = 0;
        }

        ttsbegin;

        delete_from wrkCtrCapRes
            where   wrkCtrCapRes.PlanVersion              == _reqPlanVersionRefRecId        &&
                    wrkCtrCapRes.RefType                  == _refType                       &&
                    wrkCtrCapRes.RefId                    == _refNum                        &&
                    wrkCtrCapRes.LoadType                 == WrkCtrCapacityType::Deletemarked;

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>determineReqPlanVersion</Name>
				<Source><![CDATA[
    /// <summary>
    /// Determines the master plan version which the <c>WrkCtrCapRes</c> record belongs to.
    /// </summary>
    /// <param name="_reqPlanId">
    /// The master plan ID.
    /// </param>
    /// <param name="_refType">
    /// The capacity reservation type.
    /// </param>
    /// <returns>
    /// The master plan version.
    /// </returns>
    public static ReqPlanVersion determineReqPlanVersion(ReqPlanId _reqPlanId, WrkCtrCapRefType _refType)
    {
        ReqPlanVersion  reqPlanVersionBlank;

        return _refType == WrkCtrCapRefType::PlannedOrder ?
            ReqPlan::findReqPlanId(_reqPlanId).findActiveVersion()
            :
            reqPlanVersionBlank;
    }

]]></Source>
			</Method>
			<Method>
				<Name>exist</Name>
				<Source><![CDATA[
    /// <summary>
    /// Indicates whether the specified record in the table <c>WrkCtrCapRes</c> exists.
    /// </summary>
    /// <param name="_recId">
    /// The record ID of the record to check for existence.
    /// </param>
    /// <returns>
    /// true if a record exists; otherwise, false.
    /// </returns>
    public static boolean exist(recId _recId)
    {
        return _recId &&
               (select firstonly RecId from wrkCtrCapRes
                    where wrkCtrCapRes.RecId == _recId).RecId != 0;
    }

]]></Source>
			</Method>
			<Method>
				<Name>find</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds the specified record in the <c>WrkCtrCapRes</c> table.
    /// </summary>
    /// <param name="_recId">
    /// The record ID of the <c>WrkCtrCapRes</c> record to find.
    /// </param>
    /// <param name="_forUpdate">
    /// A Boolean value that indicates whetehr to read the record for update; optional.
    /// </param>
    /// <returns>
    /// A record in the <c>WrkCtrCapRes</c> table; otherwise, an empty record.
    /// </returns>
    public static WrkCtrCapRes find(
        recId   _recId,
        boolean _forUpdate = false)
    {
        WrkCtrCapRes wrkCtrCapRes;

        if (_recId)
        {
            wrkCtrCapRes.selectForUpdate(_forUpdate);

            select firstonly wrkCtrCapRes
                where wrkCtrCapRes.RecId == _recId;
        }

        return wrkCtrCapRes;
    }

]]></Source>
			</Method>
			<Method>
				<Name>getCapResIdentifiersUserConnection</Name>
				<Source><![CDATA[
    /// <summary>
    /// Gets the capacity reservation <c>RecId</c> values for one order.
    /// </summary>
    /// <param name="_refId">
    /// The order ID.
    /// </param>
    /// <param name="_refType">
    /// The order type.
    /// </param>
    /// <param name="_planVersion">
    /// The plan version for the order; optional.
    /// </param>
    /// <param name="_userConnection">
    /// The connection, that will be used to select capacity reservations; optional.
    /// </param>
    /// <returns>
    /// A list that has the capacity reservation <c>RecId</c> values.
    /// </returns>
    public static List getCapResIdentifiersUserConnection(InventTransRefId    _refId,
                                                          WrkCtrCapRefType    _refType,
                                                          recId               _planVersion = 0,
                                                          UserConnection      _userConnection = null)
    {
        List            result = new List(Types::Container);
        WrkCtrCapRes    wrkCtrCapRes;

        if (_userConnection)
        {
            wrkCtrCapRes.setConnection(_userConnection);
        }
        
        while select RecId, OrigJobRecId from wrkCtrCapRes
            where   wrkCtrCapRes.RefId          == _refId
            &&      wrkCtrCapRes.RefType        == _refType
            &&      (wrkCtrCapRes.PlanVersion   == _planVersion || _refType == WrkCtrCapRefType::Production)
        {
            result.addEnd([wrkCtrCapRes.RecId, wrkCtrCapRes.OrigJobRecId]);
        }

        return result;
    }

]]></Source>
			</Method>
			<Method>
				<Name>intvRefDate</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Retrieves the reference date for year calculations using the <c>intvname</c> method.
    /// </summary>
    /// <returns>
    ///     A date that can be used for reference.
    /// </returns>
    static TransDate intvRefDate()

    {
        return mkdate(31, 12, 2001);
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateRefIdDeleted</Name>
				<Source><![CDATA[
    static void updateRefIdDeleted(
        WrkCtrCapRefType    _refType,
        WrkCtrRefId         _refNum,
        RefRecId            _reqPlanVersionRefRecId = 0
        )
    {
        WrkCtrCapRes            wrkCtrCapRes;

        wrkCtrCapRes.skipDataMethods(true);

        if (_refType != WrkCtrCapRefType::PlannedOrder)
        {
            _reqPlanVersionRefRecId = 0;
        }

        ttsbegin;

        update_recordset wrkCtrCapRes
            setting LoadType = WrkCtrCapacityType::Deletemarked
            where   wrkCtrCapRes.PlanVersion                  == _reqPlanVersionRefRecId    &&
                    wrkCtrCapRes.RefType                      == _refType                   &&
                    wrkCtrCapRes.RefId                        == _refNum;

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>intvRefDateEndOfYearAdjustment</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Retrieves the reference date for year calculations using the <c>intvname</c> method.
    /// </summary>
    /// <returns>
    ///     A date that can be used for reference.
    /// </returns>
    /// <remarks>
    ///     The date returned by this method should be used to adjust for year-end shifts.
    /// </remarks>
    public static TransDate intvRefDateEndOfYearAdjustment()
    {
        return mkdate(04, 01, 2002);
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<ConfigurationKey>WrkCtr</ConfigurationKey>
	<DeveloperDocumentation>@SYS124141</DeveloperDocumentation>
	<FormRef>WrkCtrCapRes</FormRef>
	<Label>@SYS3859</Label>
	<TableGroup>Transaction</TableGroup>
	<TitleField1>WrkCtrId</TitleField1>
	<TitleField2>TransDate</TitleField2>
	<AllowRowVersionChangeTracking>Yes</AllowRowVersionChangeTracking>
	<CacheLookup>NotInTTS</CacheLookup>
	<ClusteredIndex>WrkCtrIdx</ClusteredIndex>
	<CreatedDateTime>Yes</CreatedDateTime>
	<ModifiedDateTime>Yes</ModifiedDateTime>
	<Modules>MasterPlanning</Modules>
	<PrimaryIndex>RecId</PrimaryIndex>
	<DeleteActions>
		<AxTableDeleteAction>
			<Name>WrkCtrCapResProperty</Name>
			<DeleteAction>Cascade</DeleteAction>
			<Relation></Relation>
			<Table>WrkCtrCapResProperty</Table>
		</AxTableDeleteAction>
	</DeleteActions>
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>WrkCtrId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LoadType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>WrkCtrSec</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>StartTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>EndTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>JobType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RefType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RefId</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Identification</Name>
			<Label>@SYS5711</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>WrkCtrId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LoadType</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Reference</Name>
			<Label>@SYS15217</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>RefType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RefId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>OprNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>JobType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>OprPriority</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>JobId</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Reservation</Name>
			<Label>@SYS7669</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>WrkCtrLoadPct</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>PropertyId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>WrkCtrSec</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>StartTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>EndTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Locked</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>System</Name>
			<Label>@SYS4278</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>IntvQr</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>IntvMth</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>IntvWk</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>OrigJobRecId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Timestamp</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxTableField xmlns=""
			i:type="AxTableFieldTime">
			<Name>EndTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>SchedToTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>IntvMth</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>IntvMth</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>IntvQr</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>IntvQr</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>IntvWk</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>IntvWk</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>JobId</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ProdJobId</ExtendedDataType>
			<IgnoreEDTRelation>Yes</IgnoreEDTRelation>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>JobType</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<Label>@SYS9942</Label>
			<EnumType>RouteJobType</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>LoadType</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>WrkCtrCapacityType</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>Locked</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ProdJobLocked</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>OprNum</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>OprNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>OprPriority</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>RouteOprPriority</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>OrigJobRecId</Name>
			<AssetClassification>System Metadata</AssetClassification>
			<ExtendedDataType>WrkCtrCapResOrigJobId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>PlanVersion</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RefRecId</ExtendedDataType>
			<Visible>No</Visible>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>PropertyId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>PropertyId</ExtendedDataType>
			<IgnoreEDTRelation>Yes</IgnoreEDTRelation>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>RefId</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WrkCtrRefId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>RefType</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<EnumType>WrkCtrCapRefType</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldTime">
			<Name>StartTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>SchedFromTime</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>Timestamp</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WrkCtrCapResTimestamp</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>TransDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>SchedDate</ExtendedDataType>
			<Label>@SYS7402</Label>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>WrkCtrId</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>WrkCtrIdBase</ExtendedDataType>
			<IgnoreEDTRelation>Yes</IgnoreEDTRelation>
			<Mandatory>Yes</Mandatory>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>WrkCtrLoadPct</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>WrkCtrLoadPct</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>WrkCtrSec</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>CapacitySec</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>RecordState</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>System Metadata</AssetClassification>
			<Visible>No</Visible>
			<EnumType>WrkCtrCapResRecordState</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>RecordStateSessionId</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>System Metadata</AssetClassification>
			<ExtendedDataType>SessionId</ExtendedDataType>
			<Visible>No</Visible>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldUtcDateTime">
			<Name>RecordStateSessionLoginDateTime</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>System Metadata</AssetClassification>
			<ExtendedDataType>UTCTimestamp</ExtendedDataType>
			<Visible>No</Visible>
		</AxTableField>
	</Fields>
	<FullTextIndexes />
	<Indexes>
		<AxTableIndex>
			<Name>RefIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>RefType</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>PlanVersion</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>RefId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>OprNum</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>JobId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>OrigJobRecId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>WrkCtrIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>WrkCtrId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>PlanVersion</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>TransDate</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>LoadType</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>StartTime</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>EndTime</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>RecId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>RecordStateIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>RecordState</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>RecordStateSessionId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>RecordStateSessionLoginDateTime</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
	</Indexes>
	<Mappings />
	<Relations>
		<AxTableRelation>
			<Name>ProdJob</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124142</EntityRelationshipRole>
			<RelatedTable>ProdRouteJob</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>RouteJob</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Validate>No</Validate>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>JobId</Name>
					<Field>JobId</Field>
					<RelatedField>JobId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprNum</Name>
					<Field>OprNum</Field>
					<RelatedField>OprNum</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>ProdId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::Production</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ProdRoute</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124143</EntityRelationshipRole>
			<RelatedTable>ProdRoute</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>ProductionRoute</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Validate>No</Validate>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprNum</Name>
					<Field>OprNum</Field>
					<RelatedField>OprNum</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprPriority</Name>
					<Field>OprPriority</Field>
					<RelatedField>OprPriority</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>ProdId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::Production</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>ProdRouteJob</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>ProdRouteJob</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>JobId</Name>
					<Field>JobId</Field>
					<RelatedField>JobId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>JobIdIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>Production</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124144</EntityRelationshipRole>
			<RelatedTable>ProdTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>ProductionOrder</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>ProdId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::Production</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ProjTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124145</EntityRelationshipRole>
			<RelatedTable>ProjTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>Project</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::Project</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>ProjId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>ReqPlanVersion</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>ReqPlanVersion</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>PlanVersion</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
					<RelatedField>RecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>RecId</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ReqRoute</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124146</EntityRelationshipRole>
			<RelatedTable>ReqRoute</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>RequirementRoute</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Validate>No</Validate>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::PlannedOrder</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprPriority</Name>
					<Field>OprPriority</Field>
					<RelatedField>OprPriority</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprNum</Name>
					<Field>OprNum</Field>
					<RelatedField>OprNum</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>RefId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
					<RelatedField>PlanVersion</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ReqRouteJob</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124147</EntityRelationshipRole>
			<RelatedTable>ReqRouteJob</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>RequirementJob</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Validate>No</Validate>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::PlannedOrder</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
					<RelatedField>PlanVersion</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprPriority</Name>
					<Field>OprPriority</Field>
					<RelatedField>OprPriority</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>OprNum</Name>
					<Field>OprNum</Field>
					<RelatedField>OprNum</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>ReqPOId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>WrkCtr</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124148</EntityRelationshipRole>
			<RelatedTable>WrkCtrTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelatedTableRole>Resource</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>WrkCtrId</Name>
					<Field>WrkCtrId</Field>
					<RelatedField>WrkCtrId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>WrkCtrCapResProperty</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>WrkCtrCapResProperty</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>CapacityReservationRequirements</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservations</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RecId</Name>
					<Field>RecId</Field>
					<RelatedField>CapResRefRecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>WrkCtrProperty</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>WrkCtrProperty</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>PropertyId</Name>
					<Field>PropertyId</Field>
					<RelatedField>PropertyId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>PropertyIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ReqPO</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EntityRelationshipRole>@SYS124184</EntityRelationshipRole>
			<RelatedTable>ReqPO</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>PlannedOrder</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>CapacityReservation</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RefId</Name>
					<Field>RefId</Field>
					<RelatedField>RefId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RefType</Name>
					<Field>RefType</Field>
					<ValueStr>WrkCtrCapRefType::PlannedOrder</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>PlanVersion</Name>
					<Field>PlanVersion</Field>
					<RelatedField>PlanVersion</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
	</Relations>
	<StateMachines />
</AxTable>