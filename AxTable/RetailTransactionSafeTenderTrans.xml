<?xml version="1.0" encoding="utf-8"?>
<AxTable xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>RetailTransactionSafeTenderTrans</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class RetailTransactionSafeTenderTrans extends common
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>find</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds a record in <c>RetailTransactionSafeTenderTrans</c> given its primary key.
    /// </summary>
    /// <param name = "_channelRecId">The channel RecId.</param>
    /// <param name = "_storeId">The store id.</param>
    /// <param name = "_terminalId">The terminal id.</param>
    /// <param name = "_transactionId">The transaction id.</param>
    /// <param name = "_lineNum">The line number.</param>
    /// <param name = "_forUpdate">Flag indicating if the record should be selected for update.</param>
    /// <returns>A <c>RetailTransactionSafeTenderTrans</c> record.</returns>
    public static RetailTransactionSafeTenderTrans find(RecId _channelRecId, RetailStoreId _storeId, RetailTerminalId _terminalId, RetailTransactionId _transactionId, LineNum _lineNum, boolean _forUpdate = false)
    {
        RetailTransactionSafeTenderTrans safeTenderTrans;

        safeTenderTrans.selectForUpdate(_forUpdate);

        select safeTenderTrans
            where safeTenderTrans.Channel       == _channelRecId
               && safeTenderTrans.Store         == _storeId
               && safeTenderTrans.Terminal      == _terminalId
               && safeTenderTrans.TransactionId == _transactionId
               && safeTenderTrans.LineNum       == _lineNum;

        return safeTenderTrans;
    }

]]></Source>
			</Method>
			<Method>
				<Name>calcAmountMST</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the <c>AmountMst</c> field of the <c>RetailTransactionSafeTenderTrans</c> table with
    /// the calculated safe amount if there is no value in the <c>AmountMST</c> field.
    /// </summary>
    void calcAmountMST()
    {
        ExchRate        posExchRate = this.transactionTable().posExchRate();

        if (!this.AmountMST)
        {
            this.AmountMST = this.AmountTendered * (posExchRate / 100);
        }
        else
        {
            this.AmountMST = this.AmountMST;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>calcExchRateMST</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the <c>ExchRateMST</c> field of the <c>RetailTransactionSafeTenderTrans</c> table with
    /// the calculated exchange rate if there is no value in the <c>ExchRateMST</c> field and a value
    /// occurs in the <c>AmountMST</c> field.
    /// </summary>
    void calcExchRateMST()
    {
        if (!this.ExchRateMST && this.AmountMST)
        {
            this.ExchRateMST = (this.AmountMST / this.AmountCur) * 100;
        }
        else
        {
            this.ExchRateMST = this.ExchRateMST;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>initRBOStatementLine</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the fields of the <c>RetailTransactionSafeTenderTrans</c> table with the values in a
    /// <c>RetailStatementLine</c> record.
    /// </summary>
    /// <param name="_statementLine">
    /// A <c>RetailStatementLine</c> record.
    /// </param>
    public void initRBOStatementLine(RetailStatementLine _statementLine)
    {
        str     transactionId;
        #define.Blank('')
        #define.Hyphen('-')

        this.Store           = _statementLine.StoreId;
        this.Terminal        = _statementLine.TerminalId;
        this.Staff           = _statementLine.StaffId;

        this.ExchRate        = _statementLine.StoreExchRate;
        this.ExchRateMST     = _statementLine.RealExchRate;
        this.StatementCode   = _statementLine.StatementCode;

        this.LineNum         = RetailTransactionSafeTenderTrans::lastManualLineNum(this.StatementId) + 1;
        this.TransDate       = DateTimeUtil::getToday(DateTimeUtil::getUserPreferredTimeZone());
        this.TransTime       = DateTimeUtil::getTimeNow(DateTimeUtil::getUserPreferredTimeZone());
        this.businessDate    = this.TransDate;
        this.Qty             = 1;

        transactionId        = guid2str(newGuid());
        transactionId        = strReplace(transactionId, #Hyphen, #Blank);
        this.TransactionId   = transactionId;
    }

]]></Source>
			</Method>
			<Method>
				<Name>initRBOStatementTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the <c>Shift</c> and <c>ShiftDate</c> fields of the
    /// <c>RetailTransactionSafeTenderTrans</c> table with the values in the <c>ShiftId</c> and
    /// <c>ShiftDate</c> fields of a <c>RetailStatementTable</c> record.
    /// </summary>
    /// <param name="_statementTable">
    /// A <c>RetailStatementTable</c> record.
    /// </param>
    public void initRBOStatementTable(RetailStatementTable _statementTable = RetailStatementTable::find(this.StatementId))
    {
        this.Shift           = _statementTable.ShiftId;
        this.ShiftDate       = _statementTable.ShiftDate;
    }

]]></Source>
			</Method>
			<Method>
				<Name>modifiedAmountCur</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the <c>AmountTender</c> and <c>AmountMST</c> fields in the
    /// <c>RetailTransactionSafeTenderTrans</c> table.
    /// </summary>
    void modifiedAmountCur()
    {
        int amountCurDecimalPrecision = new SysDictType(extendedTypeNum(AmountCur)).effectivePrecision();
        int amountMSTDecimalPrecision = new SysDictType(extendedTypeNum(AmountMST)).effectivePrecision();

        if (this.AmountCur != 0)
        {
            this.AmountTendered = decRound(this.AmountCur * this.ExchRate, amountCurDecimalPrecision)/ 100;
            this.AmountMST      = decRound(this.AmountCur * this.ExchRateMST, amountMSTDecimalPrecision)/ 100;
        }
        else
        {
            this.AmountTendered = 0;
            this.AmountMST      = 0;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>modifiedField</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the <c>AmountTender</c> and <c>AmountMST</c> fields in the
    /// <c>RetailTransactionSafeTenderTrans</c> table.
    /// </summary>
    /// <param name="_fieldId">
    /// The <c>FieldId</c> value of the modified field.
    /// </param>
    /// <remarks>
    /// This method also updates the status type to <c>Override</c> if the status of the
    /// <c>RetailTransactionSafeTenderTrans</c> table is equal to <c>RetailEx3</c> type.
    /// </remarks>
    public void modifiedField(FieldId _fieldId)
    {
        ;
        super(_fieldId);

        switch (_fieldId)
        {
            case    fieldNum(RetailTransactionSafeTenderTrans, AmountCur)   :   this.modifiedAmountCur();   break;
        }

        this.StatusType = this.StatusType == RetailSafeStatusTypeBase::RetailEx3 ? RetailSafeStatusTypeBase::Override : this.StatusType;
    }

]]></Source>
			</Method>
			<Method>
				<Name>posSafeExchRate</Name>
				<Source><![CDATA[
    /// <summary>
    /// Retrieves the <c>RetailEx3</c> type exchange rate used in the safe tender transaction.
    /// </summary>
    /// <returns>
    /// The <c>RetailEx3</c> type exchange rate.
    /// </returns>

    ExchRate posSafeExchRate()
    {
        ExchRate        exchRate = 0;
        ;
        if (!this.ExchRateMST)
        {
            if (!this.AmountMST)
            {
                this.calcAmountMST();
            }

            this.calcExchRateMST();

            exchRate = this.ExchRateMST;
        }
        else
        {
            exchRate = this.ExchRateMST;
        }

        return exchRate;
    }

]]></Source>
			</Method>
			<Method>
				<Name>transactionTable</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds a specified record in the <c>RetailTransactionTable</c> table.
    /// </summary>
    /// <returns>
    /// A record in the <c>RetailTransactionTable</c> table; otherwise, an empty record.
    /// </returns>

    RetailTransactionTable transactionTable()
    {
        return RetailTransactionTable::find(this.TransactionId,this.Store,this.Terminal);
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateDelete</Name>
				<Source><![CDATA[
    /// <summary>
    /// Method checks for the status type. If the status type is manual then returns true indiacting the record is valid and can be deleted from the database.
    /// </summary>
    /// <returns>
    /// true if the record is valid; otherwise false.
    /// </returns>
    public boolean validateDelete()
    {
        boolean ret;
        ;
        ret = super();

        ret = this.StatusType == RetailSafeStatusTypeBase::Manual ? true : false;

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>lastManualLineNum</Name>
				<Source><![CDATA[
    /// <summary>
    /// Retrieves the maximum line number of the <c>RetailTransactionSafeTenderTrans</c> table for the
    /// specified statement number and the <c>RetailSafeStatusTypeBase::Manual</c> enumeration value status
    /// type.
    /// </summary>
    /// <param name="_statementId">
    /// The statement number of the safe tender transactions record to retrieve.
    /// </param>
    /// <returns>
    /// The maximum line number.
    /// </returns>

    static LineNum  lastManualLineNum(RetailStatementId _statementId)
    {
        return (select maxof(LineNum) from retailTransactionSafeTenderTrans
                    index hint transactionLineIdx
                    where retailTransactionSafeTenderTrans.StatementId == _statementId &&
                          retailTransactionSafeTenderTrans.StatusType == RetailSafeStatusTypeBase::Manual).LineNum;
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<ConfigurationKey>Retail</ConfigurationKey>
	<DeveloperDocumentation>@RET260391</DeveloperDocumentation>
	<FormRef>RetailTransactionSafeTenderTrans</FormRef>
	<Label>@RET4596</Label>
	<TableGroup>Transaction</TableGroup>
	<TitleField1>TransactionId</TitleField1>
	<TitleField2>LineNum</TitleField2>
	<AllowArchival>Yes</AllowArchival>
	<AllowRetention>Yes</AllowRetention>
	<AllowRowVersionChangeTracking>Yes</AllowRowVersionChangeTracking>
	<CacheLookup>NotInTTS</CacheLookup>
	<ClusteredIndex>transactionLineIdx</ClusteredIndex>
	<CreatedBy>Yes</CreatedBy>
	<CreatedDateTime>Yes</CreatedDateTime>
	<CreatedTransactionId>Yes</CreatedTransactionId>
	<ModifiedBy>Yes</ModifiedBy>
	<ModifiedDateTime>Yes</ModifiedDateTime>
	<ModifiedTransactionId>Yes</ModifiedTransactionId>
	<Modules>TransactionsAndOrders</Modules>
	<PrimaryIndex>transactionLineIdx</PrimaryIndex>
	<ReplacementKey>transactionLineIdx</ReplacementKey>
	<DeleteActions />
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>TransactionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Channel</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ExchRate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Currency</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>TransactionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>StatementCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CardTypeId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ExchRate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TenderType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AmountTendered</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Currency</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AmountCur</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CardorAccount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransTime</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Shift</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShiftDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Staff</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Store</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Terminal</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransactionStatus</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>StatementId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ManagersKeyLive</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ChangeLine</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Counter</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>MessageNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Replicated</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Qty</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Channel</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>Channel</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Store</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Terminal</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransactionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>All</Name>
			<Label>@SYS80094</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>AmountTendered</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AmountCur</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>amountCurPOS</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>amountTenderedPOS</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>amountMST</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>amountMSTPOS</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CardorAccount</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ChangeLine</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>LineNum</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>CardTypeId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ManagersKeyLive</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Replicated</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Counter</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Qty</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>exchRateMST</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>replicationCounterFromOrigin</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Shift</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ShiftDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Channel</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Identification</Name>
			<Label>@RET3040</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>TransactionId</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Origin</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Statement</Name>
			<Label>@RET3248</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>StatementCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>StatementId</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Status</Name>
			<Label>@RET3070</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>TransactionStatus</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>statusType</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>TenderType</Name>
			<Label>@RET3253</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>TenderType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>MessageNum</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>TimeOfTransaction</Name>
			<Label>@RET3292</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>TransDate</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>TransTime</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Totals</Name>
			<Label>@RET3226</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>AmountTendered</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AmountCur</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Currency</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ExchRate</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>TransactionOrigin</Name>
			<Label>@RET3293</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>Store</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Terminal</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>Staff</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>AmountCur</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>AmountCur</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>amountCurPOS</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>AmountCur</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>amountMST</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>AmountMST</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>amountMSTPOS</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>AmountMST</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>AmountTendered</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailAmountTendered</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>amountTenderedPOS</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailAmountTendered</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>businessDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailBusinessDate</ExtendedDataType>
			<Visible>No</Visible>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>CardorAccount</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailCardOrAccount</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>CardTypeId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailCardTypeId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>ChangeLine</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailChangeLine</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>Channel</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RefRecId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>Counter</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailRealCounter</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Currency</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>CurrencyCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>ExchRate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ExchRate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>exchRateMST</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ExchRate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>LineNum</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>LineNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>ManagersKeyLive</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailManagerKeyLive</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>MessageNum</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailMessageNum</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Origin</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailConnDistributionLocationId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldReal">
			<Name>Qty</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>Qty</ExtendedDataType>
			<Label>@RET4510</Label>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>Replicated</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailReplicated</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt">
			<Name>replicationCounterFromOrigin</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailReplicationCounter</ExtendedDataType>
			<Label>@RET3920</Label>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Shift</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailShiftId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>ShiftDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailShiftDate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Staff</Name>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailStaffId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>StatementCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailStatementCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>StatementId</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailStatementId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>statusType</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailSafeStatusType</ExtendedDataType>
			<EnumType>RetailSafeStatusTypeBase</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Store</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailStoreId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>TenderType</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTenderTypeId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Terminal</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTerminalId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>TransactionId</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content </AssetClassification>
			<ExtendedDataType>RetailTransactionId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>TransactionStatus</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTransEntryStatus</ExtendedDataType>
			<EnumType>RetailEntryStatus</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldDate">
			<Name>TransDate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailtransDate</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldTime">
			<Name>TransTime</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailTransTime</ExtendedDataType>
		</AxTableField>
	</Fields>
	<FullTextIndexes />
	<Indexes>
		<AxTableIndex>
			<Name>transactionLineIdx</Name>
			<AlternateKey>Yes</AlternateKey>
			<Fields>
				<AxTableIndexField>
					<DataField>Channel</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>Store</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>Terminal</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>TransactionId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>LineNum</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>statementTenderCardCurIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>Store</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>TenderType</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>CardTypeId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>Currency</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>StatementCode</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>LocationIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>Origin</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>replicationCounterFromOrigin</DataField>
					<IncludedColumn>Yes</IncludedColumn>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>statementStatusIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>Store</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>StatementId</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>TransactionStatus</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>statusType</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
		<AxTableIndex>
			<Name>statementIdx</Name>
			<AllowDuplicates>Yes</AllowDuplicates>
			<Fields>
				<AxTableIndexField>
					<DataField>Store</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>StatementId</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
	</Indexes>
	<Mappings />
	<Relations>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>Currency</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>Currency</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Currency</Name>
					<SourceEDT>CurrencyCode</SourceEDT>
					<Field>Currency</Field>
					<RelatedField>CurrencyCode</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>CurrencyCodeIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailChannelTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailChannelTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Channel</Name>
					<SourceEDT>RefRecId</SourceEDT>
					<Field>Channel</Field>
					<RelatedField>RecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>RecId</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>RetailStatementLine</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>RetailStatementLine</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Validate>No</Validate>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>StatementCode</Name>
					<Field>StatementCode</Field>
					<RelatedField>statementCode</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Currency</Name>
					<SourceEDT>CurrencyCode</SourceEDT>
					<Field>Currency</Field>
					<RelatedField>currency</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>StatementId</Name>
					<SourceEDT>RetailStatementId</SourceEDT>
					<Field>StatementId</Field>
					<RelatedField>statementId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>TenderType</Name>
					<SourceEDT>RetailTenderTypeId</SourceEDT>
					<Field>TenderType</Field>
					<RelatedField>tenderTypeId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>CardTypeId</Name>
					<SourceEDT>RetailCardTypeId</SourceEDT>
					<Field>CardTypeId</Field>
					<RelatedField>cardTypeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailStatementTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailStatementTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>StatementId</Name>
					<SourceEDT>RetailStatementId</SourceEDT>
					<Field>StatementId</Field>
					<RelatedField>statementId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>statementIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>RetailStatementTrans</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>RetailStatementTrans</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Validate>No</Validate>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>StatementCode</Name>
					<Field>StatementCode</Field>
					<RelatedField>statementCode</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Currency</Name>
					<SourceEDT>CurrencyCode</SourceEDT>
					<Field>Currency</Field>
					<RelatedField>currency</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>StatementId</Name>
					<SourceEDT>RetailStatementId</SourceEDT>
					<Field>StatementId</Field>
					<RelatedField>statementId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>TenderType</Name>
					<SourceEDT>RetailTenderTypeId</SourceEDT>
					<Field>TenderType</Field>
					<RelatedField>tenderTypeId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>CardTypeId</Name>
					<SourceEDT>RetailCardTypeId</SourceEDT>
					<Field>CardTypeId</Field>
					<RelatedField>cardTypeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailStoreTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailStoreTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Store</Name>
					<SourceEDT>RetailStoreId</SourceEDT>
					<Field>Store</Field>
					<RelatedField>StoreNumber</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>StoreNumIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>RetailStoreWorkShiftTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailStoreWorkShiftTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ShiftDate</Name>
					<SourceEDT>RetailShiftDate</SourceEDT>
					<Field>ShiftDate</Field>
					<RelatedField>shiftDate</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailTenderTypeCardTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTenderTypeCardTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>CardTypeId</Name>
					<SourceEDT>RetailCardTypeId</SourceEDT>
					<Field>CardTypeId</Field>
					<RelatedField>cardTypeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>cardTypeIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailTenderTypeTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTenderTypeTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>TenderType</Name>
					<SourceEDT>RetailTenderTypeId</SourceEDT>
					<Field>TenderType</Field>
					<RelatedField>tenderTypeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>tenderTypeIdx</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>RetailTerminalTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<EDTRelation>Yes</EDTRelation>
			<RelatedTable>RetailTerminalTable</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Terminal</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>Terminal</Field>
					<RelatedField>terminalId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>terminalIdx</Index>
		</AxTableRelation>
		<AxTableRelation>
			<Name>RetailTransactionTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>RetailTransactionTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>TransactionId</Name>
					<SourceEDT>RetailTransactionId</SourceEDT>
					<Field>TransactionId</Field>
					<RelatedField>transactionId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Store</Name>
					<SourceEDT>RetailStoreId</SourceEDT>
					<Field>Store</Field>
					<RelatedField>store</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Terminal</Name>
					<SourceEDT>RetailTerminalId</SourceEDT>
					<Field>Terminal</Field>
					<RelatedField>terminal</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>Channel</Name>
					<Field>Channel</Field>
					<RelatedField>Channel</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
	</Relations>
	<StateMachines />
</AxTable>