<?xml version="1.0" encoding="utf-8"?>
<AxTable xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>MarkupAutoTable</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class MarkupAutoTable extends common
{

}
]]></Declaration>
		<Methods>
			<Method>
				<Name>checkAccountRelation</Name>
				<Source><![CDATA[
    private boolean checkAccountRelation()
    {
        boolean ok = true;

        switch (this.AccountCode)
        {
            case TableGroupAll::Table:
                if (this.MarkupReturn == ReturnCodeType::None && !this.AccountRelation)
                {
                    ok = checkFailed("@SYS17074");
                }
                break;

            case TableGroupAll::GroupId:
                if (!this.AccountRelation)
                {
                    ok = checkFailed("@SYS17074");
                }
                break;

            case TableGroupAll::All:
                if (this.AccountRelation)
                {
                    ok = checkFailed("@SYS17074");
                }
                break;
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>checkDlvModeRelation</Name>
				<Source><![CDATA[
    /// <summary>
    /// Verifies if the Value for DlvModeRelation is valid for the selected DlvModeCode.
    /// </summary>
    /// <returns>
    /// true if the DlvModeRelation is a valid one, otherwise false;
    /// </returns>
    private boolean checkDlvModeRelation()
    {
        boolean ok = true;

        switch (this.DlvModeCode)
        {
            case TableGroupAll::Table:
                if (!this.DlvModeRelation)
                {
                    ok = checkFailed("@RET170011");
                }
                break;

            case TableGroupAll::GroupId:
                if (!this.DlvModeRelation)
                {
                    ok = checkFailed("@RET170011");
                }
                break;

            case TableGroupAll::All:
                if (this.DlvModeRelation)
                {
                    ok = checkFailed("@RET170011");
                }
                break;
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>checkItemRelation</Name>
				<Source><![CDATA[
    private boolean checkItemRelation()
    {
        boolean ok = true;

        switch (this.ItemCode)
        {
            case TableGroupAll::Table:
                if (!this.ItemRelation)
                {
                    ok = checkFailed("@SYS17075");
                }
                break;

            case TableGroupAll::GroupId:
                if (!this.ItemRelation)
                {
                    ok = checkFailed("@SYS17075");
                }
                break;

            case TableGroupAll::All:
                if (this.ItemRelation)
                {
                    ok = checkFailed("@SYS17075");
                }
                break;
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>checkRetailChannelRelation</Name>
				<Source><![CDATA[
    /// <summary>
    /// Verifies if the value for RetailChannelRelation is valid for the selected RetailChannelCode.
    /// </summary>
    /// <returns>
    /// True if the RetailChannelRelation is a valid one, otherwise false.
    /// </returns>
    private boolean checkRetailChannelRelation()
    {
        boolean ok = true;

        // If module type not equal to vend, advanced auto charges and feature to filter auto charges based on channel are enabled then run the extra logic.
        if (this.ModuleType != MarkupModuleType::Vend
            && RetailParameters::find().UseAdvancedAutoCharges
            && this.MarkupReturn == ReturnCodeType::None
            && FeatureStateProvider::isFeatureEnabled(RetailFilterAutoChargesByChannelEnableFeature::instance()))
        {
            switch (this.RetailChannelCode)
            {
                case TableGroupAll::Table:
                    if (!this.RetailChannelRelation)
                    {
                        ok = checkFailed("@RetailAutoCharge:RetailChannelCodeCheckFailedMessage");
                    }
                    break;

                case TableGroupAll::GroupId:
                    if (!this.RetailChannelRelation)
                    {
                        ok = checkFailed("@RetailAutoCharge:RetailChannelCodeCheckFailedMessage");
                    }
                    break;

                case TableGroupAll::All:
                    if (this.RetailChannelRelation)
                    {
                        ok = checkFailed("@RetailAutoCharge:RetailChannelCodeCheckFailedMessage");
                    }
                    break;
            }
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>initValue</Name>
				<Source><![CDATA[
    public void initValue()
    {
        super();

        // By default applies to all the delivery modes.
        this.DlvModeCode = TableGroupAll::All;

        // This is to be consistent with logic in RetailFilterAutoChargesByChannelEnableFeature.
        // This has the benefit of ensuring same data interpretation when the advanced auto charge is not enabled.
        if (FeatureStateProvider::isFeatureEnabled(RetailFilterAutoChargesByChannelEnableFeature::instance()))
        {
            this.RetailChannelCode = TableGroupAll::All;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateField</Name>
				<Source><![CDATA[
    boolean validateField(FieldId  fieldId)
    {
        boolean ok = super(fieldId);

        switch (fieldId)
        {
            case fieldNum(MarkupAutoTable, AccountRelation):
                ok = this.checkAccountRelation() && ok;
                break;

            case fieldNum(MarkupAutoTable, ItemRelation):
                ok = this.checkItemRelation() && ok;
                break;

            case fieldNum(MarkupAutoTable, DlvModeRelation):
                ok = this.checkDlvModeRelation() && ok;
                break;

            case fieldNum(MarkupAutoTable, RetailChannelRelation):
                ok = this.checkRetailChannelRelation() && ok;
                break;
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateWrite</Name>
				<Source><![CDATA[
    boolean validateWrite()
    {
        boolean ok = super();

        if (!this.checkItemRelation())
        {
            ok = false;
        }

        if (!this.checkAccountRelation())
        {
            ok = false;
        }

        if (!this.checkDlvModeRelation())
        {
            ok = false;
        }

        if (!this.checkRetailChannelRelation())
        {
            ok = false;
        }

        if (this.ItemCode != TableGroupAll::All && this.DlvModeCode != TableGroupAll::All)
        {
            ok = checkFailed("@SCM:MarkupItemAndDeliverySpecifiedError");
        }

        return ok;
    }

]]></Source>
			</Method>
			<Method>
				<Name>checkExist</Name>
				<Source><![CDATA[
    static boolean checkExist(MarkupModuleCategory     moduleCategory,
                              MarkupModule             module,
                              TableGroupAll            accountCode,
                              CustVendRel              accountRelation,
                              TableGroupAll            itemCode,
                              ItemRelation             itemRelation)
    {
        if (! MarkupAutoTable::exist(moduleCategory,
                                     module,
                                     accountCode,
                                     accountRelation,
                                     itemCode,
                                     itemRelation))
        {
            return checkFailed(MarkupAutoTable::txtNotExist());
        }

        return false;
    }

]]></Source>
			</Method>
			<Method>
				<Name>exist</Name>
				<Source><![CDATA[
    static boolean exist(MarkupModuleCategory  moduleCategory,
                         MarkupModule          module,
                         TableGroupAll         accountCode,
                         CustVendRel           accountRelation,
                         TableGroupAll         itemCode,
                         ItemRelation          itemRelation)
    {
        if (Markup::validateRelation(accountCode, accountRelation)  &&  Markup::validateRelation(itemCode, itemRelation))
        {
            return (select firstonly RecId from markupAutoTable
                        index hint MarkupIdx
                        where markupAutoTable.ModuleCategory    == moduleCategory   &&
                              markupAutoTable.ModuleType        == module           &&
                              markupAutoTable.AccountCode       == accountCode      &&
                              markupAutoTable.AccountRelation   == accountRelation  &&
                              markupAutoTable.ItemCode          == itemCode         &&
                              markupAutoTable.ItemRelation      == itemRelation
                        ).RecId != 0;
        }

        return false;
    }

]]></Source>
			</Method>
			<Method>
				<Name>find</Name>
				<Source><![CDATA[
    [SysObsolete('Use findByNaturalKey() instead.', false, 31\03\2019)]
    static MarkupAutoTable find(MarkupModuleCategory   moduleCategory,
                                 MarkupModule           module,
                                 TableGroupAll          accountCode,
                                 CustVendRel            accountRelation,
                                 TableGroupAll          itemCode,
                                 ItemRelation           itemRelation,
                                 MarkupReturnType       markupReturn = ReturnCodeType::None,
                                 ReturnCode             returnRelation = '',
                                 boolean               _forUpdate = false,
                                 TableGroupAll          dlvModeCode = TableGroupAll::All,
                                 DlvModeRelation        dlvModeRelation = ''
                                )
    {
        MarkupAutoTable  searchParameters;

        searchParameters.ModuleCategory    = moduleCategory;
        searchParameters.ModuleType        = module;
        searchParameters.AccountCode       = accountCode;
        searchParameters.AccountRelation   = accountRelation;
        searchParameters.ItemCode          = itemCode;
        searchParameters.ItemRelation      = itemRelation;
        searchParameters.MarkupReturn      = markupReturn;
        searchParameters.DlvModeCode       = dlvModeCode;
        searchParameters.DlvModeRelation   = dlvModeRelation;
        searchParameters.ReturnRelation    = returnRelation;

        return MarkupAutoTable::findByNaturalKey(searchParameters, _forUpdate);
    }

]]></Source>
			</Method>
			<Method>
				<Name>findByRecId</Name>
				<Source><![CDATA[
    internal static MarkupAutoTable findByRecId(RecId recId)
    {
        MarkupAutoTable found;

        select firstonly found
            where found.recId == recId;
    
        return found;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findByNaturalKey</Name>
				<Source><![CDATA[
    /// <summary>
    /// Finds a <c>MarkupAutoTable</c> record based on provided search parameters.
    /// </summary>
    /// <param name = "_searchParameter">A search parameter.</param>
    /// <param name = "_forUpdate">Whether found record is supposed to be updated.</param>
    /// <returns>A <c>MarkupAutoTable</c> record.</returns>
    [Hookable(false)]
    static public MarkupAutoTable findByNaturalKey(MarkupAutoTable _searchParameter, boolean _forUpdate = false)
    {
        MarkupAutoTable  markupAutoTable;

        markupAutoTable.selectForUpdate(_forUpdate);

        select firstonly markupAutoTable
            index hint MarkupIdx
            where markupAutoTable.ModuleCategory        == _searchParameter.ModuleCategory        &&
                  markupAutoTable.ModuleType            == _searchParameter.ModuleType            &&
                  markupAutoTable.AccountCode           == _searchParameter.AccountCode           &&
                  markupAutoTable.AccountRelation       == _searchParameter.AccountRelation       &&
                  markupAutoTable.ItemCode              == _searchParameter.ItemCode              &&
                  markupAutoTable.ItemRelation          == _searchParameter.ItemRelation          &&
                  markupAutoTable.MarkupReturn          == _searchParameter.MarkupReturn          &&
                  markupAutoTable.DlvModeCode           == _searchParameter.DlvModeCode           &&
                  markupAutoTable.DlvModeRelation       == _searchParameter.DlvModeRelation       &&
                  markupAutoTable.RetailChannelCode     == _searchParameter.RetailChannelCode     &&
                  markupAutoTable.RetailChannelRelation == _searchParameter.RetailChannelRelation &&
                  markupAutoTable.ReturnRelation        == _searchParameter.ReturnRelation        &&
                  markupAutoTable.SHA256Hash            == _searchParameter.hashKey();

        return markupAutoTable;
    }

]]></Source>
			</Method>
			<Method>
				<Name>txtNotExist</Name>
				<Source><![CDATA[
    static TxtNotExist txtNotExist()
    {
        return "@SYS21413";
    }

]]></Source>
			</Method>
			<Method>
				<Name>hashKey</Name>
				<Source><![CDATA[
    /// <summary>
    /// Calculates the hashed key for the number sequence scope.
    /// </summary>
    /// <returns>
    /// A string hash key.
    /// </returns>
    private str hashKey()
    {
        str hashableKey = this.hashableKey();
        str hashString;

        if (hashableKey != '')
        {
            using (System.Security.Cryptography.SHA256 hasher = System.Security.Cryptography.SHA256::Create())
            {
                System.Byte[] hashKeyBytes = System.Text.Encoding::Default.GetBytes(hashableKey);
                System.Byte[] hash = hasher.ComputeHash(hashKeyBytes);
                hashString = System.Convert::ToBase64String(hash);
            }
        }

        return hashString;
    }

]]></Source>
			</Method>
			<Method>
				<Name>hashableKey</Name>
				<Source><![CDATA[
    /// <summary>
    /// Builds the string to calculate the hash key from.
    /// </summary>
    /// <returns>The string to calculate the hash key from.</returns>
    private str hashableKey()
    {
        Set hashFields = this.fieldIdsToHash();

        if (!hashFields.elements())
        {
            return '';
        }

        List hashableKeys = new List(Types::String);

        SetEnumerator hashFieldsEnumerator = hashFields.getEnumerator();

        while (hashFieldsEnumerator.moveNext())
        {
            FieldId fieldId = hashFieldsEnumerator.current();

            if (this.(fieldId))
            {
                str fieldValue = any2Str(this.(fieldId));
                str formattedFieldValue = strLwr(strRTrim(fieldValue));

                if (formattedFieldValue)
                {
                    hashableKeys.addEnd(int2Str(fieldId) + ':' + formattedFieldValue + '~');
                }
            }
        }

        return hashableKeys.toString();
    }

]]></Source>
			</Method>
			<Method>
				<Name>fieldIdsToHash</Name>
				<Source><![CDATA[
    /// <summary>
    /// Determines the set of field Ids that must define the uniqueness of a record in addition to already used ones.
    /// </summary>
    /// <returns>The set of field Ids.</returns>
    protected Set fieldIdsToHash()
    {
        return new Set(Types::Integer);
    }

]]></Source>
			</Method>
			<Method>
				<Name>insert</Name>
				<Source><![CDATA[
    public void insert()
    {
        this.SHA256Hash = this.hashKey();
        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>update</Name>
				<Source><![CDATA[
    public void update()
    {
        this.SHA256Hash = this.hashKey();
        super();
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<ConfigurationKey>Markup</ConfigurationKey>
	<DeveloperDocumentation>@SYS124469</DeveloperDocumentation>
	<FormRef>MarkupAutoSetup</FormRef>
	<Label>@SYS55348</Label>
	<TableGroup>Group</TableGroup>
	<TitleField1>ModuleType</TitleField1>
	<TitleField2>ModuleCategory</TitleField2>
	<AllowRowVersionChangeTracking>Yes</AllowRowVersionChangeTracking>
	<CacheLookup>FoundAndEmpty</CacheLookup>
	<ClusteredIndex>MarkupIdx</ClusteredIndex>
	<CreateRecIdIndex>No</CreateRecIdIndex>
	<Modules>ProcurementAndSourcing</Modules>
	<PrimaryIndex>MarkupIdx</PrimaryIndex>
	<DeleteActions>
		<AxTableDeleteAction>
			<Name>MarkupAutoLine</Name>
			<DeleteAction>Cascade</DeleteAction>
			<Relation></Relation>
			<Table>MarkupAutoLine</Table>
		</AxTableDeleteAction>
	</DeleteActions>
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>ModuleType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ModuleCategory</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AccountCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AccountRelation</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ItemCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ItemRelation</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AccountRelation</Name>
			<Label>@SYS265</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>AccountCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>AccountRelation</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>Administration</Name>
			<Label>@SYS9853</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>ModuleType</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ModuleCategory</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>All</Name>
			<Label>@SYS80094</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>RetailConcessionFeeLegacy</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>DlvModeRelation</Name>
			<Label>@RET170017</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>DlvModeCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>DlvModeRelation</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>ItemRelation</Name>
			<Label>@SYS8631</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>ItemCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ItemRelation</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>MarkupReturn</Name>
			<Label>@SYS16512</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>MarkupReturn</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>ReturnRelation</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>RetailChannelRelation</Name>
			<Label>@RetailAutoCharge:RetailChannelRelationLabel</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>RetailChannelCode</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>RetailChannelRelation</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>AccountCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupAccountCode</ExtendedDataType>
			<EnumType>TableGroupAll</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>AccountRelation</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>CustVendRel</ExtendedDataType>
			<Label>@SYS265</Label>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>DlvModeCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupDlvModeCode</ExtendedDataType>
			<EnumType>TableGroupAll</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>DlvModeRelation</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>DlvModeRelation</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>ItemCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupItemCode</ExtendedDataType>
			<EnumType>TableGroupAll</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ItemRelation</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ItemRelation</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>MarkupReturn</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupReturnType</ExtendedDataType>
			<EnumType>ReturnCodeType</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>ModuleCategory</Name>
			<AllowEdit>No</AllowEdit>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupModuleCategory</ExtendedDataType>
			<EnumType>HeadingLine</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>ModuleType</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupModule</ExtendedDataType>
			<EnumType>MarkupModuleType</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>ReturnRelation</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>ReturnCode</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>RetailConcessionFeeLegacy</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ConfigurationKey>RetailCDXBackwardCompatibility</ConfigurationKey>
			<HelpText>@RET769</HelpText>
			<Label>@RET770</Label>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>RetailConcessionFee</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ConfigurationKey>SysDeletedObjects70</ConfigurationKey>
			<HelpText>@RET769</HelpText>
			<Label>@RET770</Label>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>SHA256Hash</Name>
			<AssetClassification>System Metadata</AssetClassification>
			<Label>@GLS180550</Label>
			<Visible>No</Visible>
			<StringSize>64</StringSize>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>RetailAdvancedChargesDeliveryProrate</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailAdvancedChargesDeliveryProrate</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldEnum">
			<Name>RetailChannelCode</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>RetailChannelCode</ExtendedDataType>
			<EnumType>TableGroupAll</EnumType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>RetailChannelRelation</Name>
			<ExtendedDataType>RetailChannelRelation</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldString">
			<Name>Description</Name>
			<AssetClassification>Customer Content</AssetClassification>
			<ExtendedDataType>MarkupAutoTableDescription</ExtendedDataType>
		</AxTableField>
	</Fields>
	<FullTextIndexes />
	<Indexes>
		<AxTableIndex>
			<Name>MarkupIdx</Name>
			<AlternateKey>Yes</AlternateKey>
			<Fields>
				<AxTableIndexField>
					<DataField>ModuleCategory</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>ModuleType</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>ItemCode</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>ItemRelation</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>AccountCode</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>AccountRelation</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>MarkupReturn</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>ReturnRelation</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>DlvModeCode</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>DlvModeRelation</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>RetailChannelCode</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>RetailChannelRelation</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>SHA256Hash</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
	</Indexes>
	<Mappings />
	<Relations>
		<AxTableRelation>
			<Name>CustGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>MarkupGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>CustGroup</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>MarkupAutoTable</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintRelatedFixed">
					<Name>Module_Extern</Name>
					<RelatedField>Module</RelatedField>
					<ValueStr>MarkupModuleType::Cust</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Cust</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>AccountCode</Name>
					<Field>AccountCode</Field>
					<ValueStr>TableGroupAll::GroupId</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AccountRelation</Name>
					<Field>AccountRelation</Field>
					<RelatedField>GroupId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>CustTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Cascade</OnDelete>
			<RelatedTable>CustTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Cust</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>AccountCode</Name>
					<Field>AccountCode</Field>
					<ValueStr>TableGroupAll::Table</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AccountRelation</Name>
					<Field>AccountRelation</Field>
					<RelatedField>AccountNum</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>DeliveryCustGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>MarkupGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>DeliveryCustGroup</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>MarkupAutoTable</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintRelatedFixed">
					<Name>Module_Extern</Name>
					<RelatedField>Module</RelatedField>
					<ValueStr>MarkupModuleType::Cust</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Delivery</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>AccountCode</Name>
					<Field>AccountCode</Field>
					<ValueStr>TableGroupAll::GroupId</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AccountRelation</Name>
					<Field>AccountRelation</Field>
					<RelatedField>GroupId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>DeliveryCustTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Cascade</OnDelete>
			<RelatedTable>CustTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>DeliveryCustTable</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>MarkupAutoTable</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Delivery</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>AccountCode</Name>
					<Field>AccountCode</Field>
					<ValueStr>TableGroupAll::Table</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AccountRelation</Name>
					<Field>AccountRelation</Field>
					<RelatedField>AccountNum</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>DlvModeGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>MarkupGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>DlvModeRelation</Name>
					<Field>DlvModeRelation</Field>
					<RelatedField>GroupId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>DlvModeCode</Name>
					<Field>DlvModeCode</Field>
					<ValueStr>TableGroupAll::GroupId</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintRelatedFixed">
					<Name>Module_Extern</Name>
					<RelatedField>Module</RelatedField>
					<ValueStr>MarkupModuleType::Delivery</ValueStr>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>DlvModeTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>DlvMode</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>DlvModeRelation</Name>
					<Field>DlvModeRelation</Field>
					<RelatedField>Code</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>DlvModeCode</Name>
					<Field>DlvModeCode</Field>
					<ValueStr>TableGroupAll::Table</ValueStr>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>InventGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>MarkupGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>InventGroup</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>MarkupAutoTable</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintRelatedFixed">
					<Name>Module_Extern</Name>
					<RelatedField>Module</RelatedField>
					<ValueStr>MarkupModuleType::Invent</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ItemCode</Name>
					<Field>ItemCode</Field>
					<ValueStr>TableGroupAll::GroupId</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ItemRelation</Name>
					<Field>ItemRelation</Field>
					<RelatedField>GroupId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>InventTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>InventTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ItemCode</Name>
					<Field>ItemCode</Field>
					<ValueStr>TableGroupAll::Table</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ItemRelation</Name>
					<Field>ItemRelation</Field>
					<RelatedField>ItemId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ReturnDispositionCode</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>ReturnDispositionCode</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleCategory</Name>
					<Field>ModuleCategory</Field>
					<ValueStr>HeadingLine::Line</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>MarkupReturn</Name>
					<Field>MarkupReturn</Field>
					<ValueStr>ReturnCodeType::Disposition</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Cust</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ReturnRelation</Name>
					<Field>ReturnRelation</Field>
					<RelatedField>DispositionCodeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>ReturnReasonCode</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>ReturnReasonCode</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleCategory</Name>
					<Field>ModuleCategory</Field>
					<ValueStr>HeadingLine::Heading</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>MarkupReturn</Name>
					<Field>MarkupReturn</Field>
					<ValueStr>ReturnCodeType::Reason</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Cust</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>ReturnRelation</Name>
					<Field>ReturnRelation</Field>
					<RelatedField>ReasonCodeId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>VendGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Restricted</OnDelete>
			<RelatedTable>MarkupGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelatedTableRole>VendGroup</RelatedTableRole>
			<RelationshipType>Association</RelationshipType>
			<Role>MarkupAutoTable</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintRelatedFixed">
					<Name>Module_Extern</Name>
					<RelatedField>Module</RelatedField>
					<ValueStr>MarkupModuleType::Vend</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Vend</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>AccountCode</Name>
					<Field>AccountCode</Field>
					<ValueStr>TableGroupAll::GroupId</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AccountRelation</Name>
					<Field>AccountRelation</Field>
					<RelatedField>GroupId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>VendTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<OnDelete>Cascade</OnDelete>
			<RelatedTable>VendTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>ModuleType</Name>
					<Field>ModuleType</Field>
					<ValueStr>MarkupModuleType::Vend</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>AccountCode</Name>
					<Field>AccountCode</Field>
					<ValueStr>TableGroupAll::Table</ValueStr>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>AccountRelation</Name>
					<Field>AccountRelation</Field>
					<RelatedField>AccountNum</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>RetailChannelGroup</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>RetailMarkupAutoChannelGroup</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RetailChannelRelation</Name>
					<Field>RetailChannelRelation</Field>
					<RelatedField>RetailChannelRelation</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RetailChannelCode</Name>
					<Field>RetailChannelCode</Field>
					<ValueStr>TableGroupAll::GroupId</ValueStr>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
		<AxTableRelation>
			<Name>RetailChannelTable</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>RetailChannelTable</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>RetailChannelRelation</Name>
					<Field>RetailChannelRelation</Field>
					<RelatedField>RetailChannelId</RelatedField>
				</AxTableRelationConstraint>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintFixed">
					<Name>RetailChannelCode</Name>
					<Field>RetailChannelCode</Field>
					<ValueStr>TableGroupAll::Table</ValueStr>
				</AxTableRelationConstraint>
			</Constraints>
		</AxTableRelation>
	</Relations>
	<StateMachines />
</AxTable>