<?xml version="1.0" encoding="utf-8"?>
<AxClass xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder</Name>
	<SourceCode>
		<Declaration><![CDATA[
/// <summary>
/// The <c>InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder</c> class is used to create the <c>InventWarehouseOnHandIncludingCWItemAggregatedView</c> view.
/// </summary>
public class InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder extends InventOnHandAggregatedViewBuilder
{
    private TableName       aggregatedViewName;
    private SysDictView     inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary;
    private SysDictView     inventWarehouseOnHandIncludingCWItemViewDictionary;  

}
]]></Declaration>
		<Methods>
			<Method>
				<Name>buildView</Name>
				<Source><![CDATA[
    [Hookable(false), Wrappable(false)]
    public static void buildView()
    {
        #OCCRetryCount
        try
        {
            InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder::construct().createSqlObjects();
        }
        catch (Exception::Deadlock)
        {
            if (xSession::currentRetryCount() >= #RetryNum)
            {
                throw Exception::Deadlock;
            }
            else
            {
                retry;
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>parmViewName</Name>
				<Source><![CDATA[
    protected TableName parmViewName()
    {
        return aggregatedViewName;
    }

]]></Source>
			</Method>
			<Method>
				<Name>parmSourceViewName</Name>
				<Source><![CDATA[
    protected TableName parmSourceViewName()
    {
        return inventWarehouseOnHandIncludingCWItemViewDictionary.name(DbBackend::Sql);
    }

]]></Source>
			</Method>
			<Method>
				<Name>buildViewSqlSelectStatement</Name>
				<Source><![CDATA[
    /// <summary>
    /// Builds a select SQl statement to query for inventory on-hand by warehouse data.
    /// </summary>
    /// <returns>SQL statement to retrieve inventory on-hand by warehouse data.</returns>
    /// <remarks>
    /// Creates the following SQL statement:
    /// SELECT InventWarehouseOnHandIncludingCWItemView.ITEMNUMBER AS ITEMNUMBER
    ///     ,InventWarehouseOnHandIncludingCWItemView.PRODUCTNAME AS PRODUCTNAME
    ///     ,InventWarehouseOnHandIncludingCWItemView.INVENTORYSITEID AS INVENTORYSITEID
    ///     ,InventWarehouseOnHandIncludingCWItemView.INVENTORYWAREHOUSEID AS INVENTORYWAREHOUSEID
    ///     ,InventWarehouseOnHandIncludingCWItemView.PRODUCTCOLORID AS PRODUCTCOLORID
    ///     ,InventWarehouseOnHandIncludingCWItemView.PRODUCTCONFIGURATIONID AS PRODUCTCONFIGURATIONID
    ///     ,InventWarehouseOnHandIncludingCWItemView.PRODUCTSIZEID AS PRODUCTSIZEID
    ///     ,InventWarehouseOnHandIncludingCWItemView.PRODUCTSTYLEID AS PRODUCTSTYLEID
    ///     ,InventWarehouseOnHandIncludingCWItemView.PRODUCTVERSIONID AS PRODUCTVERSIONID
    ///     ,InventWarehouseOnHandIncludingCWItemView.ONHANDQUANTITY AS ONHANDQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWONHANDQUANTITY AS PDSCWONHANDQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.RESERVEDONHANDQUANTITY AS RESERVEDONHANDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWRESERVONHANDQUANTITY AS PDSCWRESERVONHANDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.AVAILABLEONHANDQUANTITY AS AVAILABLEONHANDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWAVAILONHANDQUANTITY AS PDSCWAVAILONHANDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.ORDEREDQUANTITY AS ORDEREDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWORDEREDQUANTITY AS PDSCWORDEREDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.RESERVEDORDEREDQUANTITY AS RESERVEDORDEREDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWRESERVORDEREDQUANTITY AS PDSCWRESERVORDEREDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.AVAILABLEORDEREDQUANTITY AS AVAILABLEORDEREDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWAVAILABLEORDEREDQUANTITY AS PDSCWAVAILABLEORDEREDQUANTITYMAPPED
    ///     ,InventWarehouseOnHandIncludingCWItemView.ONORDERQUANTITY AS ONORDERQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWONORDERQUANTITY AS PDSCWONORDERQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.TOTALAVAILABLEQUANTITY AS TOTALAVAILABLEQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.PDSCWTOTALAVAILABLEQUANTITY AS PDSCWTOTALAVAILABLEQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.AREWAREHOUSEMANAGEMENTPROCESSESUSED AS AREWAREHOUSEMANAGEMENTPROCESSESUSED
    ///     ,CALCULATIONS.RESERVEDONHANDQUANTITY AS RESERVEDONHANDQUANTITY
    ///     ,CALCULATIONS.PDSCWRESERVONHANDQUANTITY AS PDSCWRESERVONHANDQUANTITY
    ///     ,(InventWarehouseOnHandIncludingCWItemView.ONHANDQUANTITY - CALCULATIONS.RESERVEDONHANDQUANTITY) AS AVAILABLEONHANDQUANTITY
    ///     ,(InventWarehouseOnHandIncludingCWItemView.PDSCWONHANDQUANTITY - CALCULATIONS.PDSCWRESERVONHANDQUANTITY) AS PDSCWAVAILONHANDQUANTITY
    ///     ,CALCULATIONS.ORDEREDQUANTITY AS ORDEREDQUANTITY
    ///     ,CALCULATIONS.PDSCWORDEREDQUANTITY AS PDSCWORDEREDQUANTITY
    ///     ,CALCULATIONS.RESERVEDORDEREDQUANTITY AS RESERVEDORDEREDQUANTITY
    ///     ,CALCULATIONS.PDSCWRESERVORDEREDQUANTITY AS PDSCWRESERVORDEREDQUANTITY
    ///     ,(CALCULATIONS.ORDEREDQUANTITY - CALCULATIONS.RESERVEDORDEREDQUANTITY) AS AVAILABLEORDEREDQUANTITY
    ///     ,(CALCULATIONS.PDSCWORDEREDQUANTITY - CALCULATIONS.PDSCWRESERVORDEREDQUANTITY) AS PDSCWAVAILABLEORDEREDQUANTITY
    ///     ,InventWarehouseOnHandIncludingCWItemView.RECID AS RECID
    ///     ,InventWarehouseOnHandIncludingCWItemView.DATAAREAID AS DATAAREAID
    ///     ,InventWarehouseOnHandIncludingCWItemView.PARTITION AS PARTITION
    /// FROM InventWarehouseOnHandIncludingCWItemView
    /// CROSS APPLY (
    ///     SELECT COALESCE(SUM(WHSINVENTRESERVE.RESERVPHYSICAL), 0) AS RESERVPHYSICAL
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.RESERVORDERED), 0) AS RESERVORDERED
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.AVAILORDERED), 0) AS AVAILORDERED
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.AVAILPHYSICAL), 0) AS AVAILPHYSICAL
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.CWRESERVPHYSICAL), 0) AS CWRESERVPHYSICAL
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.CWRESERVORDERED), 0) AS CWRESERVORDERED
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.CWAVAILORDERED), 0) AS CWAVAILORDERED
    ///         ,COALESCE(SUM(WHSINVENTRESERVE.CWAVAILPHYSICAL), 0) AS CWAVAILPHYSICAL
    ///     FROM WHSINVENTRESERVE
    ///     WHERE WHSINVENTRESERVE.ITEMID = InventWarehouseOnHandIncludingCWItemView.ITEMNUMBER
    ///         AND WHSINVENTRESERVE.PARTITION = InventWarehouseOnHandIncludingCWItemView.PARTITION
    ///         AND WHSINVENTRESERVE.DATAAREAID = InventWarehouseOnHandIncludingCWItemView.DATAAREAID
    ///         AND EXISTS (
    ///             SELECT TOP 1 INVENTDIM.INVENTDIMID
    ///             FROM INVENTDIM
    ///             WHERE INVENTDIM.DATAAREAID = WHSINVENTRESERVE.DATAAREAID
    ///                 AND INVENTDIM.INVENTDIMID = WHSINVENTRESERVE.INVENTDIMID
    ///                 AND INVENTDIM.PARTITION = WHSINVENTRESERVE.PARTITION
    ///                 AND (
    ///                     INVENTDIM.INVENTSITEID = InventWarehouseOnHandIncludingCWItemView.INVENTORYSITEID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.INVENTORYSITEID = ''
    ///                     )
    ///                 AND (
    ///                     INVENTDIM.INVENTLOCATIONID = InventWarehouseOnHandIncludingCWItemView.INVENTORYWAREHOUSEID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.INVENTORYWAREHOUSEID = ''
    ///                     )
    ///                 AND (
    ///                     INVENTDIM.INVENTCOLORID = InventWarehouseOnHandIncludingCWItemView.PRODUCTCOLORID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.PRODUCTCOLORID = ''
    ///                     )
    ///                 AND (
    ///                     INVENTDIM.CONFIGID = InventWarehouseOnHandIncludingCWItemView.PRODUCTCONFIGURATIONID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.PRODUCTCONFIGURATIONID = ''
    ///                     )
    ///                 AND (
    ///                     INVENTDIM.INVENTSIZEID = InventWarehouseOnHandIncludingCWItemView.PRODUCTSIZEID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.PRODUCTSIZEID = ''
    ///                     )
    ///                 AND (
    ///                     INVENTDIM.INVENTSTYLEID = InventWarehouseOnHandIncludingCWItemView.PRODUCTSTYLEID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.PRODUCTSTYLEID = ''
    ///                     )
    ///                 AND (
    ///                     INVENTDIM.INVENTVERSIONID = InventWarehouseOnHandIncludingCWItemView.PRODUCTVERSIONID
    ///                     OR InventWarehouseOnHandIncludingCWItemView.PRODUCTVERSIONID = ''
    ///                     )
    ///                 AND WHSINVENTRESERVE.HIERARCHYLEVEL = (
    ///                     SELECT MAX(WHSRESERVATIONHIERARCHYELEMENT.RESERVATIONHIERARCHYLEVEL)
    ///                     FROM WHSRESERVATIONHIERARCHYELEMENT
    ///                     JOIN WHSRESERVATIONHIERARCHYITEM ON WHSRESERVATIONHIERARCHYITEM.ITEMDATAAREAID = InventWarehouseOnHandIncludingCWItemView.DATAAREAID
    ///                         AND WHSRESERVATIONHIERARCHYELEMENT.PARTITION = InventWarehouseOnHandIncludingCWItemView.PARTITION
    ///                         AND WHSRESERVATIONHIERARCHYELEMENT.RESERVATIONHIERARCHY = WHSRESERVATIONHIERARCHYITEM.RESERVATIONHIERARCHY
    ///                         AND WHSRESERVATIONHIERARCHYITEM.ITEMID = InventWarehouseOnHandIncludingCWItemView.ITEMNUMBER
    ///                     WHERE (
    ///                             WHSRESERVATIONHIERARCHYELEMENT.DIMENSIONFIELDID = 10
    ///                             AND InventWarehouseOnHandIncludingCWItemView.INVENTORYSITEID != ''
    ///                             )
    ///                         OR (
    ///                             WHSRESERVATIONHIERARCHYELEMENT.DIMENSIONFIELDID = 6
    ///                             AND InventWarehouseOnHandIncludingCWItemView.INVENTORYWAREHOUSEID != ''
    ///                             )
    ///                     )
    ///             )
    ///     ) INVENTRESERVES
    /// CROSS APPLY (
    ///     SELECT (
    ///             CASE
    ///                 WHEN InventWarehouseOnHandIncludingCWItemView.AREWAREHOUSEMANAGEMENTPROCESSESUSED = 1
    ///                     THEN INVENTRESERVES.AVAILORDERED + INVENTRESERVES.RESERVORDERED - INVENTRESERVES.AVAILPHYSICAL
    ///                 ELSE InventWarehouseOnHandIncludingCWItemView.ORDEREDQUANTITY
    ///                 END
    ///             ) AS ORDEREDQUANTITY
    ///         ,(
    ///             CASE
    ///                 WHEN INVENTWAREHOUSEONHANDINCLUDINGCWITEMVIEW.AREWAREHOUSEMANAGEMENTPROCESSESUSED = 1 
    ///                     THEN INVENTRESERVES.CWAVAILORDERED + INVENTRESERVES.CWRESERVORDERED - INVENTRESERVES.CWAVAILPHYSICAL
    ///                 ELSE INVENTWAREHOUSEONHANDINCLUDINGCWITEMVIEW.PDSCWORDEREDQUANTITY
    ///                 END
    ///             ) AS PDSCWORDEREDQUANTITY
    ///         ,(
    ///             CASE
    ///                 WHEN InventWarehouseOnHandIncludingCWItemView.AREWAREHOUSEMANAGEMENTPROCESSESUSED = 1
    ///                     THEN INVENTRESERVES.RESERVORDERED
    ///                 ELSE InventWarehouseOnHandIncludingCWItemView.RESERVEDORDEREDQUANTITY
    ///                 END
    ///             ) AS RESERVEDORDEREDQUANTITY
    ///         ,(
    ///             CASE
    ///                 WHEN INVENTWAREHOUSEONHANDINCLUDINGCWITEMVIEW.AREWAREHOUSEMANAGEMENTPROCESSESUSED = 1 
    ///                     THEN INVENTRESERVES.CWRESERVORDERED
    ///                 ELSE INVENTWAREHOUSEONHANDINCLUDINGCWITEMVIEW.PDSCWRESERVORDEREDQUANTITY
    ///                 END
    ///             ) AS PDSCWRESERVORDEREDQUANTITY
    ///         ,(
    ///             CASE
    ///                 WHEN InventWarehouseOnHandIncludingCWItemView.AREWAREHOUSEMANAGEMENTPROCESSESUSED = 1
    ///                     THEN INVENTRESERVES.RESERVPHYSICAL
    ///                 ELSE InventWarehouseOnHandIncludingCWItemView.RESERVEDONHANDQUANTITY
    ///                 END
    ///             ) AS RESERVEDONHANDQUANTITY
    ///         ,(
    ///             CASE
    ///                 WHEN INVENTWAREHOUSEONHANDINCLUDINGCWITEMVIEW.AREWAREHOUSEMANAGEMENTPROCESSESUSED = 1
    ///                     THEN INVENTRESERVES.CWRESERVPHYSICAL
    ///                 ELSE INVENTWAREHOUSEONHANDINCLUDINGCWITEMVIEW.PDSCWRESERVONHANDQUANTITY
    ///                 END
    ///             ) AS PDSCWRESERVONHANDQUANTITY
    ///     ) CALCULATIONS

    /// </remarks>
    protected SysSQLStatementText buildViewSqlSelectStatement()
    {
        FieldName sourceItemNumberFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ItemNumber));
        FieldName asItemNumberFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ItemNumber), true);

        FieldName sourceProductNameFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ProductName));
        FieldName asProductNameFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ProductName), true);

        FieldName sourceOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, OnHandQuantity));
        FieldName asOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, OnHandQuantity), true);

        FieldName sourcePdsCWOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWOnHandQuantity));
        FieldName asPdsCWOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOnHandQuantity), true);

        FieldName sourceReservedOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ReservedOnHandQuantity));
        FieldName asReservedOnHandQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ReservedOnHandQuantityMapped), true);

        FieldName sourcePdsCWReservOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWReservOnHandQuantity));
        FieldName asPdsCWReservOnHandQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOnHandQuantityMapped), true);

        FieldName sourceAvailableOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, AvailableOnHandQuantity));
        FieldName asAvailableOnHandQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, AvailableOnHandQuantityMapped), true);

        FieldName sourcePdsCWAvailOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWAvailOnHandQuantity));
        FieldName asPdsCWAvailOnHandQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailOnHandQuantityMapped), true);

        FieldName sourceOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, OrderedQuantity));
        FieldName asOrderedQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, OrderedQuantityMapped), true);

        FieldName sourcePdsCWOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWOrderedQuantity));
        FieldName asPdsCWOrderedQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOrderedQuantityMapped), true);

        FieldName sourceReservedOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ReservedOrderedQuantity));
        FieldName asReservedOrderedQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ReservedOrderedQuantityMapped), true);

        FieldName sourcePdsCWReservOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWReservOrderedQuantity));
        FieldName asPdsCWReservOrderedQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOrderedQuantityMapped), true);

        FieldName sourceAvailableOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, AvailableOrderedQuantity));
        FieldName asAvailableOrderedQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, AvailableOrderedQuantityMapped), true);

        FieldName sourcePdsCWAvailableOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWAvailableOrderedQuantity));
        FieldName asPdsCWAvailableOrderedQuantityMappedFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailableOrderedQuantityMapped), true);

        FieldName sourceOnOrderQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, OnOrderQuantity));
        FieldName asOnOrderQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, OnOrderQuantity), true);

        FieldName sourcePdsCWOnOrderQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWOnOrderQuantity));
        FieldName asPdsCWOnOrderQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOnOrderQuantity), true);

        FieldName sourceTotalAvailableQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, TotalAvailableQuantity));
        FieldName asTotalAvailableQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, TotalAvailableQuantity), true);

        FieldName sourcePdsCWTotalAvailableQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, PdsCWTotalAvailableQuantity));
        FieldName asPdsCWTotalAvailableQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWTotalAvailableQuantity), true);

        FieldName sourceAreWarehouseManagementProcessesUsedFieldExpression;
        FieldName isWhsItemFieldAlias;

        if (this.isConfigurationKeyEnabledForEdt(new SysDictType(extendedTypeNum(WHSIsItemWHSEnabled))))
        {
            sourceAreWarehouseManagementProcessesUsedFieldExpression = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, AreWarehouseManagementProcessesUsed));
            isWhsItemFieldAlias = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, AreWarehouseManagementProcessesUsed), true);
        }
        else
        {
            sourceAreWarehouseManagementProcessesUsedFieldExpression = '0';
            isWhsItemFieldAlias = fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, AreWarehouseManagementProcessesUsed);
        }

        str isWhsItemExpression = this.as(sourceAreWarehouseManagementProcessesUsedFieldExpression, isWhsItemFieldAlias);

        FieldName sourceRecIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, RecId));
        FieldName asRecIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, RecId), true);

        FieldName sourceDataAreaIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, DataAreaId));
        FieldName asDataAreaIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, DataAreaId), true);

        FieldName sourcePartitionFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, Partition));
        FieldName asPartitionFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, Partition), true);

        FieldName asReservedOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ReservedOnHandQuantity), true);
        FieldName asPdsCWReservOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOnHandQuantity), true);
        FieldName asAvailableOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, AvailableOnHandQuantity), true);
        FieldName asPdsCWAvailOnHandQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailOnHandQuantity), true);
        FieldName asOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, OrderedQuantity), true);
        FieldName asPdsCWOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOrderedQuantity), true);
        FieldName asReservedOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ReservedOrderedQuantity), true);
        FieldName asPdsCWReservOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOrderedQuantity), true);
        FieldName asAvailableOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, AvailableOrderedQuantity), true);
        FieldName asPdsCWAvailableOrderedQuantityFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailableOrderedQuantity), true);
        
        FieldName sourcePartitionFullFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, Partition));
        FieldName sourceDataAreaIdFullFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, DataAreaId));
        
        return 'SELECT ' +
            this.buildExtensionFields() +
            this.as(sourceItemNumberFieldName, asItemNumberFieldName) + ', ' +
            this.as(sourceProductNameFieldName, asProductNameFieldName) + ', ' +
            this.inventoryDimensionsToSelectFromSource() +
            this.as(sourceOnHandQuantityFieldName, asOnHandQuantityFieldName) + ', ' +
            this.pdsAs(sourcePdsCWOnHandQuantityFieldName, asPdsCWOnHandQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOnHandQuantity)) + ', ' +
            this.as(sourceReservedOnHandQuantityFieldName, asReservedOnHandQuantityMappedFieldName) + ', ' +
            this.pdsAs(sourcePdsCWReservOnHandQuantityFieldName, asPdsCWReservOnHandQuantityMappedFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOnHandQuantityMapped)) + ', ' +
            this.as(sourceAvailableOnHandQuantityFieldName, asAvailableOnHandQuantityMappedFieldName) + ', ' +
            this.pdsAs(sourcePdsCWAvailOnHandQuantityFieldName, asPdsCWAvailOnHandQuantityMappedFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailOnHandQuantityMapped)) + ', ' +
            this.as(sourceOrderedQuantityFieldName, asOrderedQuantityMappedFieldName) + ', ' +
            this.pdsAs(sourcePdsCWOrderedQuantityFieldName, asPdsCWOrderedQuantityMappedFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOrderedQuantityMapped)) + ', ' +
            this.as(sourceReservedOrderedQuantityFieldName, asReservedOrderedQuantityMappedFieldName) + ', ' +
            this.pdsAs(sourcePdsCWReservOrderedQuantityFieldName, asPdsCWReservOrderedQuantityMappedFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOrderedQuantityMapped)) + ', ' +
            this.as(sourceAvailableOrderedQuantityFieldName, asAvailableOrderedQuantityMappedFieldName) + ', ' +
            this.pdsAs(sourcePdsCWAvailableOrderedQuantityFieldName, asPdsCWAvailableOrderedQuantityMappedFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailableOrderedQuantityMapped)) + ', ' +
            this.as(sourceOnOrderQuantityFieldName, asOnOrderQuantityFieldName) + ', ' +
            this.pdsAs(sourcePdsCWOnOrderQuantityFieldName, asPdsCWOnOrderQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOnOrderQuantity)) + ', ' +
            this.as(sourceTotalAvailableQuantityFieldName, asTotalAvailableQuantityFieldName) + ', ' +
            this.pdsAs(sourcePdsCWTotalAvailableQuantityFieldName, asPdsCWTotalAvailableQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWTotalAvailableQuantity)) + ', ' +
            isWhsItemExpression + ', ' +
            this.as(
                this.buildFullFieldName(CalculationsSubQueryAlias, asReservedOnHandQuantityFieldName),
                asReservedOnHandQuantityFieldName) + ', ' +
            this.pdsAs(
                this.buildFullFieldName(CalculationsSubQueryAlias, asPdsCWReservOnHandQuantityFieldName),
                asPdsCWReservOnHandQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOnHandQuantity)) + ', ' +
            this.as(
                this.availableOnHandQuantityExpression(sourceOnHandQuantityFieldName, asReservedOnHandQuantityFieldName),
                asAvailableOnHandQuantityFieldName) + ', ' +
            this.pdsAs(
                this.availableOnHandQuantityExpression(sourcePdsCWOnHandQuantityFieldName, asPdsCWReservOnHandQuantityFieldName),
                asPdsCWAvailOnHandQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailOnHandQuantity)) + ', ' +
            this.as(
                this.buildFullFieldName(CalculationsSubQueryAlias, asOrderedQuantityFieldName),
                asOrderedQuantityFieldName) + ', ' +
            this.pdsAs(
                this.buildFullFieldName(CalculationsSubQueryAlias, asPdsCWOrderedQuantityFieldName),
                asPdsCWOrderedQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOrderedQuantity)) + ', ' +
            this.as(
                this.buildFullFieldName(CalculationsSubQueryAlias, asReservedOrderedQuantityFieldName),
                asReservedOrderedQuantityFieldName) + ', ' +
            this.pdsAs(
                this.buildFullFieldName(CalculationsSubQueryAlias, asPdsCWReservOrderedQuantityFieldName),
                asPdsCWReservOrderedQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOrderedQuantity)) + ', ' +
            this.as(
                this.availableOrderedQuantityExpression(asOrderedQuantityFieldName, asReservedOrderedQuantityFieldName),
                asAvailableOrderedQuantityFieldName) + ', ' +
            this.pdsAs(
                this.availableOrderedQuantityExpression(asPdsCWOrderedQuantityFieldName, asPdsCWReservOrderedQuantityFieldName),
                asPdsCWAvailableOrderedQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWAvailableOrderedQuantity)) + ', ' +
            this.as(sourceRecIdFieldName, asRecIdFieldName) + ', ' +
            this.as(sourceDataAreaIdFieldName, asDataAreaIdFieldName) + ', ' +
            this.as(sourcePartitionFieldName, asPartitionFieldName) +
            ' FROM ' + inventWarehouseOnHandIncludingCWItemViewDictionary.name(DbBackend::Sql) +
            ' CROSS APPLY ( ' + this.inventReserveSelectStatement(sourceDataAreaIdFullFieldName, sourcePartitionFullFieldName, sourceItemNumberFieldName) +
            ') ' + InventReserveSubQueryAlias +
            ' CROSS APPLY (' +
            '   SELECT ' +
            this.as(
                this.orderedQuantityExpression(sourceOrderedQuantityFieldName, sourceAreWarehouseManagementProcessesUsedFieldExpression),
                asOrderedQuantityFieldName)  + ', ' +
            this.pdsAs(
                this.whsCWOrderedQuantityExpression(sourcePdsCWOrderedQuantityFieldName, sourceAreWarehouseManagementProcessesUsedFieldExpression),
                asPdsCWOrderedQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWOrderedQuantity))  + ', ' +
            this.as(
                this.reservedOrderedQuantityExpression(sourceReservedOrderedQuantityFieldName, sourceAreWarehouseManagementProcessesUsedFieldExpression),
                asReservedOrderedQuantityFieldName) + ', ' +
            this.pdsAs(
                this.whsCWReservedOrderedQuantityExpression(sourcePdsCWReservOrderedQuantityFieldName, sourceAreWarehouseManagementProcessesUsedFieldExpression),
                asPdsCWReservOrderedQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOrderedQuantity)) + ', ' +
            this.as(
                this.reservedOnHandQuantityExpression(sourceReservedOnHandQuantityFieldName, sourceAreWarehouseManagementProcessesUsedFieldExpression),
                asReservedOnHandQuantityFieldName) + ', ' +
            this.pdsAs(
                this.whsCWReservedOnHandQuantityExpression(sourcePdsCWReservOnHandQuantityFieldName, sourceAreWarehouseManagementProcessesUsedFieldExpression),
                asPdsCWReservOnHandQuantityFieldName, fieldStr(InventWarehouseOnHandIncludingCWItemAggregatedView, PdsCWReservOnHandQuantity)) + ') ' + CalculationsSubQueryAlias;
    }

]]></Source>
			</Method>
			<Method>
				<Name>initInventDimensionsMetadataEntries</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes metadata regarding used inventory dimension fields.
    /// </summary>
    protected void initInventDimensionsMetadataEntries()
    {
        if (isConfigurationkeyEnabled(configurationKeyNum(Config)))
        {
            FieldName sourceProductConfigurationIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ProductConfigurationId));
            FieldName asProductConfigurationIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ProductConfigurationId), true);
            this.addInventDimensionMetadata(asProductConfigurationIdFieldName, sourceProductConfigurationIdFieldName, fieldNum(InventDim, configId));
        }

        if (isConfigurationkeyEnabled(configurationKeyNum(EcoResProductColor)))
        {
            FieldName sourceProductColorIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ProductColorId));
            FieldName asProductColorIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ProductColorId), true);
            this.addInventDimensionMetadata(asProductColorIdFieldName, sourceProductColorIdFieldName, fieldNum(InventDim, InventColorId));
        }

        if (isConfigurationkeyEnabled(configurationKeyNum(EcoResProductSize)))
        {
            FieldName sourceProductSizeIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ProductSizeId));
            FieldName asProductSizeIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ProductSizeId), true);
            this.addInventDimensionMetadata(asProductSizeIdFieldName, sourceProductSizeIdFieldName, fieldNum(InventDim, InventSizeId));
        }

        if (isConfigurationkeyEnabled(configurationKeyNum(EcoResProductStyle)))
        {
            FieldName sourceProductStyleIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ProductStyleId));
            FieldName asProductStyleIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ProductStyleId), true);
            this.addInventDimensionMetadata(asProductStyleIdFieldName, sourceProductStyleIdFieldName, fieldNum(InventDim, InventStyleId));
        }

        if (isConfigurationkeyEnabled(configurationKeyNum(EcoResProductVersion)))
        {
            FieldName sourceProductVersionIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, ProductVersionId));
            FieldName asProductVersionIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, ProductVersionId), true);
            this.addInventDimensionMetadata(asProductVersionIdFieldName, sourceProductVersionIdFieldName, fieldNum(InventDim, InventVersionId));
        }

        if (isConfigurationkeyEnabled(configurationKeyNum(LogisticsBasic)))
        {
            FieldName sourceInventorySiteIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, InventorySiteId));
            FieldName asInventorySiteIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, InventorySiteId), true);
            this.addInventDimensionMetadata(asInventorySiteIdFieldName, sourceInventorySiteIdFieldName, fieldNum(InventDim, InventSiteId), true);

            FieldName sourceInventoryLocationIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemView, InventoryWarehouseId));
            FieldName asInventoryLocationIdFieldName = this.buildFieldName(inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary, fieldNum(InventWarehouseOnHandIncludingCWItemAggregatedView, InventoryWarehouseId), true);
            this.addInventDimensionMetadata(asInventoryLocationIdFieldName, sourceInventoryLocationIdFieldName, fieldNum(InventDim, InventLocationId), true);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>aggregationsToSelectFromInventReserve</Name>
				<Source><![CDATA[
    protected SysSQLStatementText aggregationsToSelectFromInventReserve()
    {
        SysSQLStatementText sqlStr  = super();
        return sqlStr + ', ' + this.whsCWAggregationsToSelectFromInventReserve();       
    }

]]></Source>
			</Method>
			<Method>
				<Name>zerosToSubstituteAggregationsFromInventReserve</Name>
				<Source><![CDATA[
    protected SysSQLStatementText zerosToSubstituteAggregationsFromInventReserve()
    {
        SysSQLStatementText sqlStr  = super();

        return sqlStr + ', ' + this.whsCWZerosToSubstituteAggregationsFromInventReserve();
    }

]]></Source>
			</Method>
			<Method>
				<Name>main</Name>
				<Source><![CDATA[
    /// <summary>
    /// Recreates the <c>InventWarehouseOnHandIncludingCWItemAggregatedView</c> view.
    /// </summary>
    /// <remarks>
    /// Can be used for testing purposes.
    /// </remarks>
    /// <param name = "_args">Method arguments.</param>
    public static void main(Args _args)
    {
        InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder::construct().createSqlObjects();
    }

]]></Source>
			</Method>
			<Method>
				<Name>new</Name>
				<Source><![CDATA[
    private void new()
    {
        super();

        this.whsInitInventReserveCWFullFieldsAlias();
        inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary = new SysDictView(tableNum(InventWarehouseOnHandIncludingCWItemAggregatedView));
        inventWarehouseOnHandIncludingCWItemViewDictionary = new SysDictView(tableNum(InventWarehouseOnHandIncludingCWItemView));
        aggregatedViewName = inventWarehouseOnHandIncludingCWItemAggregatedViewDictionary.name(DbBackend::Sql);
        
        this.initInventDimensionsMetadataEntries();

        this.initialize();
    }

]]></Source>
			</Method>
			<Method>
				<Name>construct</Name>
				<Source><![CDATA[
    internal static InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder construct()
    {
        return new InventWarehouseOnHandIncludingCWItemAggregatedViewBuilder();
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
</AxClass>