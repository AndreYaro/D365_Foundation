<?xml version="1.0" encoding="utf-8"?>
<AxClass xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>WHSInventReservePopulateParentInventDimId</Name>
	<SourceCode>
		<Declaration><![CDATA[
/// <summary>
/// Populates the <c>ParentInventDimId</c> field for a single item. This class is used by upgrade script.
/// </summary>
public final class WHSInventReservePopulateParentInventDimId
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>new</Name>
				<Source><![CDATA[
    protected void new()
    {
    }

]]></Source>
			</Method>
			<Method>
				<Name>populateForAllItems</Name>
				<Source><![CDATA[
    /// <summary>
    /// Populates the <c>ParentInventDimId</c> field for all items.
    /// </summary>
    public static void populateForAllItems()
    {
        var instance = new WHSInventReservePopulateParentInventDimId();

        WHSReservationHierarchy hierarchy;
        while select hierarchy
        {
            instance.populateForHierarchy(hierarchy);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>populateForItem</Name>
				<Source><![CDATA[
    /// <summary>
    /// Populates the <c>ParentInventDimId</c> field for an item up to the provided hierarchy level.
    /// </summary>
    /// <param name = "_inventTable">An item to update.</param>
    /// <param name = "_upToLevel">A maximum hierarchy level to look at. If want to update whole hierarchy, provide 0 as value.</param>
    internal static void populateForItem(InventTable _inventTable, WHSReservationHierarchyLevel _upToLevel = 0)
    {
        ttsbegin;

        var hierarchy = WhsReservationHierarchyProvider::construct().getDimListAllFromReservationHierarchy(
            WHSReservationHierarchy::find(_inventTable.whsReservationHierarchy()),
            WHSReservationHierarchySortOrder::BottomUp);

        var enumerator = hierarchy.getEnumerator();
        while (enumerator.moveNext())
        {
            WHSReservationHierarchyElementData level = enumerator.current();

            if (level.parmLevel() < _upToLevel)
            {
                break;
            }
            
            WHSInventReservePopulateParentInventDimId::populateForHierarchyLevelForItem(_inventTable.ItemId, level.parmLevel(), level.parmDimensionFieldId());
        }

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>populateForHierarchy</Name>
				<Source><![CDATA[
    private void populateForHierarchy(WHSReservationHierarchy _hierarchy)
    {
        ttsbegin;

        var hierarchy = WhsReservationHierarchyProvider::construct().getDimListAllFromReservationHierarchy(_hierarchy, WHSReservationHierarchySortOrder::BottomUp);
        var enumerator = hierarchy.getEnumerator();
        while (enumerator.moveNext())
        {
            WHSReservationHierarchyElementData level = enumerator.current();
            WHSReservationHierarchyLevel hierarchyLevel = level.parmLevel();
            FieldId fieldToClear = level.parmDimensionFieldId();
            
            this.populateForHierarchyLevel(_hierarchy, hierarchyLevel, fieldToClear);
        }

        ttscommit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>populateForHierarchyLevel</Name>
				<Source><![CDATA[
    private void populateForHierarchyLevel(WHSReservationHierarchy _reservationHierarchy, WHSReservationHierarchyLevel _level, FieldId _dimFieldId)
    {
        WHSInventReserve inventReserve;
        InventDim inventDimCurrent;
        InventDim inventDimParent;
        WHSReservationHierarchyItem hierarchyItem;
        #InventDimDevelop

        if (InventUseDimOfWHSInventReserveToggle::instance().isEnabled())
        {
            update_recordset inventReserve
                setting ParentInventDimId = inventDimParent.inventDimId
                where inventReserve.HierarchyLevel   == _level
                join hierarchyItem
                    where hierarchyItem.ReservationHierarchy == _reservationHierarchy.RecId
                        && hierarchyItem.ItemId == inventReserve.ItemId
                        && hierarchyItem.ItemDataAreaId == inventReserve.DataAreaId
                join inventDimParent
                    where  ((fieldNum(InventDim, ConfigId)           != _dimFieldId && inventDimParent.ConfigId           == inventReserve.ConfigId             ) || ( fieldNum(InventDim, ConfigId)           == _dimFieldId && inventDimParent.ConfigId           == InventDim::emptyDimField(fieldNum(InventDim, ConfigId))))
                        && ((fieldNum(InventDim, InventSizeId)       != _dimFieldId && inventDimParent.InventSizeId       == inventReserve.InventSizeId         ) || ( fieldNum(InventDim, InventSizeId)       == _dimFieldId && inventDimParent.InventSizeId       == InventDim::emptyDimField(fieldNum(InventDim, InventSizeId))))
                        && ((fieldNum(InventDim, InventColorId)      != _dimFieldId && inventDimParent.InventColorId      == inventReserve.InventColorId        ) || ( fieldNum(InventDim, InventColorId)      == _dimFieldId && inventDimParent.InventColorId      == InventDim::emptyDimField(fieldNum(InventDim, InventColorId))))
                        && ((fieldNum(InventDim, InventStyleId)      != _dimFieldId && inventDimParent.InventStyleId      == inventReserve.InventStyleId        ) || ( fieldNum(InventDim, InventStyleId)      == _dimFieldId && inventDimParent.InventStyleId      == InventDim::emptyDimField(fieldNum(InventDim, InventStyleId))))
                        && ((fieldNum(InventDim, InventVersionId)    != _dimFieldId && inventDimParent.InventVersionId    == inventReserve.InventVersionId        ) || ( fieldNum(InventDim, InventVersionId)      == _dimFieldId && inventDimParent.InventVersionId      == InventDim::emptyDimField(fieldNum(InventDim, InventVersionId))))
                        && ((fieldNum(InventDim, InventSiteId)       != _dimFieldId && inventDimParent.InventSiteId       == inventReserve.InventSiteId         ) || ( fieldNum(InventDim, InventSiteId)       == _dimFieldId && inventDimParent.InventSiteId       == InventDim::emptyDimField(fieldNum(InventDim, InventSiteId))))
                        && ((fieldNum(InventDim, InventLocationId)   != _dimFieldId && inventDimParent.InventLocationId   == inventReserve.InventLocationId     ) || ( fieldNum(InventDim, InventLocationId)   == _dimFieldId && inventDimParent.InventLocationId   == InventDim::emptyDimField(fieldNum(InventDim, InventLocationId))))
                        && ((fieldNum(InventDim, InventBatchId)      != _dimFieldId && inventDimParent.InventBatchId      == inventReserve.InventBatchId        ) || ( fieldNum(InventDim, InventBatchId)      == _dimFieldId && inventDimParent.InventBatchId      == InventDim::emptyDimField(fieldNum(InventDim, InventBatchId))))
                        && ((fieldNum(InventDim, WMSLocationId)      != _dimFieldId && inventDimParent.WMSLocationId      == inventReserve.WMSLocationId        ) || ( fieldNum(InventDim, WMSLocationId)      == _dimFieldId && inventDimParent.WMSLocationId      == InventDim::emptyDimField(fieldNum(InventDim, WMSLocationId))))
                        && ((fieldNum(InventDim, LicensePlateId)     != _dimFieldId && inventDimParent.LicensePlateId     == inventReserve.LicensePlateId       ) || ( fieldNum(InventDim, LicensePlateId)     == _dimFieldId && inventDimParent.LicensePlateId     == InventDim::emptyDimField(fieldNum(InventDim, LicensePlateId))))
                        && ((fieldNum(InventDim, InventStatusId)     != _dimFieldId && inventDimParent.InventStatusId     == inventReserve.InventStatusId       ) || ( fieldNum(InventDim, InventStatusId)     == _dimFieldId && inventDimParent.InventStatusId     == InventDim::emptyDimField(fieldNum(InventDim, InventStatusId))))
                        && ((fieldNum(InventDim, InventSerialId)     != _dimFieldId && inventDimParent.InventSerialId     == inventReserve.InventSerialId       ) || ( fieldNum(InventDim, InventSerialId)     == _dimFieldId && inventDimParent.InventSerialId     == InventDim::emptyDimField(fieldNum(InventDim, InventSerialId))))
                        && ((fieldNum(InventDim, InventDimension1)   != _dimFieldId && inventDimParent.InventDimension1   == inventReserve.InventDimension1     ) || ( fieldNum(InventDim, InventDimension1)   == _dimFieldId && inventDimParent.InventDimension1   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension1))))
                        && ((fieldNum(InventDim, InventDimension2)   != _dimFieldId && inventDimParent.InventDimension2   == inventReserve.InventDimension2     ) || ( fieldNum(InventDim, InventDimension2)   == _dimFieldId && inventDimParent.InventDimension2   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension2))))
                        && ((fieldNum(InventDim, InventDimension3)   != _dimFieldId && inventDimParent.InventDimension3   == inventReserve.InventDimension3     ) || ( fieldNum(InventDim, InventDimension3)   == _dimFieldId && inventDimParent.InventDimension3   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension3))))
                        && ((fieldNum(InventDim, InventDimension4)   != _dimFieldId && inventDimParent.InventDimension4   == inventReserve.InventDimension4     ) || ( fieldNum(InventDim, InventDimension4)   == _dimFieldId && inventDimParent.InventDimension4   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension4))))
                        && ((fieldNum(InventDim, InventDimension5)   != _dimFieldId && inventDimParent.InventDimension5   == inventReserve.InventDimension5     ) || ( fieldNum(InventDim, InventDimension5)   == _dimFieldId && inventDimParent.InventDimension5   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension5))))
                        && ((fieldNum(InventDim, InventDimension6)   != _dimFieldId && inventDimParent.InventDimension6   == inventReserve.InventDimension6     ) || ( fieldNum(InventDim, InventDimension6)   == _dimFieldId && inventDimParent.InventDimension6   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension6))))
                        && ((fieldNum(InventDim, InventDimension7)   != _dimFieldId && inventDimParent.InventDimension7   == inventReserve.InventDimension7     ) || ( fieldNum(InventDim, InventDimension7)   == _dimFieldId && inventDimParent.InventDimension7   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension7))))
                        && ((fieldNum(InventDim, InventDimension8)   != _dimFieldId && inventDimParent.InventDimension8   == inventReserve.InventDimension8     ) || ( fieldNum(InventDim, InventDimension8)   == _dimFieldId && inventDimParent.InventDimension8   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension8))))
                        && ((fieldNum(InventDim, InventDimension11)  != _dimFieldId && inventDimParent.InventDimension11  == inventReserve.InventDimension11     ) || ( fieldNum(InventDim, InventDimension11)   == _dimFieldId && inventDimParent.InventDimension11   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension11))))
                        && ((fieldNum(InventDim, InventDimension12)  != _dimFieldId && inventDimParent.InventDimension12  == inventReserve.InventDimension12     ) || ( fieldNum(InventDim, InventDimension12)   == _dimFieldId && inventDimParent.InventDimension12   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension12))))
                        && ((fieldNum(InventDim, InventDimension9)   != _dimFieldId && inventDimParent.InventDimension9   == inventReserve.InventDimension9     ) || ( fieldNum(InventDim, InventDimension9)   == _dimFieldId && inventDimParent.InventDimension9   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension9))))
                        && ((fieldNum(InventDim, InventDimension10)  != _dimFieldId && inventDimParent.InventDimension10  == inventReserve.InventDimension10    ) || ( fieldNum(InventDim, InventDimension10)  == _dimFieldId && inventDimParent.InventDimension10  == InventDim::emptyDimField(fieldNum(InventDim, InventDimension10))))
                        && ((fieldNum(InventDim, InventGTDId_RU)     != _dimFieldId && inventDimParent.InventGTDId_RU     == inventReserve.InventGTDId_RU       ) || ( fieldNum(InventDim, InventGTDId_RU)     == _dimFieldId && inventDimParent.InventGTDId_RU     == InventDim::emptyDimField(fieldNum(InventDim, InventGTDId_RU))))
                        && ((fieldNum(InventDim, InventProfileId_RU) != _dimFieldId && inventDimParent.InventProfileId_RU == inventReserve.InventProfileId_RU   ) || ( fieldNum(InventDim, InventProfileId_RU) == _dimFieldId && inventDimParent.InventProfileId_RU == InventDim::emptyDimField(fieldNum(InventDim, InventProfileId_RU))))
                        && ((fieldNum(InventDim, InventOwnerId_RU)   != _dimFieldId && inventDimParent.InventOwnerId_RU   == inventReserve.InventOwnerId_RU     ) || ( fieldNum(InventDim, InventOwnerId_RU)   == _dimFieldId && inventDimParent.InventOwnerId_RU   == InventDim::emptyDimField(fieldNum(InventDim, InventOwnerId_RU))));
        }
        else
        {
            update_recordset inventReserve
                setting ParentInventDimId = inventDimParent.inventDimId
                where inventReserve.HierarchyLevel   == _level
                join hierarchyItem
                    where hierarchyItem.ReservationHierarchy == _reservationHierarchy.RecId
                        && hierarchyItem.ItemId == inventReserve.ItemId
                        && hierarchyItem.ItemDataAreaId == inventReserve.DataAreaId
                join inventDimCurrent
                    where inventDimCurrent.inventDimId == inventReserve.InventDimId
                join inventDimParent
                    where  ((fieldNum(InventDim, ConfigId)           != _dimFieldId && inventDimParent.ConfigId           == inventDimCurrent.ConfigId             ) || ( fieldNum(InventDim, ConfigId)           == _dimFieldId && inventDimParent.ConfigId           == InventDim::emptyDimField(fieldNum(InventDim, ConfigId))))
                        && ((fieldNum(InventDim, InventSizeId)       != _dimFieldId && inventDimParent.InventSizeId       == inventDimCurrent.InventSizeId         ) || ( fieldNum(InventDim, InventSizeId)       == _dimFieldId && inventDimParent.InventSizeId       == InventDim::emptyDimField(fieldNum(InventDim, InventSizeId))))
                        && ((fieldNum(InventDim, InventColorId)      != _dimFieldId && inventDimParent.InventColorId      == inventDimCurrent.InventColorId        ) || ( fieldNum(InventDim, InventColorId)      == _dimFieldId && inventDimParent.InventColorId      == InventDim::emptyDimField(fieldNum(InventDim, InventColorId))))
                        && ((fieldNum(InventDim, InventStyleId)      != _dimFieldId && inventDimParent.InventStyleId      == inventDimCurrent.InventStyleId        ) || ( fieldNum(InventDim, InventStyleId)      == _dimFieldId && inventDimParent.InventStyleId      == InventDim::emptyDimField(fieldNum(InventDim, InventStyleId))))
                        && ((fieldNum(InventDim, InventVersionId)      != _dimFieldId && inventDimParent.InventVersionId      == inventDimCurrent.InventVersionId        ) || ( fieldNum(InventDim, InventVersionId)      == _dimFieldId && inventDimParent.InventVersionId      == InventDim::emptyDimField(fieldNum(InventDim, InventVersionId))))
                        && ((fieldNum(InventDim, InventSiteId)       != _dimFieldId && inventDimParent.InventSiteId       == inventDimCurrent.InventSiteId         ) || ( fieldNum(InventDim, InventSiteId)       == _dimFieldId && inventDimParent.InventSiteId       == InventDim::emptyDimField(fieldNum(InventDim, InventSiteId))))
                        && ((fieldNum(InventDim, InventLocationId)   != _dimFieldId && inventDimParent.InventLocationId   == inventDimCurrent.InventLocationId     ) || ( fieldNum(InventDim, InventLocationId)   == _dimFieldId && inventDimParent.InventLocationId   == InventDim::emptyDimField(fieldNum(InventDim, InventLocationId))))
                        && ((fieldNum(InventDim, InventBatchId)      != _dimFieldId && inventDimParent.InventBatchId      == inventDimCurrent.InventBatchId        ) || ( fieldNum(InventDim, InventBatchId)      == _dimFieldId && inventDimParent.InventBatchId      == InventDim::emptyDimField(fieldNum(InventDim, InventBatchId))))
                        && ((fieldNum(InventDim, WMSLocationId)      != _dimFieldId && inventDimParent.WMSLocationId      == inventDimCurrent.WMSLocationId        ) || ( fieldNum(InventDim, WMSLocationId)      == _dimFieldId && inventDimParent.WMSLocationId      == InventDim::emptyDimField(fieldNum(InventDim, WMSLocationId))))
                        && ((fieldNum(InventDim, LicensePlateId)     != _dimFieldId && inventDimParent.LicensePlateId     == inventDimCurrent.LicensePlateId       ) || ( fieldNum(InventDim, LicensePlateId)     == _dimFieldId && inventDimParent.LicensePlateId     == InventDim::emptyDimField(fieldNum(InventDim, LicensePlateId))))
                        && ((fieldNum(InventDim, InventStatusId)     != _dimFieldId && inventDimParent.InventStatusId     == inventDimCurrent.InventStatusId       ) || ( fieldNum(InventDim, InventStatusId)     == _dimFieldId && inventDimParent.InventStatusId     == InventDim::emptyDimField(fieldNum(InventDim, InventStatusId))))
                        && ((fieldNum(InventDim, InventSerialId)     != _dimFieldId && inventDimParent.InventSerialId     == inventDimCurrent.InventSerialId       ) || ( fieldNum(InventDim, InventSerialId)     == _dimFieldId && inventDimParent.InventSerialId     == InventDim::emptyDimField(fieldNum(InventDim, InventSerialId))))
                        && ((fieldNum(InventDim, InventDimension1)   != _dimFieldId && inventDimParent.InventDimension1   == inventDimCurrent.InventDimension1     ) || ( fieldNum(InventDim, InventDimension1)   == _dimFieldId && inventDimParent.InventDimension1   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension1))))
                        && ((fieldNum(InventDim, InventDimension2)   != _dimFieldId && inventDimParent.InventDimension2   == inventDimCurrent.InventDimension2     ) || ( fieldNum(InventDim, InventDimension2)   == _dimFieldId && inventDimParent.InventDimension2   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension2))))
                        && ((fieldNum(InventDim, InventDimension3)   != _dimFieldId && inventDimParent.InventDimension3   == inventDimCurrent.InventDimension3     ) || ( fieldNum(InventDim, InventDimension3)   == _dimFieldId && inventDimParent.InventDimension3   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension3))))
                        && ((fieldNum(InventDim, InventDimension4)   != _dimFieldId && inventDimParent.InventDimension4   == inventDimCurrent.InventDimension4     ) || ( fieldNum(InventDim, InventDimension4)   == _dimFieldId && inventDimParent.InventDimension4   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension4))))
                        && ((fieldNum(InventDim, InventDimension5)   != _dimFieldId && inventDimParent.InventDimension5   == inventDimCurrent.InventDimension5     ) || ( fieldNum(InventDim, InventDimension5)   == _dimFieldId && inventDimParent.InventDimension5   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension5))))
                        && ((fieldNum(InventDim, InventDimension6)   != _dimFieldId && inventDimParent.InventDimension6   == inventDimCurrent.InventDimension6     ) || ( fieldNum(InventDim, InventDimension6)   == _dimFieldId && inventDimParent.InventDimension6   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension6))))
                        && ((fieldNum(InventDim, InventDimension7)   != _dimFieldId && inventDimParent.InventDimension7   == inventDimCurrent.InventDimension7     ) || ( fieldNum(InventDim, InventDimension7)   == _dimFieldId && inventDimParent.InventDimension7   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension7))))
                        && ((fieldNum(InventDim, InventDimension8)   != _dimFieldId && inventDimParent.InventDimension8   == inventDimCurrent.InventDimension8     ) || ( fieldNum(InventDim, InventDimension8)   == _dimFieldId && inventDimParent.InventDimension8   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension8))))
                        && ((fieldNum(InventDim, InventDimension11)   != _dimFieldId && inventDimParent.InventDimension11   == inventDimCurrent.InventDimension11     ) || ( fieldNum(InventDim, InventDimension11)   == _dimFieldId && inventDimParent.InventDimension11   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension11))))
                        && ((fieldNum(InventDim, InventDimension12)   != _dimFieldId && inventDimParent.InventDimension12   == inventDimCurrent.InventDimension12     ) || ( fieldNum(InventDim, InventDimension12)   == _dimFieldId && inventDimParent.InventDimension12   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension12))))
                        && ((fieldNum(InventDim, InventDimension9)   != _dimFieldId && inventDimParent.InventDimension9   == inventDimCurrent.InventDimension9     ) || ( fieldNum(InventDim, InventDimension9)   == _dimFieldId && inventDimParent.InventDimension9   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension9))))
                        && ((fieldNum(InventDim, InventDimension10)  != _dimFieldId && inventDimParent.InventDimension10  == inventDimCurrent.InventDimension10    ) || ( fieldNum(InventDim, InventDimension10)  == _dimFieldId && inventDimParent.InventDimension10  == InventDim::emptyDimField(fieldNum(InventDim, InventDimension10))))
                        && ((fieldNum(InventDim, InventGTDId_RU)     != _dimFieldId && inventDimParent.InventGTDId_RU     == inventDimCurrent.InventGTDId_RU       ) || ( fieldNum(InventDim, InventGTDId_RU)     == _dimFieldId && inventDimParent.InventGTDId_RU     == InventDim::emptyDimField(fieldNum(InventDim, InventGTDId_RU))))
                        && ((fieldNum(InventDim, InventProfileId_RU) != _dimFieldId && inventDimParent.InventProfileId_RU == inventDimCurrent.InventProfileId_RU   ) || ( fieldNum(InventDim, InventProfileId_RU) == _dimFieldId && inventDimParent.InventProfileId_RU == InventDim::emptyDimField(fieldNum(InventDim, InventProfileId_RU))))
                        && ((fieldNum(InventDim, InventOwnerId_RU)   != _dimFieldId && inventDimParent.InventOwnerId_RU   == inventDimCurrent.InventOwnerId_RU     ) || ( fieldNum(InventDim, InventOwnerId_RU)   == _dimFieldId && inventDimParent.InventOwnerId_RU   == InventDim::emptyDimField(fieldNum(InventDim, InventOwnerId_RU))));
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>populateForHierarchyLevelForItem</Name>
				<Source><![CDATA[
    private static void populateForHierarchyLevelForItem(ItemId _itemId, WHSReservationHierarchyLevel _level, FieldId _dimFieldId)
    {
        WHSInventReserve inventReserve;
        InventDim inventDimCurrent;
        InventDim inventDimParent;
        #InventDimDevelop

        if (InventUseDimOfWHSInventReserveToggle::instance().isEnabled())
        {
            update_recordset inventReserve
            setting ParentInventDimId = inventDimParent.inventDimId
            where  inventReserve.HierarchyLevel == _level
                && inventReserve.ItemId         == _itemId
            join inventDimParent
                where  ((fieldNum(InventDim, ConfigId)           != _dimFieldId && inventDimParent.ConfigId           == inventReserve.ConfigId             ) || ( fieldNum(InventDim, ConfigId)           == _dimFieldId && inventDimParent.ConfigId           == InventDim::emptyDimField(fieldNum(InventDim, ConfigId))))
                    && ((fieldNum(InventDim, InventSizeId)       != _dimFieldId && inventDimParent.InventSizeId       == inventReserve.InventSizeId         ) || ( fieldNum(InventDim, InventSizeId)       == _dimFieldId && inventDimParent.InventSizeId       == InventDim::emptyDimField(fieldNum(InventDim, InventSizeId))))
                    && ((fieldNum(InventDim, InventColorId)      != _dimFieldId && inventDimParent.InventColorId      == inventReserve.InventColorId        ) || ( fieldNum(InventDim, InventColorId)      == _dimFieldId && inventDimParent.InventColorId      == InventDim::emptyDimField(fieldNum(InventDim, InventColorId))))
                    && ((fieldNum(InventDim, InventStyleId)      != _dimFieldId && inventDimParent.InventStyleId      == inventReserve.InventStyleId        ) || ( fieldNum(InventDim, InventStyleId)      == _dimFieldId && inventDimParent.InventStyleId      == InventDim::emptyDimField(fieldNum(InventDim, InventStyleId))))
                    && ((fieldNum(InventDim, InventVersionId)      != _dimFieldId && inventDimParent.InventVersionId      == inventReserve.InventVersionId        ) || ( fieldNum(InventDim, InventVersionId)      == _dimFieldId && inventDimParent.InventVersionId      == InventDim::emptyDimField(fieldNum(InventDim, InventVersionId))))
                    && ((fieldNum(InventDim, InventSiteId)       != _dimFieldId && inventDimParent.InventSiteId       == inventReserve.InventSiteId         ) || ( fieldNum(InventDim, InventSiteId)       == _dimFieldId && inventDimParent.InventSiteId       == InventDim::emptyDimField(fieldNum(InventDim, InventSiteId))))
                    && ((fieldNum(InventDim, InventLocationId)   != _dimFieldId && inventDimParent.InventLocationId   == inventReserve.InventLocationId     ) || ( fieldNum(InventDim, InventLocationId)   == _dimFieldId && inventDimParent.InventLocationId   == InventDim::emptyDimField(fieldNum(InventDim, InventLocationId))))
                    && ((fieldNum(InventDim, InventBatchId)      != _dimFieldId && inventDimParent.InventBatchId      == inventReserve.InventBatchId        ) || ( fieldNum(InventDim, InventBatchId)      == _dimFieldId && inventDimParent.InventBatchId      == InventDim::emptyDimField(fieldNum(InventDim, InventBatchId))))
                    && ((fieldNum(InventDim, WMSLocationId)      != _dimFieldId && inventDimParent.WMSLocationId      == inventReserve.WMSLocationId        ) || ( fieldNum(InventDim, WMSLocationId)      == _dimFieldId && inventDimParent.WMSLocationId      == InventDim::emptyDimField(fieldNum(InventDim, WMSLocationId))))
                    && ((fieldNum(InventDim, LicensePlateId)     != _dimFieldId && inventDimParent.LicensePlateId     == inventReserve.LicensePlateId       ) || ( fieldNum(InventDim, LicensePlateId)     == _dimFieldId && inventDimParent.LicensePlateId     == InventDim::emptyDimField(fieldNum(InventDim, LicensePlateId))))
                    && ((fieldNum(InventDim, InventStatusId)     != _dimFieldId && inventDimParent.InventStatusId     == inventReserve.InventStatusId       ) || ( fieldNum(InventDim, InventStatusId)     == _dimFieldId && inventDimParent.InventStatusId     == InventDim::emptyDimField(fieldNum(InventDim, InventStatusId))))
                    && ((fieldNum(InventDim, InventSerialId)     != _dimFieldId && inventDimParent.InventSerialId     == inventReserve.InventSerialId       ) || ( fieldNum(InventDim, InventSerialId)     == _dimFieldId && inventDimParent.InventSerialId     == InventDim::emptyDimField(fieldNum(InventDim, InventSerialId))))
                    && ((fieldNum(InventDim, InventDimension1)   != _dimFieldId && inventDimParent.InventDimension1   == inventReserve.InventDimension1     ) || ( fieldNum(InventDim, InventDimension1)   == _dimFieldId && inventDimParent.InventDimension1   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension1))))
                    && ((fieldNum(InventDim, InventDimension2)   != _dimFieldId && inventDimParent.InventDimension2   == inventReserve.InventDimension2     ) || ( fieldNum(InventDim, InventDimension2)   == _dimFieldId && inventDimParent.InventDimension2   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension2))))
                    && ((fieldNum(InventDim, InventDimension3)   != _dimFieldId && inventDimParent.InventDimension3   == inventReserve.InventDimension3     ) || ( fieldNum(InventDim, InventDimension3)   == _dimFieldId && inventDimParent.InventDimension3   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension3))))
                    && ((fieldNum(InventDim, InventDimension4)   != _dimFieldId && inventDimParent.InventDimension4   == inventReserve.InventDimension4     ) || ( fieldNum(InventDim, InventDimension4)   == _dimFieldId && inventDimParent.InventDimension4   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension4))))
                    && ((fieldNum(InventDim, InventDimension5)   != _dimFieldId && inventDimParent.InventDimension5   == inventReserve.InventDimension5     ) || ( fieldNum(InventDim, InventDimension5)   == _dimFieldId && inventDimParent.InventDimension5   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension5))))
                    && ((fieldNum(InventDim, InventDimension6)   != _dimFieldId && inventDimParent.InventDimension6   == inventReserve.InventDimension6     ) || ( fieldNum(InventDim, InventDimension6)   == _dimFieldId && inventDimParent.InventDimension6   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension6))))
                    && ((fieldNum(InventDim, InventDimension7)   != _dimFieldId && inventDimParent.InventDimension7   == inventReserve.InventDimension7     ) || ( fieldNum(InventDim, InventDimension7)   == _dimFieldId && inventDimParent.InventDimension7   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension7))))
                    && ((fieldNum(InventDim, InventDimension8)   != _dimFieldId && inventDimParent.InventDimension8   == inventReserve.InventDimension8     ) || ( fieldNum(InventDim, InventDimension8)   == _dimFieldId && inventDimParent.InventDimension8   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension8))))
                    && ((fieldNum(InventDim, InventDimension11)   != _dimFieldId && inventDimParent.InventDimension11   == inventReserve.InventDimension11     ) || ( fieldNum(InventDim, InventDimension11)   == _dimFieldId && inventDimParent.InventDimension11   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension11))))
                    && ((fieldNum(InventDim, InventDimension12)   != _dimFieldId && inventDimParent.InventDimension12   == inventReserve.InventDimension12     ) || ( fieldNum(InventDim, InventDimension12)   == _dimFieldId && inventDimParent.InventDimension12   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension12))))
                    && ((fieldNum(InventDim, InventDimension9)   != _dimFieldId && inventDimParent.InventDimension9   == inventReserve.InventDimension9     ) || ( fieldNum(InventDim, InventDimension9)   == _dimFieldId && inventDimParent.InventDimension9   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension9))))
                    && ((fieldNum(InventDim, InventDimension10)  != _dimFieldId && inventDimParent.InventDimension10  == inventReserve.InventDimension10    ) || ( fieldNum(InventDim, InventDimension10)  == _dimFieldId && inventDimParent.InventDimension10  == InventDim::emptyDimField(fieldNum(InventDim, InventDimension10))))
                    && ((fieldNum(InventDim, InventGTDId_RU)     != _dimFieldId && inventDimParent.InventGTDId_RU     == inventReserve.InventGTDId_RU       ) || ( fieldNum(InventDim, InventGTDId_RU)     == _dimFieldId && inventDimParent.InventGTDId_RU     == InventDim::emptyDimField(fieldNum(InventDim, InventGTDId_RU))))
                    && ((fieldNum(InventDim, InventProfileId_RU) != _dimFieldId && inventDimParent.InventProfileId_RU == inventReserve.InventProfileId_RU   ) || ( fieldNum(InventDim, InventProfileId_RU) == _dimFieldId && inventDimParent.InventProfileId_RU == InventDim::emptyDimField(fieldNum(InventDim, InventProfileId_RU))))
                    && ((fieldNum(InventDim, InventOwnerId_RU)   != _dimFieldId && inventDimParent.InventOwnerId_RU   == inventReserve.InventOwnerId_RU     ) || ( fieldNum(InventDim, InventOwnerId_RU)   == _dimFieldId && inventDimParent.InventOwnerId_RU   == InventDim::emptyDimField(fieldNum(InventDim, InventOwnerId_RU))));
        }
        else
        {
            update_recordset inventReserve
            setting ParentInventDimId = inventDimParent.inventDimId
            where  inventReserve.HierarchyLevel == _level
                && inventReserve.ItemId         == _itemId
            join inventDimCurrent
                where inventDimCurrent.inventDimId == inventReserve.InventDimId
            join inventDimParent
                where  ((fieldNum(InventDim, ConfigId)           != _dimFieldId && inventDimParent.ConfigId           == inventDimCurrent.ConfigId             ) || ( fieldNum(InventDim, ConfigId)           == _dimFieldId && inventDimParent.ConfigId           == InventDim::emptyDimField(fieldNum(InventDim, ConfigId))))
                    && ((fieldNum(InventDim, InventSizeId)       != _dimFieldId && inventDimParent.InventSizeId       == inventDimCurrent.InventSizeId         ) || ( fieldNum(InventDim, InventSizeId)       == _dimFieldId && inventDimParent.InventSizeId       == InventDim::emptyDimField(fieldNum(InventDim, InventSizeId))))
                    && ((fieldNum(InventDim, InventColorId)      != _dimFieldId && inventDimParent.InventColorId      == inventDimCurrent.InventColorId        ) || ( fieldNum(InventDim, InventColorId)      == _dimFieldId && inventDimParent.InventColorId      == InventDim::emptyDimField(fieldNum(InventDim, InventColorId))))
                    && ((fieldNum(InventDim, InventStyleId)      != _dimFieldId && inventDimParent.InventStyleId      == inventDimCurrent.InventStyleId        ) || ( fieldNum(InventDim, InventStyleId)      == _dimFieldId && inventDimParent.InventStyleId      == InventDim::emptyDimField(fieldNum(InventDim, InventStyleId))))
                    && ((fieldNum(InventDim, InventVersionId)      != _dimFieldId && inventDimParent.InventVersionId      == inventDimCurrent.InventVersionId        ) || ( fieldNum(InventDim, InventVersionId)      == _dimFieldId && inventDimParent.InventVersionId      == InventDim::emptyDimField(fieldNum(InventDim, InventVersionId))))
                    && ((fieldNum(InventDim, InventSiteId)       != _dimFieldId && inventDimParent.InventSiteId       == inventDimCurrent.InventSiteId         ) || ( fieldNum(InventDim, InventSiteId)       == _dimFieldId && inventDimParent.InventSiteId       == InventDim::emptyDimField(fieldNum(InventDim, InventSiteId))))
                    && ((fieldNum(InventDim, InventLocationId)   != _dimFieldId && inventDimParent.InventLocationId   == inventDimCurrent.InventLocationId     ) || ( fieldNum(InventDim, InventLocationId)   == _dimFieldId && inventDimParent.InventLocationId   == InventDim::emptyDimField(fieldNum(InventDim, InventLocationId))))
                    && ((fieldNum(InventDim, InventBatchId)      != _dimFieldId && inventDimParent.InventBatchId      == inventDimCurrent.InventBatchId        ) || ( fieldNum(InventDim, InventBatchId)      == _dimFieldId && inventDimParent.InventBatchId      == InventDim::emptyDimField(fieldNum(InventDim, InventBatchId))))
                    && ((fieldNum(InventDim, WMSLocationId)      != _dimFieldId && inventDimParent.WMSLocationId      == inventDimCurrent.WMSLocationId        ) || ( fieldNum(InventDim, WMSLocationId)      == _dimFieldId && inventDimParent.WMSLocationId      == InventDim::emptyDimField(fieldNum(InventDim, WMSLocationId))))
                    && ((fieldNum(InventDim, LicensePlateId)     != _dimFieldId && inventDimParent.LicensePlateId     == inventDimCurrent.LicensePlateId       ) || ( fieldNum(InventDim, LicensePlateId)     == _dimFieldId && inventDimParent.LicensePlateId     == InventDim::emptyDimField(fieldNum(InventDim, LicensePlateId))))
                    && ((fieldNum(InventDim, InventStatusId)     != _dimFieldId && inventDimParent.InventStatusId     == inventDimCurrent.InventStatusId       ) || ( fieldNum(InventDim, InventStatusId)     == _dimFieldId && inventDimParent.InventStatusId     == InventDim::emptyDimField(fieldNum(InventDim, InventStatusId))))
                    && ((fieldNum(InventDim, InventSerialId)     != _dimFieldId && inventDimParent.InventSerialId     == inventDimCurrent.InventSerialId       ) || ( fieldNum(InventDim, InventSerialId)     == _dimFieldId && inventDimParent.InventSerialId     == InventDim::emptyDimField(fieldNum(InventDim, InventSerialId))))
                    && ((fieldNum(InventDim, InventDimension1)   != _dimFieldId && inventDimParent.InventDimension1   == inventDimCurrent.InventDimension1     ) || ( fieldNum(InventDim, InventDimension1)   == _dimFieldId && inventDimParent.InventDimension1   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension1))))
                    && ((fieldNum(InventDim, InventDimension2)   != _dimFieldId && inventDimParent.InventDimension2   == inventDimCurrent.InventDimension2     ) || ( fieldNum(InventDim, InventDimension2)   == _dimFieldId && inventDimParent.InventDimension2   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension2))))
                    && ((fieldNum(InventDim, InventDimension3)   != _dimFieldId && inventDimParent.InventDimension3   == inventDimCurrent.InventDimension3     ) || ( fieldNum(InventDim, InventDimension3)   == _dimFieldId && inventDimParent.InventDimension3   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension3))))
                    && ((fieldNum(InventDim, InventDimension4)   != _dimFieldId && inventDimParent.InventDimension4   == inventDimCurrent.InventDimension4     ) || ( fieldNum(InventDim, InventDimension4)   == _dimFieldId && inventDimParent.InventDimension4   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension4))))
                    && ((fieldNum(InventDim, InventDimension5)   != _dimFieldId && inventDimParent.InventDimension5   == inventDimCurrent.InventDimension5     ) || ( fieldNum(InventDim, InventDimension5)   == _dimFieldId && inventDimParent.InventDimension5   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension5))))
                    && ((fieldNum(InventDim, InventDimension6)   != _dimFieldId && inventDimParent.InventDimension6   == inventDimCurrent.InventDimension6     ) || ( fieldNum(InventDim, InventDimension6)   == _dimFieldId && inventDimParent.InventDimension6   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension6))))
                    && ((fieldNum(InventDim, InventDimension7)   != _dimFieldId && inventDimParent.InventDimension7   == inventDimCurrent.InventDimension7     ) || ( fieldNum(InventDim, InventDimension7)   == _dimFieldId && inventDimParent.InventDimension7   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension7))))
                    && ((fieldNum(InventDim, InventDimension8)   != _dimFieldId && inventDimParent.InventDimension8   == inventDimCurrent.InventDimension8     ) || ( fieldNum(InventDim, InventDimension8)   == _dimFieldId && inventDimParent.InventDimension8   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension8))))
                    && ((fieldNum(InventDim, InventDimension11)   != _dimFieldId && inventDimParent.InventDimension11   == inventDimCurrent.InventDimension11     ) || ( fieldNum(InventDim, InventDimension11)   == _dimFieldId && inventDimParent.InventDimension11   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension11))))
                    && ((fieldNum(InventDim, InventDimension12)   != _dimFieldId && inventDimParent.InventDimension12   == inventDimCurrent.InventDimension12     ) || ( fieldNum(InventDim, InventDimension12)   == _dimFieldId && inventDimParent.InventDimension12   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension12))))
                    && ((fieldNum(InventDim, InventDimension9)   != _dimFieldId && inventDimParent.InventDimension9   == inventDimCurrent.InventDimension9     ) || ( fieldNum(InventDim, InventDimension9)   == _dimFieldId && inventDimParent.InventDimension9   == InventDim::emptyDimField(fieldNum(InventDim, InventDimension9))))
                    && ((fieldNum(InventDim, InventDimension10)  != _dimFieldId && inventDimParent.InventDimension10  == inventDimCurrent.InventDimension10    ) || ( fieldNum(InventDim, InventDimension10)  == _dimFieldId && inventDimParent.InventDimension10  == InventDim::emptyDimField(fieldNum(InventDim, InventDimension10))))
                    && ((fieldNum(InventDim, InventGTDId_RU)     != _dimFieldId && inventDimParent.InventGTDId_RU     == inventDimCurrent.InventGTDId_RU       ) || ( fieldNum(InventDim, InventGTDId_RU)     == _dimFieldId && inventDimParent.InventGTDId_RU     == InventDim::emptyDimField(fieldNum(InventDim, InventGTDId_RU))))
                    && ((fieldNum(InventDim, InventProfileId_RU) != _dimFieldId && inventDimParent.InventProfileId_RU == inventDimCurrent.InventProfileId_RU   ) || ( fieldNum(InventDim, InventProfileId_RU) == _dimFieldId && inventDimParent.InventProfileId_RU == InventDim::emptyDimField(fieldNum(InventDim, InventProfileId_RU))))
                    && ((fieldNum(InventDim, InventOwnerId_RU)   != _dimFieldId && inventDimParent.InventOwnerId_RU   == inventDimCurrent.InventOwnerId_RU     ) || ( fieldNum(InventDim, InventOwnerId_RU)   == _dimFieldId && inventDimParent.InventOwnerId_RU   == InventDim::emptyDimField(fieldNum(InventDim, InventOwnerId_RU))));
        }
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
</AxClass>