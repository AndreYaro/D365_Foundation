<?xml version="1.0" encoding="utf-8"?>
<AxClass xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>EcoResProductVariantsSystemHelper</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class EcoResProductVariantsSystemHelper extends EcoResProductVariantsFormHelper
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>handleFormStateForVariant</Name>
				<Source><![CDATA[
    /// <summary>
    ///    Handles the form control states based on the specified distinct product variant.
    /// </summary>
    /// <param name="_distinctProductVariantRecId">
    ///    The <c>EcoResDistinctProductVariantRecId</c> value.
    /// </param>
    public void handleFormStateForVariant(EcoResDistinctProductVariantRecId _distinctProductVariantRecId)
    {
        int                     dsIndex;
        boolean                 enable = this.parmIsOpenedForSingleProduct() && !this.isDefaultConfigurationVariant(_distinctProductVariantRecId);

        super(_distinctProductVariantRecId);

        formRun.design().controlName(formControlStr(EcoResProductVariants, EcoResProductVariantCreationMgr)).enabled(enable);

        int dsCount = formRun.dataSourceCount();

        //Do not allow create/delete for Retail Kits, variants are auto-generated by RetailKitConfigure.
        if (!this.parmIsRetailKit())
        {
            // find ecoResDistinctProductVariant data source
            for (dsIndex = 1; dsIndex <= dsCount; ++dsIndex)
            {
                FormDataSource productVariantDS = formRun.dataSource(dsIndex);
                if (productVariantDS.cursor() is EcoResDistinctProductVariant)
                {
                    productVariantDS.allowCreate(enable);
                    productVariantDS.allowDelete(enable);
                }
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>construct</Name>
				<Source><![CDATA[
    public static EcoResProductVariantsSystemHelper construct()
    {
        return new EcoResProductVariantsSystemHelper();
    }

]]></Source>
			</Method>
			<Method>
				<Name>newFromFormRun</Name>
				<Source><![CDATA[
    /// <summary>
    ///     Creates a new instance and initializes it with a <c>FormRun</c> object.
    /// </summary>
    /// <param name="_formRun">
    ///     Specifies a <c>FormRun</c> instance for which the instance is to be created.
    /// </param>
    /// <returns>
    ///     A new instance of the <c>EcoResProductVariantsSystemHelper</c> class.
    /// </returns>
    public static EcoResProductVariantsSystemHelper newFromFormRun(FormRun _formRun)
    {
        EcoResProductVariantsSystemHelper productVariantsSystemHelper = EcoResProductVariantsSystemHelper::construct();
        productVariantsSystemHelper.parmFormRun(_formRun);
        productVariantsSystemHelper.parmEcoResProductMaster(EcoResProductMaster::getProductMasterFromCaller(_formRun.args(), false));
        productVariantsSystemHelper.parmIsOpenedForSingleProduct(productVariantsSystemHelper.parmEcoResProductMaster().RecId);

        return productVariantsSystemHelper;
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
</AxClass>
